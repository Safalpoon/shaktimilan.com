(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1187:function(t,e,n){"use strict";n.r(e);var o=n(2),r=(n(11),n(6),n(12),n(13),n(8),n(4),n(7),n(1)),c=n(25);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"BottomFloatBtn",props:{currentLocationKey:{type:String,required:!0}},activated:function(){this.handleExposure(),this.handleScroll(),window.addEventListener("scroll",this.handleScroll)},deactivated:function(){this.SET_BOTTOM_FLOAT_BTN_OFFSET_BOTTOM(0),window.removeEventListener("scroll",this.handleScroll)},mounted:function(){this.handleExposure(),this.handleScroll(),window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){this.SET_BOTTOM_FLOAT_BTN_OFFSET_BOTTOM(0),window.removeEventListener("scroll",this.handleScroll)},data:function(){return{isPopup:!1,isFoldRight:!1}},computed:d(d(d({},Object(r.e)("app",["ABInfo"])),Object(r.c)("user",["isToDoDailyPostTask"])),{},{btnInfo:function(){var t,e=this;return{home:{title:this.$t("create_and_post"),isShow:"B"===(null===(t=this.ABInfo)||void 0===t?void 0:t.inspiration_floating_button_traffic_control),mode:"popup",isShowIndicator:this.isToDoDailyPostTask,logEventField:"bottom_go_contribution_btn",clickFn:function(){return e.$EventBus.$emit("openContribution")}},home_post:{title:this.$t("create_and_post"),isShow:!0,mode:"fold-right",isShowIndicator:this.isToDoDailyPostTask,logEventField:"bottom_go_contribution_btn",clickFn:function(){return e.$EventBus.$emit("openContribution")}},home_character:{title:this.$t("NewDigitalPerson"),isShow:!0,mode:"fold-right",isShowIndicator:!1,logEventField:"bottom_go_character_btn",clickFn:function(){return e.$router.push(e.localePath("/cyberPubPage/new-character"))}}}[this.currentLocationKey]||{}}}),methods:d(d({},Object(r.d)("app",["SET_BOTTOM_FLOAT_BTN_OFFSET_BOTTOM"])),{},{handleExposure:function(){this.btnInfo.isShow&&this.$xyLogEvent({front_operation:"exposure",entity_name:"bottom_float_btn",entity_type:this.btnInfo.logEventField,position:this.currentLocationKey})},handleScroll:Object(c.throttle)((function(){if(this.btnInfo.isShow){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=window.innerHeight;"popup"!==this.btnInfo.mode?"fold-right"!==this.btnInfo.mode||(t<e?(this.isFoldRight=!1,this.SET_BOTTOM_FLOAT_BTN_OFFSET_BOTTOM(0)):(this.isFoldRight=!0,this.SET_BOTTOM_FLOAT_BTN_OFFSET_BOTTOM(66))):this.isPopup=!(t<100)}}),10)})},v=(n(5554),n(0)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return t.btnInfo.isShow?e("div",{staticClass:"bottom-float-btn",class:Object(o.a)(Object(o.a)(Object(o.a)({},"".concat(t.btnInfo.mode,"-mode"),!0),"is-popup","popup"===t.btnInfo.mode&&t.isPopup),"is-fold-right","fold-right"===t.btnInfo.mode&&t.isFoldRight),attrs:{"data-event":"bottom_float_btn","data-id":t.btnInfo.logEventField,"data-type":t.currentLocationKey},on:{click:t.btnInfo.clickFn}},[e("Icon",{attrs:{name:"icon-release",size:20,color:"#ffffffcc"}}),t._v(" "),e("span",{staticClass:"tool-text"},[t._v(t._s(t.btnInfo.title))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.btnInfo.isShowIndicator,expression:"btnInfo.isShowIndicator"}],staticClass:"indicator"},[e("div",{staticClass:"indicator-content"},[e("img",{staticClass:"indicator-icon",attrs:{src:n(160)}}),t._v(" "),e("span",{staticClass:"indicator-text"},[t._v("+20")])]),t._v(" "),e("div",{staticClass:"indicator-arrow"})])],1):t._e()}),[],!1,null,"3e8bbe10",null);e.default=component.exports},1558:function(t,e,n){t.exports={}},1662:function(t,e,n){t.exports={}},1663:function(t,e,n){t.exports={}},2970:function(t,e,n){t.exports={}},3875:function(t,e,n){"use strict";n(1558)},4019:function(t,e,n){"use strict";n(1662)},4020:function(t,e,n){"use strict";n(1663)},53:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(31),n(18),n(24),n(1)),c=n(34);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"BaseAvatar",props:{size:{type:Number,default:20},theme:{type:String,default:"light",validator:function(t){return-1!==["light","dark"].indexOf(t)}},userData:{type:Object,default:function(){return{}}},avatarUrl:{type:String,default:""},headFrame:{type:String,default:""},alt:{type:String,default:"avatar"},frameAlt:{type:String,default:"avatar_frame"},toUser:{type:Boolean,default:!1},name:{type:String,default:""},square:{type:Boolean,default:!1}},data:function(){return{headLoad:!0,frameLoad:!0}},computed:d(d({},Object(r.e)("user",["userInfo"])),{},{isSelf:function(){var t,e;return(null===(t=this.userInfo)||void 0===t?void 0:t.id)===(null===(e=this.userData)||void 0===e?void 0:e.id)},computedAvatarUrl:function(){var t,e;return this.avatarUrl||(null===(t=this.userData)||void 0===t?void 0:t.head)||(null===(e=this.userData)||void 0===e?void 0:e.avatar)},computedFrameUrl:function(){var t,e;return this.isSelf?null===(e=this.userInfo)||void 0===e?void 0:e.avatar_frame:this.headFrame||(null===(t=this.userData)||void 0===t?void 0:t.avatar_frame)},getNameFirst:function(){var t=this.userData||{},e=t.name,n=t.id;return(e?e[0]:this.name?this.name.slice(0,1):n?n[0]:"V").toUpperCase()},getFontSize:function(){return Math.max(12,this.size/2)},backgroundColor:function(){return"dark"===this.theme?"#516a8b":"#e9e9e9"},fontColor:function(){return"dark"===this.theme?"#e9eef8":"#212121"}}),mounted:function(){this.headLoad=!0,this.frameLoad=!0},methods:{handleImageError:function(){this.computedAvatarUrl&&(this.headLoad=!1),this.$emit("avatar-error")},handleFrameError:function(){console.log("handleFrameError"),this.frameLoad=!1,this.$emit("frame-error")},handleClick:function(){var t;if(this.toUser){var path="";this.isSelf?path="/personal":null!==(t=this.userData)&&void 0!==t&&t.id&&(path="/user/".concat(encodeURIComponent(this.userData.id))),path&&this.$router.push(this.localePath(path))}}}},v=function(){Object(c.useCssVars)((function(t,e){return{"27aae7de":t.fontColor}}))},f=h.setup;h.setup=f?function(t,e){return v(),f(t,e)}:v;var _=h,m=(n(3875),n(0)),component=Object(m.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"base-avatar",class:{clickable:t.toUser},style:{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")},on:{click:t.handleClick}},[e("div",{staticClass:"base-container",class:{square:t.square},style:{backgroundColor:t.backgroundColor}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.computedAvatarUrl&&t.headLoad,expression:"computedAvatarUrl && headLoad"},{name:"webp",rawName:"v-webp",value:t.$imgL,expression:"$imgL"}],staticClass:"base-image",attrs:{loading:"lazy",width:t.size,height:t.size,src:t.computedAvatarUrl,alt:t.alt},on:{error:t.handleImageError}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.computedAvatarUrl||!t.headLoad,expression:"!computedAvatarUrl || !headLoad"}],staticClass:"base-text",style:{fontSize:t.getFontSize+"px"}},[t._v("\n      "+t._s(t.getNameFirst)+"\n    ")])]),t._v(" "),t.computedFrameUrl&&t.frameLoad?e("div",{staticClass:"base-frame"},[e("img",{staticClass:"base-frame-image",attrs:{src:t.computedFrameUrl,loading:"lazy",alt:t.frameAlt},on:{error:t.handleFrameError}})]):t._e()])}),[],!1,null,"53d696a4",null);e.default=component.exports},5554:function(t,e,n){"use strict";n(2970)},559:function(t,e,n){"use strict";n.r(e);n(4018),n(11),n(6),n(12),n(13),n(7);var o=n(3),r=n(2),c=(n(20),n(19),n(32),n(484),n(16),n(485),n(8),n(4),n(177),n(21),n(1)),l=n(9),d=n(87),h=n(560),v=n(579);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={components:{BannerCountdown:h.default},props:{fixed:{type:Boolean,default:!1}},data:function(){return{grayTopBanner:null,goodsInfo:{}}},computed:_(_(_(_(_(_({},Object(c.c)("activity",["isShowActivityBanner","currentActivity"])),Object(c.c)("user",["isLoggedIn"])),Object(c.c)("payment",["paymentInfo"])),Object(c.e)("payment",["halfDiscountCountdown","popupStatusInfo"])),Object(c.e)("user",["cdnHost","userInfo"])),{},{isOldUser:function(){var t;return!!this.userInfo&&((new Date).getTime()-(null===(t=this.userInfo)||void 0===t?void 0:t.create_at))/1e3/3600>48},bannerUrl:function(){var t,e,n=Object.keys(l.bb).includes(this.$i18n.locale)?this.$i18n.locale:"en";if(this.halfDiscountCountdown)return"https://".concat(this.cdnHost,"/static/limit_half_discount/web_").concat(n,".webp");if(this.isShowActivityBanner&&null!==(t=this.currentActivity)&&void 0!==t&&t.imgPathKey){var o,r,path=null===(o=this.currentActivity)||void 0===o?void 0:o.imgPathKey,c=null===(r=this.currentActivity)||void 0===r?void 0:r.imgType;return"https://".concat(this.cdnHost,"/static/hengfu/").concat(path,"/web_").concat(n,".").concat(c)}["indo","it","tr","vi"].includes(n)&&(n="en");var d="https://".concat(this.cdnHost,"/static/banner/web_svip_freetry_").concat(n,".png");return(this.isOldUser||null!==(e=this.paymentInfo)&&void 0!==e&&e.svipExpiryTime)&&(d="https://".concat(this.cdnHost,"/static/banner/web_svip_").concat(n,".png")),d},showNewDiscountBanner:function(){return!!this.halfDiscountCountdown&&!0===this.grayTopBanner},showReviveBanner:function(){var t,e,n;return this.isLoggedIn&&(null===(t=this.paymentInfo)||void 0===t?void 0:t.recentPlan)&&(null===(e=this.paymentInfo)||void 0===e?void 0:e.subProductId)&&(null===(n=this.popupStatusInfo)||void 0===n?void 0:n.balance_day)<=7&&this.currentGoodsId},isExpiring:function(){return this.showReviveBanner&&this.popupStatusInfo&&this.popupStatusInfo.balance_day>=0},reviveBannerImgSrc:function(){return this.isExpiring?50===this.discount?"https://image.cdn2.seaart.me/20250530/05cc0c21-e340-43d7-8d90-856657b33ec6_high.webp":"https://image.cdn2.seaart.me/20250530/09872386-fc61-4c5b-adc2-d9eb95880531_high.webp":"https://image.cdn2.seaart.me/20250529/1974d67e-d44f-4a84-a26f-96d93c314c2c_high.webp"},reviveBannerText:function(){var t,e;if((null===(t=this.popupStatusInfo)||void 0===t?void 0:t.balance_day)<0){var n,o=Math.abs(null===(n=this.popupStatusInfo)||void 0===n?void 0:n.balance_day);return this.$t("revive_expired_banner_lb2",{num:o})}return this.$t("revive_expired_banner_lb1",{num:null===(e=this.popupStatusInfo)||void 0===e?void 0:e.balance_day})},currentGoodsId:function(){var t;return null===(t=Object(v.a)(this.goodsInfo,this.paymentInfo))||void 0===t?void 0:t.id},discount:function(){var t=this;if(0!==Object.keys(this.goodsInfo).length){var e=Object.values(this.goodsInfo||{}).flat().find((function(sub){return sub.id===t.currentGoodsId}));return(null==e?void 0:e.discount)||30}}}),watch:{showReviveBanner:function(t){t&&this.$xyLogEvent({front_operation:"exposure",entity_type:"to_pay_pop_show",entity_name:"invalid_activation_retention_banner",obj_info:{benefit_type:this.isExpiring?"invalid_activation_banner_exposure_expiring":"invalid_activation_banner_exposure_expired"}})}},methods:_(_({},Object(c.b)("payment",["getSubscriptionList"])),{},{closeBanner:function(){this.$emit("close")},toMall:function(){var t;if(this.showReviveBanner)return this.$xyLogEvent({front_operation:"exposure",entity_type:"to_pay_pop_show",entity_name:"invalid_activation_retention_banner_pop",obj_info:{benefit_type:this.isExpiring?"invalid_activation_banner_click_expiring":"invalid_activation_banner_click_expired"}}),void this.$EventBus.$emit("showDialog",{name:"ReviveDialog",data:{balance_day:null===(t=this.popupStatusInfo)||void 0===t?void 0:t.balance_day}});this.$logEvent("log_actions",{operation:"click_join_now_button",behavior_info:"top_banner"}),this.halfDiscountCountdown?window.openHalfGoodsDialog?(console.log("banner: 使用全局方法打开弹窗"),window.openHalfGoodsDialog("on_50_percent_off_home_banner")):(console.log("banner: 回退到事件总线"),this.$EventBus.$emit("showHalfGoodsDialog","on_50_percent_off_home_banner")):this.isShowActivityBanner?this.$router.push({path:this.localePath("/mall")}):this.isLoggedIn?this.$EventBus.$emit("openDailyDialog","topBanner"):this.$EventBus.$emit("openLoginDialog")},handleReviveClick:function(){this.$xyLogEvent({front_operation:"click",entity_type:"to_pay_pop_show",entity_name:"invalid_activation_retention_banner",obj_info:{benefit_type:this.isExpiring?"invalid_activation_banner_btn_click_expiring":"invalid_activation_banner_btn_click_expired",pay_package:this.currentGoodsId}}),this.$EventBus.$emit("showDialog",{name:"PaymentFormDialog",data:{id:this.currentGoodsId,quantity:1,dotFrom:"invalid_activation_retention_banner"},props:{initMount:!0,isSubscription:this.popupStatusInfo.balance_day<0}})},getGoodsInfo:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getSubscriptionList({isSaveData:t.isLoggedIn});case 3:n=e.sent,t.goodsInfo=(null==n?void 0:n.data)||{},e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("getGoodsInfo error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}),mounted:function(){var t=this;Object(d.g)().then((function(e){var n;t.grayTopBanner=!(null==e||null===(n=e.data)||void 0===n||!n.banner)})).catch((function(t){console.error("getGrayInfo error:",t)})),this.getGoodsInfo()}},y=(n(4020),n(0)),component=Object(y.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"top-banner",class:{"fixed-banner":t.fixed}},[e("a",{staticClass:"discount-banner-bg",attrs:{href:"/mall?dotFrom=svip_banner"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toMall.apply(null,arguments)}}},[t.showReviveBanner?[e("div",{staticClass:"revive-banner-bg",class:{"revive-banner-bg-expiring":t.isExpiring}},[e("img",{staticClass:"revive-banner-svip",attrs:{src:t.reviveBannerImgSrc,alt:""}}),t._v(" "),e("span",{staticClass:"revive-banner-text",domProps:{innerHTML:t._s(t.reviveBannerText)}}),t._v(" "),e("button",{staticClass:"revive-banner-btn",attrs:{"data-event":"revive_expired_banner_btn"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleReviveClick.apply(null,arguments)}}},[e("img",{attrs:{src:"https://image.cdn2.seaart.me/20250529/bdbd5975-e38d-43a6-8dc2-c5dfd533ca3b_high.webp",alt:""}}),t._v("\n          "+t._s(t.$t("revive_expired_notify_restore_btn"))+"\n        ")])])]:t.showNewDiscountBanner?[e("div",{staticClass:"discount-banner-content"},[e("div",{staticClass:"banner-section banner-countdown"},[e("img",{staticClass:"banner-icon",attrs:{src:"https://image.cdn2.seaart.me/20250508/5190d742-2ca2-491a-8e19-1d622960630c_high.webp",alt:"countdown_icon"}}),t._v(" "),e("span",{staticClass:"banner-label"},[t._v(t._s(t.$t("banner_ends_in")))]),t._v(" "),e("BannerCountdown",{attrs:{halfDiscountCountdown:t.halfDiscountCountdown}})],1),t._v(" "),e("div",{staticClass:"banner-section banner-flash"},[e("img",{staticClass:"banner-icon",attrs:{src:"https://image.cdn2.seaart.me/20250508/2c41114c-c532-4a08-b689-2d49889fc04f_high.webp",alt:"flash_icon"}}),t._v(" "),e("span",{staticClass:"banner-flash-text",domProps:{innerHTML:t._s(t.$t("banner_flash_sale"))}})]),t._v(" "),e("div",{staticClass:"banner-section banner-upgrade"},[e("button",{staticClass:"banner-upgrade-btn",attrs:{type:"button",tabindex:"-1"}},[e("img",{staticClass:"banner-btn-icon",attrs:{src:"https://image.cdn2.seaart.me/20250508/f8bd9971-7786-4f66-a9ea-64218d08e9a3_high.webp",alt:"upgrade_icon"}}),t._v(" "),e("span",[t._v(t._s(t.$t("UpgradeNow")))])])])])]:[e("img",{attrs:{width:"100%",height:"46px",src:t.bannerUrl,alt:"banner_image"}})]],2),t._v(" "),e("span",{staticClass:"close-btn",class:{"close-revive-btn":t.showReviveBanner},attrs:{"aria-label":t.$t("close")},on:{click:function(e){return e.stopPropagation(),t.closeBanner.apply(null,arguments)}}},[t._v("×")])])}),[],!1,null,"acf2f640",null);e.default=component.exports;installComponents(component,{BannerCountdown:n(560).default})},560:function(t,e,n){"use strict";n.r(e);n(77);var o={name:"BannerCountdown",props:{halfDiscountCountdown:{type:Object,required:!0}},computed:{h:function(){var t=(this.halfDiscountCountdown||{}).hours;return String(void 0===t?0:t).padStart(2,"0")},m:function(){var t=(this.halfDiscountCountdown||{}).minutes;return String(void 0===t?0:t).padStart(2,"0")},s:function(){var t=(this.halfDiscountCountdown||{}).seconds;return String(void 0===t?0:t).padStart(2,"0")}}},r=(n(4019),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner-timer"},[e("span",{staticClass:"digit-box"},[t._v(t._s(t.h[0]))]),t._v(" "),e("span",{staticClass:"digit-box"},[t._v(t._s(t.h[1]))]),t._v(" "),e("span",{staticClass:"separator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"digit-box"},[t._v(t._s(t.m[0]))]),t._v(" "),e("span",{staticClass:"digit-box"},[t._v(t._s(t.m[1]))]),t._v(" "),e("span",{staticClass:"separator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"digit-box"},[t._v(t._s(t.s[0]))]),t._v(" "),e("span",{staticClass:"digit-box"},[t._v(t._s(t.s[1]))])])}),[],!1,null,"bfb2f848",null);e.default=component.exports}}]);