/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1119:function(e,t){e.exports={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7,DESTROYED:8},o=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"]},1188:function(e,t,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},1199:function(e,t,n){"use strict";var r=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],o=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function c(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}var l=Array.isArray;function h(e){return null!==e&&"object"==typeof e}function f(e){return"string"==typeof e}var d=Object.prototype.toString,v="[object Object]";function m(e){return d.call(e)===v}function y(e){return null==e}function _(e){return"function"==typeof e}function k(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=null,r=null;return 1===e.length?h(e[0])||l(e[0])?r=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(h(e[1])||l(e[1]))&&(r=e[1])),{locale:n,params:r}}function C(e){return JSON.parse(JSON.stringify(e))}function O(e,t){return!!~e.indexOf(t)}var w=Object.prototype.hasOwnProperty;function T(e,t){return w.call(e,t)}function E(e){for(var t=arguments,output=Object(e),i=1;i<arguments.length;i++){var source=t[i];if(null!=source){var n=void 0;for(n in source)T(source,n)&&(h(source[n])?output[n]=E(output[n],source[n]):output[n]=source[n])}}return output}function x(a,b){if(a===b)return!0;var e=h(a),t=h(b);if(!e||!t)return!e&&!t&&String(a)===String(b);try{var n=l(a),r=l(b);if(n&&r)return a.length===b.length&&a.every((function(e,i){return x(e,b[i])}));if(n||r)return!1;var o=Object.keys(a),c=Object.keys(b);return o.length===c.length&&o.every((function(e){return x(a[e],b[e])}))}catch(e){return!1}}var S={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var data=t.data,n=t.parent,r=t.props,o=t.slots,c=n.$i18n;if(c){var path=r.path,l=r.locale,h=r.places,f=o(),d=c.i(path,l,function(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}(f)||h?function(e,t){var n=t?function(e){0;return Array.isArray(e)?e.reduce(j,{}):Object.assign({},e)}(t):{};if(!e)return n;e=e.filter((function(e){return e.tag||""!==e.text.trim()}));var r=e.every(P);0;return e.reduce(r?I:j,n)}(f.default,h):f),v=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return v?e(v,data,d):d}}};function I(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function j(e,t,n){return e[n]=t,e}function P(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var A,L={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,o=t.parent,data=t.data,c=o.$i18n;if(!c)return null;var l=null,d=null;f(n.format)?l=n.format:h(n.format)&&(n.format.key&&(l=n.format.key),d=Object.keys(n.format).reduce((function(e,t){var o;return O(r,t)?Object.assign({},e,((o={})[t]=n.format[t],o)):e}),null));var v=n.locale||c.locale,m=c._ntp(n.value,v,l,d),y=m.map((function(e,t){var n,slot=data.scopedSlots&&data.scopedSlots[e.type];return slot?slot(((n={})[e.type]=e.value,n.index=t,n.parts=m,n)):e.value})),_=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return _?e(_,{attrs:data.attrs,class:data.class,staticClass:data.staticClass},y):y}};function D(e,t,n){N(e,n)&&F(e,t,n)}function R(e,t,n,r){if(N(e,n)){var o=n.context.$i18n;(function(e,t){var n=t.context;return e._locale===n.$i18n.locale})(e,n)&&x(t.value,t.oldValue)&&x(e._localeMessage,o.getLocaleMessage(o.locale))||F(e,t,n)}}function M(e,t,n,r){if(n.context){var o=n.context.$i18n||{};t.modifiers.preserve||o.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else c("Vue instance does not exists in VNode context")}function N(e,t){var n=t.context;return n?!!n.$i18n||(c("VueI18n instance does not exists in Vue instance"),!1):(c("Vue instance does not exists in VNode context"),!1)}function F(e,t,n){var r,o,l=function(e){var path,t,n,r;f(e)?path=e:m(e)&&(path=e.path,t=e.locale,n=e.args,r=e.choice);return{path:path,locale:t,args:n,choice:r}}(t.value),path=l.path,h=l.locale,d=l.args,v=l.choice;if(path||h||d)if(path){var y=n.context;e._vt=e.textContent=null!=v?(r=y.$i18n).tc.apply(r,[path,v].concat(H(h,d))):(o=y.$i18n).t.apply(o,[path].concat(H(h,d))),e._locale=y.$i18n.locale,e._localeMessage=y.$i18n.getLocaleMessage(y.$i18n.locale)}else c("`path` is required in v-t directive");else c("value type not supported")}function H(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||m(t))&&n.push(t),n}function U(e,t){void 0===t&&(t={bridge:!1}),U.installed=!0;(A=e).version&&Number(A.version.split(".")[0]);(function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[e,o.locale,o._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}})(A),A.mixin(function(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n){if(e.i18n instanceof ie){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){t=E(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(e){}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(m(e.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ie?this.$root.$i18n:null;if(n&&(e.i18n.root=this.$root,e.i18n.formatter=n.formatter,e.i18n.fallbackLocale=n.fallbackLocale,e.i18n.formatFallbackMessages=n.formatFallbackMessages,e.i18n.silentTranslationWarn=n.silentTranslationWarn,e.i18n.silentFallbackWarn=n.silentFallbackWarn,e.i18n.pluralizationRules=n.pluralizationRules,e.i18n.preserveDirectiveContent=n.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var r=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){r=E(r,JSON.parse(e))})),e.i18n.messages=r}catch(e){}var o=e.i18n.sharedMessages;o&&m(o)&&(e.i18n.messages=E(e.i18n.messages,o)),this._i18n=new ie(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ie?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof ie&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof ie||m(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ie||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof ie)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}(t.bridge)),A.directive("t",{bind:D,update:R,unbind:M}),A.component(S.name,S),A.component(L.name,L),A.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var B=function(){this._caches=Object.create(null)};B.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=function(e){var t=[],n=0,text="";for(;n<e.length;){var r=e[n++];if("{"===r){text&&t.push({type:"text",value:text}),text="";var sub="";for(r=e[n++];void 0!==r&&"}"!==r;)sub+=r,r=e[n++];var o="}"===r,c=V.test(sub)?"list":o&&W.test(sub)?"named":"unknown";t.push({value:sub,type:c})}else"%"===r?"{"!==e[n]&&(text+=r):text+=r}return text&&t.push({type:"text",value:text}),t}(e),this._caches[e]=n),function(e,t){var n=[],r=0,o=Array.isArray(t)?"list":h(t)?"named":"unknown";if("unknown"===o)return n;for(;r<e.length;){var c=e[r];switch(c.type){case"text":n.push(c.value);break;case"list":n.push(t[parseInt(c.value,10)]);break;case"named":"named"===o&&n.push(t[c.value])}r++}return n}(n,t)};var V=/^(?:\d)+/,W=/^(?:\w)+/;var G=[];G[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},G[1]={ws:[1],".":[2],"[":[4],eof:[7]},G[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},G[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},G[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},G[5]={"'":[4,0],eof:8,else:[5,0]},G[6]={'"':[4,0],eof:8,else:[6,0]};var $=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function z(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function Y(path){var e,a,t,n=path.trim();return("0"!==path.charAt(0)||!isNaN(path))&&(t=n,$.test(t)?(a=(e=n).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==a&&39!==a?e:e.slice(1,-1):"*"+n)}var K=function(){this._cache=Object.create(null)};K.prototype.parsePath=function(path){var e=this._cache[path];return e||(e=function(path){var e,t,n,r,o,c,l,h=[],f=-1,d=0,v=0,m=[];function y(){var e=path[f+1];if(5===d&&"'"===e||6===d&&'"'===e)return f++,n="\\"+e,m[0](),!0}for(m[1]=function(){void 0!==t&&(h.push(t),t=void 0)},m[0]=function(){void 0===t?t=n:t+=n},m[2]=function(){m[0](),v++},m[3]=function(){if(v>0)v--,d=4,m[0]();else{if(v=0,void 0===t)return!1;if(!1===(t=Y(t)))return!1;m[1]()}};null!==d;)if(f++,"\\"!==(e=path[f])||!y()){if(r=z(e),8===(o=(l=G[d])[r]||l.else||8))return;if(d=o[0],(c=m[o[1]])&&(n=void 0===(n=o[2])?e:n,!1===c()))return;if(7===d)return h}}(path),e&&(this._cache[path]=e)),e||[]},K.prototype.getPathValue=function(e,path){if(!h(e))return null;var t=this.parsePath(path);if(0===t.length)return null;for(var n=t.length,r=e,i=0;i<n;){var o=r[t[i]];if(null==o)return null;r=o,i++}return r};var X,Z=/<\/?[\w\s="/.':;#-\/]+>/,J=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Q=/^@(?:\.([a-zA-Z]+))?:/,ee=/[()]/g,te={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},ne=new B,ie=function(e){var t=this;void 0===e&&(e={}),!A&&"undefined"!=typeof window&&window.Vue&&U(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),o=e.messages||{},c=e.dateTimeFormats||e.datetimeFormats||{},l=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||ne,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new K,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(t,e,n);var o,c;return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):(o=e,c=n,o=Math.abs(o),2===c?o?o>1?1:0:1:o?Math.min(o,2):0)},this._exist=function(e,n){return!(!e||!n)&&(!y(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,o[e])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:c,numberFormats:l})},re={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};ie.prototype._checkLocaleMessage=function(e,t,n){var r=function(e,t,n,o){if(m(n))Object.keys(n).forEach((function(c){var l=n[c];m(l)?(o.push(c),o.push("."),r(e,t,l,o),o.pop(),o.pop()):(o.push(c),r(e,t,l,o),o.pop())}));else if(l(n))n.forEach((function(n,c){m(n)?(o.push("["+c+"]"),o.push("."),r(e,t,n,o),o.pop(),o.pop()):(o.push("["+c+"]"),r(e,t,n,o),o.pop())}));else if(f(n)){if(Z.test(n)){var h="Detected HTML in message '"+n+"' of keypath '"+o.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?c(h):"error"===e&&function(e,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}(h)}}};r(t,e,n,[])},ie.prototype._initVM=function(data){var e=A.config.silent;A.config.silent=!0,this._vm=new A({data:data,__VUE18N__INSTANCE__:!0}),A.config.silent=e},ie.prototype.destroyVM=function(){this._vm.$destroy()},ie.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},ie.prototype.unsubscribeDataChanging=function(e){!function(e,t){if(e.delete(t));}(this._dataListeners,e)},ie.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var t,n,r=(t=e._dataListeners,n=[],t.forEach((function(a){return n.push(a)})),n),i=r.length;i--;)A.nextTick((function(){r[i]&&r[i].$forceUpdate()}))}),{deep:!0})},ie.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){r.$set(r,"locale",e),r.$forceUpdate()}),{immediate:!0})},ie.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},re.vm.get=function(){return this._vm},re.messages.get=function(){return C(this._getMessages())},re.dateTimeFormats.get=function(){return C(this._getDateTimeFormats())},re.numberFormats.get=function(){return C(this._getNumberFormats())},re.availableLocales.get=function(){return Object.keys(this.messages).sort()},re.locale.get=function(){return this._vm.locale},re.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},re.fallbackLocale.get=function(){return this._vm.fallbackLocale},re.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},re.formatFallbackMessages.get=function(){return this._formatFallbackMessages},re.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},re.missing.get=function(){return this._missing},re.missing.set=function(e){this._missing=e},re.formatter.get=function(){return this._formatter},re.formatter.set=function(e){this._formatter=e},re.silentTranslationWarn.get=function(){return this._silentTranslationWarn},re.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},re.silentFallbackWarn.get=function(){return this._silentFallbackWarn},re.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},re.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},re.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},re.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},re.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},re.postTranslation.get=function(){return this._postTranslation},re.postTranslation.set=function(e){this._postTranslation=e},re.sync.get=function(){return this._sync},re.sync.set=function(e){this._sync=e},ie.prototype._getMessages=function(){return this._vm.messages},ie.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},ie.prototype._getNumberFormats=function(){return this._vm.numberFormats},ie.prototype._warnDefault=function(e,t,n,r,o,c){if(!y(n))return n;if(this._missing){var l=this._missing.apply(null,[e,t,r,o]);if(f(l))return l}else 0;if(this._formatFallbackMessages){var h=k.apply(void 0,o);return this._render(t,c,h.params,t)}return t},ie.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:y(e))&&!y(this._root)&&this._fallbackRoot},ie.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},ie.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},ie.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},ie.prototype._interpolate=function(e,t,n,r,o,c,h){if(!t)return null;var d,v=this._path.getPathValue(t,n);if(l(v)||m(v))return v;if(y(v)){if(!m(t))return null;if(!f(d=t[n])&&!_(d))return null}else{if(!f(v)&&!_(v))return null;d=v}return f(d)&&(d.indexOf("@:")>=0||d.indexOf("@.")>=0)&&(d=this._link(e,t,d,r,"raw",c,h)),this._render(d,o,c,n)},ie.prototype._link=function(e,t,n,r,o,c,h){var f=n,d=f.match(J);for(var v in d)if(d.hasOwnProperty(v)){var link=d[v],m=link.match(Q),y=m[0],_=m[1],k=link.replace(y,"").replace(ee,"");if(O(h,k))return f;h.push(k);var C=this._interpolate(e,t,k,r,"raw"===o?"string":o,"raw"===o?void 0:c,h);if(this._isFallbackRoot(C)){if(!this._root)throw Error("unexpected error");var w=this._root.$i18n;C=w._translate(w._getMessages(),w.locale,w.fallbackLocale,k,r,o,c)}C=this._warnDefault(e,k,C,r,l(c)?c:[c],o),this._modifiers.hasOwnProperty(_)?C=this._modifiers[_](C):te.hasOwnProperty(_)&&(C=te[_](C)),h.pop(),f=C?f.replace(link,C):f}return f},ie.prototype._createMessageContext=function(e,t,path,n){var r=this,o=l(e)?e:[],c=h(e)?e:{},f=this._getMessages(),d=this.locale;return{list:function(e){return o[e]},named:function(e){return c[e]},values:e,formatter:t,path:path,messages:f,locale:d,linked:function(e){return r._interpolate(d,f[d]||{},e,null,n,void 0,[e])}}},ie.prototype._render=function(e,t,n,path){if(_(e))return e(this._createMessageContext(n,this._formatter||ne,path,t));var r=this._formatter.interpolate(e,n,path);return r||(r=ne.interpolate(e,n,path)),"string"!==t||f(r)?r:r.join("")},ie.prototype._appendItemToChain=function(e,t,n){var r=!1;return O(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},ie.prototype._appendLocaleToChain=function(e,t,n){var r,o=t.split("-");do{var c=o.join("-");r=this._appendItemToChain(e,c,n),o.splice(-1,1)}while(o.length&&!0===r);return r},ie.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,i=0;i<t.length&&"boolean"==typeof r;i++){var o=t[i];f(o)&&(r=this._appendLocaleToChain(e,o,n))}return r},ie.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];for(var r,o=[e];l(o);)o=this._appendBlockToChain(n,o,t);(o=f(r=l(t)?t:h(t)?t.default?t.default:null:t)?[r]:r)&&this._appendBlockToChain(n,o,null),this._localeChainCache[e]=n}return n},ie.prototype._translate=function(e,t,n,r,o,c,l){for(var h,f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var d=f[i];if(!y(h=this._interpolate(d,e[d],r,o,c,l,[r])))return h}return null},ie.prototype._t=function(e,t,n,r){for(var o,c=[],l=arguments.length-4;l-- >0;)c[l]=arguments[l+4];if(!e)return"";var h,f=k.apply(void 0,c);this._escapeParameterHtml&&(f.params=(null!=(h=f.params)&&Object.keys(h).forEach((function(e){"string"==typeof h[e]&&(h[e]=h[e].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),h));var d=f.locale||t,v=this._translate(n,d,this.fallbackLocale,e,r,"string",f.params);if(this._isFallbackRoot(v)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[e].concat(c))}return v=this._warnDefault(d,e,v,r,c,"string"),this._postTranslation&&null!=v&&(v=this._postTranslation(v,e)),v},ie.prototype.t=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},ie.prototype._i=function(e,t,n,r,o){var c=this._translate(n,t,this.fallbackLocale,e,r,"raw",o);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,o)}return this._warnDefault(t,e,c,r,[o],"raw")},ie.prototype.i=function(e,t,n){return e?(f(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},ie.prototype._tc=function(e,t,n,r,o){for(var c,l=[],h=arguments.length-5;h-- >0;)l[h]=arguments[h+5];if(!e)return"";void 0===o&&(o=1);var f={count:o,n:o},d=k.apply(void 0,l);return d.params=Object.assign(f,d.params),l=null===d.locale?[d.params]:[d.locale,d.params],this.fetchChoice((c=this)._t.apply(c,[e,t,n,r].concat(l)),o)},ie.prototype.fetchChoice=function(e,t){if(!e||!f(e))return null;var n=e.split("|");return n[t=this.getChoiceIndex(t,n.length)]?n[t].trim():e},ie.prototype.tc=function(e,t){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},ie.prototype._te=function(e,t,n){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var c=k.apply(void 0,r).locale||t;return this._exist(n[c],e)},ie.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},ie.prototype.getLocaleMessage=function(e){return C(this._vm.messages[e]||{})},ie.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},ie.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,E(void 0!==this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},ie.prototype.getDateTimeFormat=function(e){return C(this._vm.dateTimeFormats[e]||{})},ie.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},ie.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,E(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},ie.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},ie.prototype._localizeDateTime=function(e,t,n,r,o,c){for(var l=t,h=r[l],f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var d=f[i];if(l=d,!y(h=r[d])&&!y(h[o]))break}if(y(h)||y(h[o]))return null;var v,m=h[o];if(c)v=new Intl.DateTimeFormat(l,Object.assign({},m,c));else{var _=l+"__"+o;(v=this._dateTimeFormatters[_])||(v=this._dateTimeFormatters[_]=new Intl.DateTimeFormat(l,m))}return v.format(e)},ie.prototype._d=function(e,t,n,r){if(!n)return(r?new Intl.DateTimeFormat(t,r):new Intl.DateTimeFormat(t)).format(e);var o=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n,r);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return o||""},ie.prototype.d=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.locale,c=null,l=null;return 1===t.length?(f(t[0])?c=t[0]:h(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(c=t[0].key)),l=Object.keys(t[0]).reduce((function(e,n){var r;return O(o,n)?Object.assign({},e,((r={})[n]=t[0][n],r)):e}),null)):2===t.length&&(f(t[0])&&(c=t[0]),f(t[1])&&(r=t[1])),this._d(e,r,c,l)},ie.prototype.getNumberFormat=function(e){return C(this._vm.numberFormats[e]||{})},ie.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},ie.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,E(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},ie.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},ie.prototype._getNumberFormatter=function(e,t,n,r,o,c){for(var l=t,h=r[l],f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var d=f[i];if(l=d,!y(h=r[d])&&!y(h[o]))break}if(y(h)||y(h[o]))return null;var v,m=h[o];if(c)v=new Intl.NumberFormat(l,Object.assign({},m,c));else{var _=l+"__"+o;(v=this._numberFormatters[_])||(v=this._numberFormatters[_]=new Intl.NumberFormat(l,m))}return v},ie.prototype._n=function(e,t,n,r){if(!ie.availabilities.numberFormat)return"";if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).format(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),c=o&&o.format(e);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return c||""},ie.prototype.n=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.locale,c=null,l=null;return 1===t.length?f(t[0])?c=t[0]:h(t[0])&&(t[0].locale&&(o=t[0].locale),t[0].key&&(c=t[0].key),l=Object.keys(t[0]).reduce((function(e,n){var o;return O(r,n)?Object.assign({},e,((o={})[n]=t[0][n],o)):e}),null)):2===t.length&&(f(t[0])&&(c=t[0]),f(t[1])&&(o=t[1])),this._n(e,o,c,l)},ie.prototype._ntp=function(e,t,n,r){if(!ie.availabilities.numberFormat)return[];if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).formatToParts(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),c=o&&o.formatToParts(e);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return c||[]},Object.defineProperties(ie.prototype,re),Object.defineProperty(ie,"availabilities",{get:function(){if(!X){var e="undefined"!=typeof Intl;X={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return X}}),ie.install=U,ie.version="8.28.2",t.a=ie},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return f}));var r=n(17);function o(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),c=3;c<r;c++)o[c-3]=arguments[c];var l=t.call.apply(t,[e].concat(o));n&&"function"==typeof n&&(l&&l.then?l.then((function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];n.call.apply(n,[e].concat(r))})):n.call.apply(n,[e].concat(o)))}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[e]&&(this.__hooks[e]=null),function(){var c=arguments,l=this;if(n.pre)try{var h;(h=n.pre).call.apply(h,[this].concat(Array.prototype.slice.call(arguments)))}catch(t){throw t.message="[pluginName: ".concat(this.pluginName,":").concat(e,":pre error] >> ").concat(t.message),t}if(this.__hooks&&this.__hooks[e])try{var f,d=(f=this.__hooks[e]).call.apply(f,[this,this].concat(Array.prototype.slice.call(arguments)));d?d.then?d.then((function(e){!1!==e&&o.apply(void 0,[l,t,n.next].concat(Object(r.k)(c)))})).catch((function(e){throw e})):o.apply(void 0,[this,t,n.next].concat(Array.prototype.slice.call(arguments))):void 0===d&&o.apply(void 0,[this,t,n.next].concat(Array.prototype.slice.call(arguments)))}catch(t){throw t.message="[pluginName: ".concat(this.pluginName,":").concat(e,"] >> ").concat(t.message),t}else o.apply(void 0,[this,t,n.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function l(e,t){var n=this.__hooks;if(n)return n.hasOwnProperty(e)?(n&&(n[e]=t),!0):(console.warn("has no supported hook which name [".concat(e,"]")),!1)}function h(e,t){var n=this.__hooks;n&&delete n[e]}function f(e){if(this.plugins&&this.plugins[e.toLowerCase()]){for(var t=this.plugins[e.toLowerCase()],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.useHooks&&t.useHooks.apply(t,r)}}function d(e){if(this.plugins&&this.plugins[e.toLowerCase()]){var t=this.plugins[e.toLowerCase()];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.removeHooks&&t.removeHooks.apply(t,r)}}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.__hooks={},t&&t.map((function(t){e.__hooks[t]=null})),Object.defineProperty(e,"hooks",{get:function(){return e.__hooks&&Object.keys(e.__hooks).map((function(t){if(e.__hooks[t])return t}))}})}function m(e){e.__hooks=null}function y(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),c=3;c<r;c++)o[c-3]=arguments[c];if(!e.__hooks||!e.__hooks[t])return n.call.apply(n,[e,e].concat(o));var l,h=(l=e.__hooks[t]).call.apply(l,[e,e].concat(o));if(h&&h.then)h.then((function(data){return!1===data?null:n.call.apply(n,[e,e].concat(o))})).catch((function(e){console.warn("[runHooks]".concat(t," reject"),e.message)}));else if(!1!==h)return n.call.apply(n,[e,e].concat(o))}},1602:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(17),o=n(793),c=n(59),l=n(214),h=n(37),f=n(62),d=n(322),v=n(320),m=n(94),y=n(23),_=n(514),k=n(792),C=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n)}(o.a);Object(r.e)(C,"defaultPreset",k.a),Object(r.e)(C,"Util",y.b),Object(r.e)(C,"Sniffer",m.a),Object(r.e)(C,"Errors",v.b),Object(r.e)(C,"Events",h),Object(r.e)(C,"Plugin",c.b),Object(r.e)(C,"BasePlugin",l.a),Object(r.e)(C,"I18N",d.a),Object(r.e)(C,"STATE_CLASS",f.a),Object(r.e)(C,"InstManager",_.a)},17:function(e,t,n){"use strict";function r(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(t){d(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,p){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,p)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var base=function(object,e){for(;!Object.prototype.hasOwnProperty.call(object,e)&&null!==(object=m(object)););return object}(e,t);if(base){var desc=Object.getOwnPropertyDescriptor(base,t);return desc.get?desc.get.call(arguments.length<3?e:n):desc.value}},O.apply(this,arguments)}function w(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function E(e){var t=function(input,e){if("object"!=typeof input||null===input)return input;var t=input[Symbol.toPrimitive];if(void 0!==t){var n=t.call(input,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(input)}(e,"string");return"symbol"==typeof t?t:String(t)}n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return c}))},2114:function(e,t,n){var r=n(1118).FilterCSS,o=n(1118).getDefaultWhiteList,c=n(1119);function l(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var h=new r;function f(html){return html.replace(d,"&lt;").replace(v,"&gt;")}var d=/</g,v=/>/g,m=/"/g,y=/&quot;/g,_=/&#([a-zA-Z0-9]*);?/gim,k=/&colon;?/gim,C=/&newline;?/gim,O=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,T=/u\s*r\s*l\s*\(.*/gi;function E(e){return e.replace(m,"&quot;")}function x(e){return e.replace(y,'"')}function S(e){return e.replace(_,(function(e,code){return"x"===code[0]||"X"===code[0]?String.fromCharCode(parseInt(code.substr(1),16)):String.fromCharCode(parseInt(code,10))}))}function I(e){return e.replace(k,":").replace(C," ")}function j(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return c.trim(t)}function P(e){return e=j(e=I(e=S(e=x(e))))}function A(e){return e=f(e=E(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=l,t.onTag=function(e,html,t){},t.onIgnoreTag=function(e,html,t){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=P(n),"href"===t||"src"===t){if("#"===(n=c.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(O.lastIndex=0,O.test(n))return""}else if("style"===t){if(w.lastIndex=0,w.test(n))return"";if(T.lastIndex=0,T.test(n)&&(O.lastIndex=0,O.test(n)))return"";!1!==r&&(n=(r=r||h).process(n))}return n=A(n)},t.escapeHtml=f,t.escapeQuote=E,t.unescapeQuote=x,t.escapeHtmlEntities=S,t.escapeDangerHtml5Entities=I,t.clearNonPrintableCharacter=j,t.friendlyAttrValue=P,t.escapeAttrValue=A,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(l,html,h){if(function(t){return!!n||-1!==c.indexOf(e,t)}(l)){if(h.isClosing){var f="[/removed]",d=h.position+10;return r.push([!1!==o?o:h.position,d]),o=!1,f}return o||(o=h.position),"[removed]"}return t(l,html,h)},remove:function(html){var e="",t=0;return c.forEach(r,(function(n){e+=html.slice(t,n[0]),t=n[1]})),e+=html.slice(t)}}},t.stripCommentTag=function(html){for(var e="",t=0;t<html.length;){var i=html.indexOf("\x3c!--",t);if(-1===i){e+=html.slice(t);break}e+=html.slice(t,i);var n=html.indexOf("--\x3e",i);if(-1===n)break;t=n+3}return e},t.stripBlankChar=function(html){var e=html.split("");return(e=e.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.attributeWrapSign='"',t.cssFilter=h,t.getDefaultCSSWhiteList=o},2117:function(e,t,n){var r=n(1119);function o(html){var e,i=r.spaceIndex(html);return e=-1===i?html.slice(1,-1):html.slice(1,i+1),"/"===(e=r.trim(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function c(html){return"</"===html.slice(0,2)}var l=/[^a-zA-Z0-9\\_:.-]/gim;function h(e,i){for(;i<e.length;i++){var t=e[i];if(" "!==t)return"="===t?i:-1}}function f(e,i){for(;i<e.length;i++){var t=e[i];if(" "!==t)return"'"===t||'"'===t?i:-1}}function d(e,i){for(;i>0;i--){var t=e[i];if(" "!==t)return"="===t?i:-1}}function v(text){return function(text){return'"'===text[0]&&'"'===text[text.length-1]||"'"===text[0]&&"'"===text[text.length-1]}(text)?text.substr(1,text.length-2):text}t.parseTag=function(html,e,t){"use strict";var n="",r=0,l=!1,h=!1,f=0,d=html.length,v="",m="";e:for(f=0;f<d;f++){var y=html.charAt(f);if(!1===l){if("<"===y){l=f;continue}}else if(!1===h){if("<"===y){n+=t(html.slice(r,f)),l=f,r=f;continue}if(">"===y||f===d-1){n+=t(html.slice(r,l)),v=o(m=html.slice(l,f+1)),n+=e(l,n.length,v,m,c(m)),r=f+1,l=!1;continue}if('"'===y||"'"===y)for(var i=1,_=html.charAt(f-i);""===_.trim()||"="===_;){if("="===_){h=y;continue e}_=html.charAt(f-++i)}}else if(y===h){h=!1;continue}}return r<d&&(n+=t(html.substr(r))),n},t.parseAttr=function(html,e){"use strict";var t=0,n=0,o=[],c=!1,m=html.length;function y(t,n){if(!((t=(t=r.trim(t)).replace(l,"").toLowerCase()).length<1)){var c=e(t,n||"");c&&o.push(c)}}for(var i=0;i<m;i++){var _,k=html.charAt(i);if(!1!==c||"="!==k)if(!1===c||i!==n)if(/\s|\n|\t/.test(k)){if(html=html.replace(/\s|\n|\t/g," "),!1===c){if(-1===(_=h(html,i))){y(r.trim(html.slice(t,i))),c=!1,t=i+1;continue}i=_-1;continue}if(-1===(_=d(html,i-1))){y(c,v(r.trim(html.slice(t,i)))),c=!1,t=i+1;continue}}else;else{if(-1===(_=html.indexOf(k,i+1)))break;y(c,r.trim(html.slice(n+1,_))),c=!1,t=(i=_)+1}else c=html.slice(t,i),t=i+1,n='"'===html.charAt(t)||"'"===html.charAt(t)?t:f(html,i+1)}return t<html.length&&(!1===c?y(html.slice(t)):y(c,v(r.trim(html.slice(t))))),r.trim(o.join(" "))}},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(17),o=n(23),c=n(74),l=n(134);function h(e,t){c.b.logError("[".concat(e,"] event or callback cant be undefined or null when call ").concat(t))}var f=function(){function e(t){Object(r.b)(this,e),o.b.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),Object(l.a)(this),this.__args=t,this.__events={},this.__onceEvents={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}return Object(r.c)(e,[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){e||(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=o.b.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||"touch"!==this.playerConfig.domEventType&&"mouse"!==this.playerConfig.domEventType||(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach((function(e){n.__events[e]=t,n.player.on(e,t)})):h(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__onceEvents[e]=t,this.player.once(e,t)):Array.isArray(e)&&e.forEach((function(r){n.__onceEvents[r]=t,n.player.once(e,t)})):h(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(delete this.__events[e],this.player.off(e,t)):Array.isArray(e)&&e.forEach((function(r){delete n.__events[e],n.player.off(r,t)})):h(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var e=this;["__events","__onceEvents"].forEach((function(t){Object.keys(e[t]).forEach((function(n){e[t][n]&&e.off(n,e[t][n]),n&&delete e[t][n]}))})),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(e){var t;if(this.player){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.player).emit.apply(t,[e].concat(r))}}},{key:"emitUserAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.player){var o=Object(r.i)(Object(r.i)({},n),{},{pluginName:this.pluginName});this.player.emitUserAction(e,t,o)}}},{key:"hook",value:function(e,t){return l.c.call.apply(l.c,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return l.g.call.apply(l.g,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return l.d.call.apply(l.d,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.player)return n&&(t.pluginName=n),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e=this,t=this.player,n=this.pluginName;this.offAll(),o.b.clearAllTimers(this),o.b.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map((function(t){e[t]=null})),t.unRegisterPlugin(n),Object(l.b)(this)}}],[{key:"defineGetterOrSetter",value:function(e,map){for(var t in map)Object.prototype.hasOwnProperty.call(map,t)&&Object.defineProperty(e,t,map[t])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),e}()},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return d}));var r=n(17),o=n(74),c=function(){function e(t){Object(r.b)(this,e),this.bufferedList=t}return Object(r.c)(e,[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}]),e}(),l={};function h(e){var t=Object(r.l)(e);return null!==e&&("object"===t||"function"===t)}function f(e,t,n){var r,o,c,l,f,d,v=0,m=!1,y=!1,_=!0,k=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function C(time){var t=r,n=o;return r=o=void 0,v=time,l=e.apply(n,t)}function O(e,t){return k?(window.cancelAnimationFrame(f),window.requestAnimationFrame(e)):setTimeout(e,t)}function w(time){var e=time-d;return void 0===d||e>=t||e<0||y&&time-v>=c}function T(){var time=Date.now();if(w(time))return E(time);f=O(T,function(time){var e=time-v,n=t-(time-d);return y?Math.min(n,c-e):n}(time))}function E(time){return f=void 0,_&&r?C(time):(r=o=void 0,l)}function x(){for(var time=Date.now(),e=w(time),n=arguments.length,c=new Array(n),h=0;h<n;h++)c[h]=arguments[h];if(r=c,o=this,d=time,e){if(void 0===f)return function(time){return v=time,f=O(T,t),m?C(time):l}(d);if(y)return f=O(T,t),C(d)}return void 0===f&&(f=O(T,t)),l}return t=+t||0,h(n)&&(m=!!n.leading,c=(y="maxWait"in n)?Math.max(+n.maxWait||0,t):c,_="trailing"in n?!!n.trailing:_),x.cancel=function(){void 0!==f&&function(e){if(k)return window.cancelAnimationFrame(e);clearTimeout(e)}(f),v=0,r=d=o=f=void 0},x.flush=function(){return void 0===f?l:E(Date.now())},x.pending=function(){return void 0!==f},x}function d(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return h(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),f(e,t,{leading:r,trailing:o,maxWait:t})}function v(){var e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return"zh-cn"===e&&(e="zh"),e}function m(element,e,t){if(element){var n=element.getAttribute(t);return!(!n||n!==e||"VIDEO"!==element.tagName&&"AUDIO"!==element.tagName)}}l.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.createElement(e);return o.className=r,o.innerHTML=t,Object.keys(n).forEach((function(t){var r=t,c=n[t];"video"===e||"audio"===e||"live-video"===e?c&&o.setAttribute(r,c):o.setAttribute(r,c)})),o},l.createDomFromHtml=function(html){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var n=document.createElement("div");n.innerHTML=html;var r=n.children;return n=null,r.length>0?(r=r[0],t&&l.addClass(r,t),e&&Object.keys(e).forEach((function(t){r.setAttribute(t,e[t])})),r):null}catch(e){return o.b.logError("util.createDomFromHtml",e),null}},l.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,(function(e){return e===t}))}catch(o){var n=e.className&&"object"===Object(r.l)(e.className)?e.getAttribute("class"):e.className;return n&&!!n.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},l.addClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.add(t)}))}catch(n){l.hasClass(e,t)||(e.className&&"object"===Object(r.l)(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},l.removeClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.remove(t)}))}catch(n){l.hasClass(e,t)&&t.split(/\s+/g).forEach((function(t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===Object(r.l)(e.className)?e.setAttribute("class",e.getAttribute("class").replace(n," ")):e.className=e.className.replace(n," ")}))}},l.toggleClass=function(e,t){e&&t.split(/\s+/g).forEach((function(t){l.hasClass(e,t)?l.removeClass(e,t):l.addClass(e,t)}))},l.classNames=function(){for(var e=arguments,t=[],n=function(n){"String"===l.typeOf(e[n])?t.push(e[n]):"Object"===l.typeOf(e[n])&&Object.keys(e[n]).map((function(r){e[n][r]&&t.push(r)}))},i=0;i<arguments.length;i++)n(i);return t.join(" ")},l.findDom=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0;try{e=t.querySelector(n)}catch(r){o.b.logError("util.findDom",r),0===n.indexOf("#")&&(e=t.getElementById(n.slice(1)))}return e},l.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},l.padStart=function(e,t,n){for(var r=String(n),o=t|0,c=Math.ceil(o/r.length),l=[],h=String(e);c--;)l.push(r);return l.join("").substring(0,o-h.length)+h},l.format=function(time){if(window.isNaN(time))return"";time=Math.round(time);var e=l.padStart(Math.floor(time/3600),2,0),t=l.padStart(Math.floor((time-3600*e)/60),2,0),n=l.padStart(Math.floor(time-3600*e-60*t),2,0);return("00"===e?[t,n]:[e,t,n]).join(":")},l.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},l.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},l.deepCopy=function(e,t){if("Object"===l.typeOf(t)&&"Object"===l.typeOf(e))return Object.keys(t).forEach((function(n){"Object"!==l.typeOf(t[n])||t[n]instanceof Node?"Array"===l.typeOf(t[n])?e[n]="Array"===l.typeOf(e[n])?e[n].concat(t[n]):t[n]:e[n]=t[n]:void 0===e[n]||void 0===e[n]?e[n]=t[n]:l.deepCopy(e[n],t[n])})),e},l.deepMerge=function(e,t){return Object.keys(t).map((function(n){var o;"Array"===l.typeOf(t[n])&&"Array"===l.typeOf(e[n])?"Array"===l.typeOf(e[n])&&(o=e[n]).push.apply(o,Object(r.k)(t[n])):l.typeOf(e[n])!==l.typeOf(t[n])||null===e[n]||"Object"!==l.typeOf(e[n])||t[n]instanceof window.Node?null!==t[n]&&(e[n]=t[n]):l.deepMerge(e[n],t[n])})),e},l.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var a=document.createElement("a");return a.href=t.replace(/url\("|"\)/g,""),a.href},l.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},l.setInterval=function(e,t,n,r){e._interval[t]||(e._interval[t]=window.setInterval(n.bind(e),r))},l.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},l.setTimeout=function(e,t,time){e._timers||(e._timers=[]);var n=setTimeout((function(){t(),l.clearTimeout(e,n)}),time);return e._timers.push(n),n},l.clearTimeout=function(e,t){var n=e._timers;if("Array"===l.typeOf(n)){for(var i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1),clearTimeout(t);break}}else clearTimeout(t)},l.clearAllTimers=function(e){var t=e._timers;"Array"===l.typeOf(t)&&(t.map((function(e){clearTimeout(e)})),e._timerIds=[])},l.createImgBtn=function(e,t,n,r){var o,c,h,f=l.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));(f.style.backgroundImage='url("'.concat(t,'")'),n&&r)&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every((function(e){return!(n.indexOf(e)>-1&&r.indexOf(e)>-1)||(o=parseFloat(n.slice(0,n.indexOf(e)).trim()),c=parseFloat(r.slice(0,r.indexOf(e)).trim()),h=e,!1)})),f.style.width="".concat(o).concat(h),f.style.height="".concat(c).concat(h),f.style.backgroundSize="".concat(o).concat(h," ").concat(c).concat(h),f.style.margin="start"===e?"-".concat(c/2).concat(h," auto auto -").concat(o/2).concat(h):"auto 5px auto 5px");return f},l.Hex2RGBA=function(e,t){var n=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var r="#";e.replace(/[0-9A-F]/gi,(function(e){r+=e+e})),e=r}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/gi,(function(e){n.push(parseInt(e,16))})),"rgba(".concat(n.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},l.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},l.checkIsFunction=function(e){return e&&"function"==typeof e},l.checkIsObject=function(e){return null!==e&&"object"===Object(r.l)(e)},l.hide=function(e){e.style.display="none"},l.show=function(e,t){e.style.display=t||"block"},l.isUndefined=function(e){if(null==e)return!0},l.isNotNull=function(e){return!(null==e)},l.setStyleFromCsstext=function(e,text){text&&("String"===l.typeOf(text)?text.replace(/\s+/g,"").split(";").map((function(t){if(t){var n=t.split(":");n.length>1&&(e.style[n[0]]=n[1])}})):Object.keys(text).map((function(t){e.style[t]=text[t]})))},l.filterStyleFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=e.style.cssText;if(!n)return{};var r=n.replace(/\s+/g,"").split(";"),o={},c={};return r.map((function(e){if(e){var n=e.split(":");n.length>1&&(!function(e,t){for(var i=0,n=t.length;i<n;i++)if(e.indexOf(t[i])>-1)return!0;return!1}(n[0],t)?c[n[0]]=n[1]:o[n[0]]=n[1])}})),e.setAttribute("style",""),Object.keys(c).map((function(t){e.style[t]=c[t]})),o},l.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var n=t.replace(/\s+/g,"").split(";"),r={};return n.map((function(e){if(e){var t=e.split(":");t.length>1&&(r[t[0]]=t[1])}})),r},l.preloadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){var img=new window.Image;img.onload=function(e){img=null,t&&t(e)},img.onerror=function(e){img=null,n&&n(e)},img.src=e}},l.stopPropagation=function(e){e&&e.stopPropagation()},l.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},l.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},l.checkTouchSupport=function(){return"ontouchstart"in window},l.getBuffered2=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=[],i=0;i<e.length;i++)n.push({start:e.start(i)<.5?0:e.start(i),end:e.end(i)});n.sort((function(a,b){var e=a.start-b.start;return e||b.end-a.end}));var r=[];if(t)for(var o=0;o<n.length;o++){var l=r.length;if(l){var h=r[l-1].end;n[o].start-h<t?n[o].end>h&&(r[l-1].end=n[o].end):r.push(n[o])}else r.push(n[o])}else r=n;return new c(r)},l.getEventPos=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},l.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},l.getHostFromUrl=function(e){if("String"!==l.typeOf(e))return"";var t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n},l.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},l.isMSE=function(video){return video.media&&(video=video.media),!!(video&&video instanceof HTMLMediaElement)&&(/^blob/.test(video.currentSrc)||/^blob/.test(video.src))},l.isBlob=function(e){return"string"==typeof e&&/^blob/.test(e)},l.generateSessionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).getTime();try{e=parseInt(e)}catch(t){e=0}return t+=e,window.performance&&"function"==typeof window.performance.now&&(t+=parseInt(window.performance.now())),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},l.createEvent=function(e){var t;return"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},l.adjustTimeByDuration=function(time,e,t){return e&&time&&(time>e||t&&time<e)?e:time},l.createPositionBar=function(e,t){var n=l.createDom("xg-bar","",{"data-index":-1},e);return t.appendChild(n),n},l.getTransformStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,scale:1,rotate:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={scale:"".concat(e.scale||1),translate:"".concat(e.x||0,"%, ").concat(e.y||0,"%"),rotate:"".concat(e.rotate||0,"deg")};return Object.keys(n).forEach((function(e){var r=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),o="".concat(e,"(").concat(n[e],")");r.test(t)?(r.lastIndex=-1,t=t.replace(r,o)):t+="".concat(o," ")})),t},l.convertDeg=function(e){return Math.abs(e)<=1?360*e:e%360},l.getIndexByTime=function(time,e){var t=e.length,n=-1;if(t<1)return n;if(time<=e[0].end||t<2)n=0;else if(time>e[t-1].end)n=t-1;else for(var i=1;i<t;i++)if(time>e[i-1].end&&time<=e[i].end){n=i;break}return n},l.getOffsetCurrentTime=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=-1;if((r=n>=0&&n<t.length?n:l.getIndexByTime(e,t))<0)return-1;var o=t.length,c=t[r],h=c.start,f=c.end,d=c.cTime,v=c.offset;return e<h?d:e>=h&&e<=f?e-v:e>f&&r>=o-1?f:-1},l.getCurrentTimeByOffset=function(e,t){var n=-1;if(!t||t.length<0)return e;for(var i=0;i<t.length;i++)if(e<=t[i].duration){n=i;break}if(-1!==n){var r=t[n].start;return n-1<0?r+e:r+(e-t[n-1].duration)}return e}},277:function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var r=n("2d00"),o=n("5ca1"),c=n("2aba"),l=n("32e9"),h=n("84f2"),f=n("41a0"),d=n("7f20"),v=n("38fd"),m=n("2b4c")("iterator"),y=!([].keys&&"next"in[].keys()),_="keys",k="values",C=function(){return this};e.exports=function(e,t,n,O,w,T,E){f(n,t,O);var x,S,I,j=function(e){if(!y&&e in D)return D[e];switch(e){case _:case k:return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",A=w==k,L=!1,D=e.prototype,R=D[m]||D["@@iterator"]||w&&D[w],M=R||j(w),N=w?A?j("entries"):M:void 0,F="Array"==t&&D.entries||R;if(F&&(I=v(F.call(new e)))!==Object.prototype&&I.next&&(d(I,P,!0),r||"function"==typeof I[m]||l(I,m,C)),A&&R&&R.name!==k&&(L=!0,M=function(){return R.call(this)}),r&&!E||!y&&!L&&D[m]||l(D,m,M),h[t]=M,h[P]=C,w)if(x={values:A?M:j(k),keys:T?M:j(_),entries:N},E)for(S in x)S in D||c(D,S,x[S]);else o(o.P+o.F*(y||L),t,x);return x}},"02f4":function(e,t,n){var r=n("4588"),o=n("be13");e.exports=function(e){return function(t,n){var a,b,s=String(o(t)),i=r(n),c=s.length;return i<0||i>=c?e?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===c||(b=s.charCodeAt(i+1))<56320||b>57343?e?s.charAt(i):a:e?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,n){var r=n("ce10"),o=n("e11e");e.exports=Object.keys||function(e){return r(e,o)}},1495:function(e,t,n){var r=n("86cc"),o=n("cb7c"),c=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){o(e);for(var n,l=c(t),h=l.length,i=0;h>i;)r.f(e,n=l[i++],t[n]);return e}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),o=n("32e9"),c=n("79e5"),l=n("be13"),h=n("2b4c"),f=n("520a"),d=h("species"),v=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),m=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var y=h(e),_=!c((function(){var t={};return t[y]=function(){return 7},7!=""[e](t)})),k=_?!c((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[d]=function(){return n}),n[y](""),!t})):void 0;if(!_||!k||"replace"===e&&!v||"split"===e&&!m){var C=/./[y],O=n(l,y,""[e],(function(e,t,n,r,o){return t.exec===f?_&&!o?{done:!0,value:C.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),w=O[0],T=O[1];r(String.prototype,e,w),o(RegExp.prototype,y,2==t?function(e,t){return T.call(e,this,t)}:function(e){return T.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),o=n("7726").document,c=r(o)&&r(o.createElement);e.exports=function(e){return c?o.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),c="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:c?r(t):"Object"==(l=r(t))&&"function"==typeof t.callee?"Arguments":l}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"2aba":function(e,t,n){var r=n("7726"),o=n("32e9"),c=n("69a8"),l=n("ca5a")("src"),h=n("fa5b"),f="toString",d=(""+h).split(f);n("8378").inspectSource=function(e){return h.call(e)},(e.exports=function(e,t,n,h){var f="function"==typeof n;f&&(c(n,"name")||o(n,"name",t)),e[t]!==n&&(f&&(c(n,l)||o(n,l,e[t]?""+e[t]:d.join(String(t)))),e===r?e[t]=n:h?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,f,(function(){return"function"==typeof this&&this[l]||h.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),o=n("1495"),c=n("e11e"),l=n("613b")("IE_PROTO"),h=function(){},f="prototype",d=function(){var e,iframe=n("230e")("iframe"),i=c.length;for(iframe.style.display="none",n("fab2").appendChild(iframe),iframe.src="javascript:",(e=iframe.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;i--;)delete d[f][c[i]];return d()};e.exports=Object.create||function(e,t){var n;return null!==e?(h[f]=r(e),n=new h,h[f]=null,n[l]=e):n=d(),void 0===t?n:o(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),o=n("ca5a"),c=n("7726").Symbol,l="function"==typeof c;(e.exports=function(e){return r[e]||(r[e]=l&&c[e]||(l?c:o)("Symbol."+e))}).store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),o=n("d2c8"),c="includes";r(r.P+r.F*n("5147")(c),"String",{includes:function(e){return!!~o(this,e,c).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,n){var r=n("86cc"),o=n("4630");e.exports=n("9e1e")?function(object,e,t){return r.f(object,e,o(1,t))}:function(object,e,t){return object[e]=t,object}},"38fd":function(e,t,n){var r=n("69a8"),o=n("4bf8"),c=n("613b")("IE_PROTO"),l=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),o=n("4630"),c=n("7f20"),l={};n("32e9")(l,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(l,{next:o(1,n)}),c(e,t+" Iterator")}},"456d":function(e,t,n){var r=n("4bf8"),o=n("0d58");n("5eda")("keys",(function(){return function(e){return o(r(e))}}))},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},"520a":function(e,t,n){"use strict";var r,o,c=n("0bfb"),l=RegExp.prototype.exec,h=String.prototype.replace,f=l,d="lastIndex",v=(r=/a/,o=/b*/g,l.call(r,"a"),l.call(o,"a"),0!==r[d]||0!==o[d]),m=void 0!==/()??/.exec("")[1];(v||m)&&(f=function(e){var t,n,r,i,o=this;return m&&(n=new RegExp("^"+o.source+"$(?!\\s)",c.call(o))),v&&(t=o[d]),r=l.call(o,e),v&&r&&(o[d]=o.global?r.index+r[0].length:t),m&&r&&r.length>1&&h.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=f},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var r=n("8378"),o=n("7726"),c="__core-js_shared__",l=o[c]||(o[c]={});(e.exports=function(e,t){return l[e]||(l[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),o=n("8378"),c=n("32e9"),l=n("2aba"),h=n("9b43"),f="prototype",d=function(e,t,source){var n,v,m,y,_=e&d.F,k=e&d.G,C=e&d.S,O=e&d.P,w=e&d.B,T=k?r:C?r[t]||(r[t]={}):(r[t]||{})[f],E=k?o:o[t]||(o[t]={}),x=E[f]||(E[f]={});for(n in k&&(source=t),source)m=((v=!_&&T&&void 0!==T[n])?T:source)[n],y=w&&v?h(m,r):O&&"function"==typeof m?h(Function.call,m):m,T&&l(T,n,m,e&d.U),E[n]!=m&&c(E,n,y),O&&x[n]!=m&&(x[n]=m)};r.core=o,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},"5eda":function(e,t,n){var r=n("5ca1"),o=n("8378"),c=n("79e5");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],l={};l[e]=t(n),r(r.S+r.F*c((function(){n(1)})),"Object",l)}},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var c=n.call(e,t);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"613b":function(e,t,n){var r=n("5537")("keys"),o=n("ca5a");e.exports=function(e){return r[e]||(r[e]=o(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6762:function(e,t,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),o=n("be13");e.exports=function(e){return r(o(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},7333:function(e,t,n){"use strict";var r=n("0d58"),o=n("2621"),c=n("52a7"),l=n("4bf8"),h=n("626a"),f=Object.assign;e.exports=!f||n("79e5")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||Object.keys(f({},t)).join("")!=r}))?function(e,source){for(var t=l(e),n=arguments.length,f=1,d=o.f,v=c.f;n>f;)for(var m,y=h(arguments[f++]),_=d?r(y).concat(d(y)):r(y),k=_.length,C=0;k>C;)v.call(y,m=_[C++])&&(t[m]=y[m]);return t}:f},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),o=Math.max,c=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):c(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7f20":function(e,t,n){var r=n("86cc").f,o=n("69a8"),c=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,c)&&r(e,c,{configurable:!0,value:t})}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var r=n("cb7c"),o=n("c69a"),c=n("6a99"),l=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=c(t,!0),r(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(a){return e.call(t,a)};case 2:return function(a,b){return e.call(t,a,b)};case 3:return function(a,b,n){return e.call(t,a,b,n)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),o=Array.prototype;null==o[r]&&n("32e9")(o,r,{}),e.exports=function(e){o[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(t,n){t.exports=e},a481:function(e,t,n){"use strict";var r=n("cb7c"),o=n("4bf8"),c=n("9def"),l=n("4588"),h=n("0390"),f=n("5f1b"),d=Math.max,v=Math.min,m=Math.floor,y=/\$([$&`']|\d\d?|<[^>]*>)/g,_=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,(function(e,t,n,k){return[function(r,o){var c=e(this),l=null==r?void 0:r[t];return void 0!==l?l.call(r,c,o):n.call(String(c),r,o)},function(e,t){var o=k(n,e,this,t);if(o.done)return o.value;var m=r(e),y=String(this),_="function"==typeof t;_||(t=String(t));var O=m.global;if(O){var w=m.unicode;m.lastIndex=0}for(var T=[];;){var E=f(m,y);if(null===E)break;if(T.push(E),!O)break;""===String(E[0])&&(m.lastIndex=h(y,c(m.lastIndex),w))}for(var x,S="",I=0,i=0;i<T.length;i++){E=T[i];for(var j=String(E[0]),P=d(v(l(E.index),y.length),0),A=[],L=1;L<E.length;L++)A.push(void 0===(x=E[L])?x:String(x));var D=E.groups;if(_){var R=[j].concat(A,P,y);void 0!==D&&R.push(D);var M=String(t.apply(void 0,R))}else M=C(j,y,P,A,D,t);P>=I&&(S+=y.slice(I,P)+M,I=P+j.length)}return S+y.slice(I)}];function C(e,t,r,c,l,h){var f=r+e.length,d=c.length,v=_;return void 0!==l&&(l=o(l),v=y),n.call(h,v,(function(n,o){var h;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":h=l[o.slice(1,-1)];break;default:var v=+o;if(0===v)return n;if(v>d){var y=m(v/10);return 0===y?n:y<=d?void 0===c[y-1]?o.charAt(1):c[y-1]+o.charAt(1):n}h=c[v-1]}return void 0===h?"":h}))}}))},aae3:function(e,t,n){var r=n("d3f4"),o=n("2d95"),c=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==o(e))}},ac6a:function(e,t,n){for(var r=n("cadf"),o=n("0d58"),c=n("2aba"),l=n("7726"),h=n("32e9"),f=n("84f2"),d=n("2b4c"),v=d("iterator"),m=d("toStringTag"),y=f.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},k=o(_),i=0;i<k.length;i++){var C,O=k[i],w=_[O],T=l[O],E=T&&T.prototype;if(E&&(E[v]||h(E,v,y),E[m]||h(E,m,O),f[O]=y,w))for(C in r)E[C]||c(E,C,r[C],!0)}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),o=n("9def"),c=n("77f1");e.exports=function(e){return function(t,n,l){var h,f=r(t),d=o(f.length),v=c(l,d);if(e&&n!=n){for(;d>v;)if((h=f[v++])!=h)return!0}else for(;d>v;v++)if((e||v in f)&&f[v]===n)return e||v||0;return!e&&-1}}},c649:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return f})),n("a481");var r,o,c="undefined"!=typeof window?window.console:e.console,l=/-(\w)/g,h=(r=function(e){return e.replace(l,(function(e,t){return t?t.toUpperCase():""}))},o=Object.create(null),function(e){return o[e]||(o[e]=r(e))});function f(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function d(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}}).call(this,n("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}e.exports=g},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cadf:function(e,t,n){"use strict";var r=n("9c6c"),o=n("d53b"),c=n("84f2"),l=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=l(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),c.Arguments=c.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),o=n("6821"),c=n("c366")(!1),l=n("613b")("IE_PROTO");e.exports=function(object,e){var t,n=o(object),i=0,h=[];for(t in n)t!=l&&r(n,t)&&h.push(t);for(;e.length>i;)r(n,t=e[i++])&&(~c(h,t)||h.push(t));return h}},d2c8:function(e,t,n){var r=n("aae3"),o=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(e,t,n){"use strict";var r=n("5ca1"),o=n("9def"),c=n("d2c8"),l="startsWith",h=""[l];r(r.P+r.F*n("5147")(l),"String",{startsWith:function(e){var t=c(this,e,l),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return h?h.call(t,r,n):t.slice(n,n+r.length)===r}})},f6fd:function(e,t){!function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(t){var i,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(t.stack)||[!1])[1];for(i in n)if(n[i].src==e||"interactive"==n[i].readyState)return n[i];return null}}})}(document)},f751:function(e,t,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function c(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(e,i){return function(e){if(Array.isArray(e))return e}(e)||function(e,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(t.push(c.value),!i||t.length!==i);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}}(e,i)||c(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t),"undefined"!=typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d"),n("6762"),n("2fdb");var f=n("a352"),d=n.n(f),v=n("c649");function m(e,t){var n=this;this.$nextTick((function(){return n.$emit(e.toLowerCase(),t)}))}function y(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),m.call(t,e,n)}}function _(e){return["transition-group","TransitionGroup"].includes(e)}function k(slot,e,t){return slot[t]||(e[t]?e[t]():void 0)}var C=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],w=["Move"].concat(C,O).map((function(e){return"on"+e})),T=null,E={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=function(e){if(!e||1!==e.length)return!1;var t=l(e,1)[0].componentOptions;return!!t&&_(t.tag)}(t);var n=function(e,slot,t){var n=0,r=0,header=k(slot,t,"header");header&&(n=header.length,e=e?[].concat(h(header),h(e)):h(header));var footer=k(slot,t,"footer");return footer&&(r=footer.length,e=e?[].concat(h(e),h(footer)):h(footer)),{children:e,headerOffset:n,footerOffset:r}}(t,this.$slots,this.$scopedSlots),r=n.children,o=n.headerOffset,c=n.footerOffset;this.headerOffset=o,this.footerOffset=c;var f=function(e,t){var n=null,r=function(e,t){n=function(object,e,t){return void 0===t||((object=object||{})[e]=t),object}(n,e,t)};if(r("attrs",Object.keys(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,n){return t[n]=e[n],t}),{})),!t)return n;var o=t.on,c=t.props,l=t.attrs;return r("on",o),r("props",c),Object.assign(n.attrs,l),n}(this.$attrs,this.componentData);return e(this.getTag(),f,r)},created:function(){null!==this.list&&null!==this.value&&v.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&v.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&v.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};C.forEach((function(n){t["on"+n]=y.call(e,n)})),O.forEach((function(n){t["on"+n]=m.bind(e,n)}));var n=Object.keys(this.$attrs).reduce((function(t,n){return t[Object(v.a)(n)]=e.$attrs[n],t}),{}),r=Object.assign({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new d.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(v.a)(t);-1===w.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=function(e,t,n,r){if(!e)return[];var o=e.map((function(e){return e.elm})),c=t.length-r,l=h(t).map((function(e,t){return t>=c?o.length:o.indexOf(e)}));return n?l.filter((function(e){return-1!==e})):l}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=function(e,element){return e.map((function(e){return e.elm})).indexOf(element)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&_(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=h(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,h(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,component=this.getUnderlyingPotencialDraggableComponent(t);if(!component)return{component:component};var r=component.realList,o={list:r,component:component};if(t!==n&&r&&component.getUnderlyingVm){var c=component.getUnderlyingVm(n);if(c)return Object.assign(c,o)}return o},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),T=e.item},onDragAdd:function(e){var element=e.item._underlying_vm_;if(void 0!==element){Object(v.d)(e.item);var t=this.getVmIndex(e.newIndex);this.spliceList(t,0,element),this.computeIndexes();var n={element:element,newIndex:t};this.emitChanges({added:n})}},onDragRemove:function(e){if(Object(v.c)(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(v.d)(e.clone)},onDragUpdate:function(e){Object(v.d)(e.item),Object(v.c)(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=h(t.to.children).filter((function(e){return"none"!==e.style.display})),r=n.indexOf(t.related),o=e.component.getVmIndex(r);return-1===n.indexOf(T)&&t.willInsertAfter?o+1:o},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),o=this.context,c=this.computeFutureIndex(r,e);return Object.assign(o,{futureIndex:c}),n(Object.assign({},e,{relatedContext:r,draggedContext:o}),t)},onDragEnd:function(){this.computeIndexes(),T=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",E);var x=E;t.default=x}}).default},e.exports=r(n(4293))},304:function(e,t,n){"use strict";var r=n(37);n.d(t,"a",(function(){return r}))},3168:function(e,t,n){"use strict";var r=n(3169),o=n.n(r);t.a={install:function(e,t){t=t||"$worker",Object.defineProperty(e.prototype,t,{value:o.a})}}},3170:function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function a(b){b.component("fb-signin-button",{name:"fb-signin-button",render:function(e){return e("div",{attrs:{class:"fb-signin-button"},ref:"signinBtn"},this.$slots.default)},props:{params:{type:Object,required:!0,default:function(){return{}}}},mounted:function(){var e=this;this.$refs.signinBtn.addEventListener("click",(function(){window.FB.login((function(t){e.$emit(t.authResponse?"success":"error",t)}),e.params)}))}})}"object"==o(t)?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},3179:function(e,t,n){var r=n(2114),o=n(2117),c=n(4679);function l(html,e){return new c(e).process(html)}(t=e.exports=l).filterXSS=l,t.FilterXSS=c,function(){for(var i in r)t[i]=r[i];for(var e in o)t[e]=o[e]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},3180:function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,t):e}function l(e,t,n){return e.concat(t).map((function(e){return c(e,n)}))}function h(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function f(e,t){try{return t in e}catch(e){return!1}}function u(e,i,a){(a=a||{}).arrayMerge=a.arrayMerge||l,a.isMergeableObject=a.isMergeableObject||r,a.cloneUnlessOtherwiseSpecified=c;var t=Array.isArray(i);return t===Array.isArray(e)?t?a.arrayMerge(e,i,a):function(e,t,n){var i={};return n.isMergeableObject(e)&&h(e).forEach((function(t){i[t]=c(e[t],n)})),h(t).forEach((function(r){(function(e,t){return f(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(i[r]=f(e,r)&&n.isMergeableObject(t[r])?function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u}(r,n)(e[r],t[r],n):c(t[r],n))})),i}(e,i,a):c(i,a)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var i=u;t.a=function(e){var t=(e=e||{}).storage||window&&window.localStorage,n=e.key||"vuex";function r(e,t){var n=t.getItem(e);try{return void 0!==n?JSON.parse(n):void 0}catch(e){}}function o(){return!0}function c(e,t,n){return n.setItem(e,JSON.stringify(t))}function u(e,t){return Array.isArray(t)?t.reduce((function(t,n){return function(e,t,n){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce((function(e,t){return e[t]=e[t]||{}}),e)[t.pop()]=n),e}(t,n,(r=e,void 0===(r=((o=n).split?o.split("."):o).reduce((function(e,t){return e&&e[t]}),r))?void 0:r));var r,o}),{}):e}function a(e){return function(t){return e.subscribe(t)}}(e.assertStorage||function(){t.setItem("@@",1),t.removeItem("@@")})(t);var l,s=function(){return(e.getState||r)(n,t)};return e.fetchBeforeUse&&(l=s()),function(r){e.fetchBeforeUse||(l=s()),"object"==typeof l&&null!==l&&(r.replaceState(e.overwrite?l:i(r.state,l,{arrayMerge:e.arrayMerger||function(e,t){return t},clone:!1})),(e.rehydrated||function(){})(r)),(e.subscriber||a)(r)((function(r,i){(e.filter||o)(r)&&(e.setState||c)(n,(e.reducer||u)(i,e.paths),t)}))}}},320:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(17),o=n(691),c=n(23),l={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},h={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},f=Object(r.c)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};Object(r.b)(this,e);var l=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.media){var f=n.mediaError?n.mediaError:t.media.error||{},d=t.duration,v=t.currentTime,m=t.ended,y=t.src,_=t.currentSrc,k=t.media,C=k.readyState,O=k.networkState,w=n.errorCode||f.code;h[w]&&(w=h[w]);var T={playerVersion:o.a,currentTime:v,duration:d,ended:m,readyState:C,networkState:O,src:y||_,errorType:n.errorType,errorCode:w,message:n.errorMessage||f.message,mediaError:f,originError:n.originError?n.originError.stack:"",host:c.b.getHostFromUrl(y||_)};return n.ext&&Object.keys(n.ext).map((function(e){T[e]=n.ext[e]})),T}if(arguments.length>1){for(var E={playerVersion:o.a,domain:document.domain},x=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],i=0;i<arguments.length;i++)E[x[i]]=arguments[i];return E.ex=l?(l[arguments[0]]||{}).msg:"",E}}))},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(17),o=n(23),c={lang:{},langKeys:[],textKeys:[]};function l(e,t){return Object.keys(t).forEach((function(n){var c,h=o.b.typeOf(t[n]),f=o.b.typeOf(e[n]);"Array"===h?("Array"!==f&&(e[n]=[]),(c=e[n]).push.apply(c,Object(r.k)(t[n]))):"Object"===h?("Object"!==f&&(e[n]={}),l(e[n],t[n])):e[n]=t[n]})),e}function h(){Object.keys(c.lang.en).map((function(e){c.textKeys[e]=e}))}function use(e,t){var n=e.LANG;if(t||(t=c),t.lang){var r=e.TEXT||{};"zh"===n&&(n="zh-cn"),t.lang[n]?l(t.lang[n],r):(t.langKeys.push(n),t.lang[n]=r),h()}}use({LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}});var f={get textKeys(){return c.textKeys},get langKeys(){return c.langKeys},get lang(){var e={};return c.langKeys.map((function(t){e[t]=c.lang[t]})),c.lang["zh-cn"]&&(e.zh=c.lang["zh-cn"]||{}),e},extend:function(e,t){var n=[];if(t||(t=c),t.lang){n="Array"!==o.b.typeOf(e)?Object.keys(e).map((function(t){return{LANG:"zh"===t?"zh-cn":t,TEXT:e[t]}})):e;var r=t.lang;n.map((function(e){"zh"===e.LANG&&(e.LANG="zh-cn"),r[e.LANG]?l(r[e.LANG]||{},e.TEXT||{}):use(e,t)})),h()}},use:use,init:function(e){var t,n={lang:{},langKeys:[],textKeys:{},pId:e};return l(n.lang,c.lang),(t=n.langKeys).push.apply(t,Object(r.k)(c.langKeys)),l(n.textKeys,c.textKeys),n}}},3648:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(149))},37:function(e,t,n){"use strict";n.r(t),n.d(t,"ABORT",(function(){return P})),n.d(t,"AFTER_DEFINITION_CHANGE",(function(){return Q})),n.d(t,"AUTOPLAY_PREVENTED",(function(){return F})),n.d(t,"AUTOPLAY_STARTED",(function(){return N})),n.d(t,"BEFORE_DEFINITION_CHANGE",(function(){return J})),n.d(t,"BUFFER_CHANGE",(function(){return A})),n.d(t,"CANPLAY",(function(){return y})),n.d(t,"CANPLAY_THROUGH",(function(){return _})),n.d(t,"COMPLETE",(function(){return H})),n.d(t,"CSS_FULLSCREEN_CHANGE",(function(){return K})),n.d(t,"DEFINITION_CHANGE",(function(){return Z})),n.d(t,"DESTROY",(function(){return B})),n.d(t,"DOWNLOAD_SPEED_CHANGE",(function(){return W})),n.d(t,"DURATION_CHANGE",(function(){return k})),n.d(t,"EMPTIED",(function(){return S})),n.d(t,"ENDED",(function(){return c})),n.d(t,"ENTER_PLAYER",(function(){return $})),n.d(t,"ERROR",(function(){return h})),n.d(t,"FPS_STUCK",(function(){return ve})),n.d(t,"FULLSCREEN_CHANGE",(function(){return Y})),n.d(t,"LEAVE_PLAYER",(function(){return G})),n.d(t,"LOADED_DATA",(function(){return O})),n.d(t,"LOADED_METADATA",(function(){return w})),n.d(t,"LOADING",(function(){return z})),n.d(t,"LOAD_START",(function(){return x})),n.d(t,"MINI_STATE_CHANGE",(function(){return X})),n.d(t,"PAUSE",(function(){return l})),n.d(t,"PIP_CHANGE",(function(){return ie})),n.d(t,"PLAY",(function(){return r})),n.d(t,"PLAYER_BLUR",(function(){return D})),n.d(t,"PLAYER_FOCUS",(function(){return L})),n.d(t,"PLAYING",(function(){return o})),n.d(t,"PLAYNEXT",(function(){return ae})),n.d(t,"PROGRESS",(function(){return E})),n.d(t,"RATE_CHANGE",(function(){return T})),n.d(t,"READY",(function(){return R})),n.d(t,"REPLAY",(function(){return U})),n.d(t,"RESET",(function(){return ue})),n.d(t,"RETRY",(function(){return te})),n.d(t,"ROTATE",(function(){return re})),n.d(t,"SCREEN_SHOT",(function(){return oe})),n.d(t,"SEEKED",(function(){return d})),n.d(t,"SEEKING",(function(){return f})),n.d(t,"SEI_PARSED",(function(){return ee})),n.d(t,"SHORTCUT",(function(){return se})),n.d(t,"SOURCE_ERROR",(function(){return he})),n.d(t,"SOURCE_SUCCESS",(function(){return fe})),n.d(t,"STALLED",(function(){return I})),n.d(t,"STATS_EVENTS",(function(){return ge})),n.d(t,"SUSPEND",(function(){return j})),n.d(t,"SWITCH_SUBTITLE",(function(){return de})),n.d(t,"TIME_UPDATE",(function(){return v})),n.d(t,"URL_CHANGE",(function(){return V})),n.d(t,"URL_NULL",(function(){return M})),n.d(t,"USER_ACTION",(function(){return le})),n.d(t,"VIDEO_EVENTS",(function(){return pe})),n.d(t,"VIDEO_RESIZE",(function(){return ne})),n.d(t,"VOLUME_CHANGE",(function(){return C})),n.d(t,"WAITING",(function(){return m})),n.d(t,"XGLOG",(function(){return ce}));var r="play",o="playing",c="ended",l="pause",h="error",f="seeking",d="seeked",v="timeupdate",m="waiting",y="canplay",_="canplaythrough",k="durationchange",C="volumechange",O="loadeddata",w="loadedmetadata",T="ratechange",E="progress",x="loadstart",S="emptied",I="stalled",j="suspend",P="abort",A="bufferedChange",L="focus",D="blur",R="ready",M="urlNull",N="autoplay_started",F="autoplay_was_prevented",H="complete",U="replay",B="destroy",V="urlchange",W="download_speed_change",G="leaveplayer",$="enterplayer",z="loading",Y="fullscreen_change",K="cssFullscreen_change",X="mini_state_change",Z="definition_change",J="before_definition_change",Q="after_definition_change",ee="SEI_PARSED",te="retry",ne="video_resize",ie="pip_change",re="rotate",oe="screenShot",ae="playnext",se="shortcut",ce="xglog",le="user_action",ue="reset",he="source_error",fe="source_success",de="switch_subtitle",pe=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],ge={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},ve="fps_stuck"},3709:function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var t=iframe.contentWindow,n=t.eval,r=t.execScript;!n&&r&&(r.call(t,"null"),n=t.eval),forEach(Object_keys(e),(function(n){t[n]=e[n]})),forEach(globals,(function(n){e[n]&&(t[n]=e[n])}));var o=Object_keys(t),c=n.call(t,this.code);return forEach(Object_keys(t),(function(n){(n in e||-1===indexOf(o,n))&&(e[n]=t[n])})),forEach(globals,(function(n){n in e||defineProp(e,n,t[n])})),document.body.removeChild(iframe),c},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(code){var s=Script(code);return s[e].apply(s,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},4610:function(e,t){e.exports=function(){for(var e={},i=0;i<arguments.length;i++){var source=arguments[i];for(var t in source)n.call(source,t)&&(e[t]=source[t])}return e};var n=Object.prototype.hasOwnProperty},4679:function(e,t,n){var r=n(1118).FilterCSS,o=n(2114),c=n(2117),l=c.parseTag,h=c.parseAttr,f=n(1119);function d(e){return null==e}function v(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map((function(e){return e.toLowerCase()})):t[i.toLowerCase()]=e[i];return t}(e.whiteList||e.allowList):e.whiteList=o.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":o.attributeWrapSign,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}v.prototype.process=function(html){if(!(html=(html=html||"").toString()))return"";var e=this,t=e.options,n=t.whiteList,r=t.onTag,c=t.onIgnoreTag,v=t.onTagAttr,m=t.onIgnoreTagAttr,y=t.safeAttrValue,_=t.escapeHtml,k=e.attributeWrapSign,C=e.cssFilter;t.stripBlankChar&&(html=o.stripBlankChar(html)),t.allowCommentTag||(html=o.stripCommentTag(html));var O=!1;t.stripIgnoreTagBody&&(O=o.StripTagBody(t.stripIgnoreTagBody,c),c=O.onIgnoreTag);var w=l(html,(function(e,t,o,html,l){var O={sourcePosition:e,position:t,isClosing:l,isWhite:Object.prototype.hasOwnProperty.call(n,o)},w=r(o,html,O);if(!d(w))return w;if(O.isWhite){if(O.isClosing)return"</"+o+">";var T=function(html){var i=f.spaceIndex(html);if(-1===i)return{html:"",closing:"/"===html[html.length-2]};var e="/"===(html=f.trim(html.slice(i+1,-1)))[html.length-1];return e&&(html=f.trim(html.slice(0,-1))),{html:html,closing:e}}(html),E=n[o],x=h(T.html,(function(e,t){var n=-1!==f.indexOf(E,e),r=v(o,e,t,n);return d(r)?n?(t=y(o,e,t,C))?e+"="+k+t+k:e:d(r=m(o,e,t,n))?void 0:r:r}));return html="<"+o,x&&(html+=" "+x),T.closing&&(html+=" /"),html+=">"}return d(w=c(o,html,O))?_(html):w}),_);return O&&(w=O.remove(w)),w},e.exports=v},480:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return v}));var r=n(15),o=n(9),c=function(data){return Object(r.a)({method:"post",url:"/api/v1/task/meta-template/list",data:data})},l=function(data){return Object(r.a)({method:"post",url:"/api/v1/task/meta-template/batch-del",data:data})},h=function(data){return data.hasOwnProperty("ss")||(data.ss=o.e.GenerateCreate),Object(r.a)({method:"post",url:"/api/v1/task/meta-template/add",data:data})},f=function(data){return Object(r.a)({method:"post",url:"/api/v1/task/meta-template/detail",data:data})},d=function(data){return data.hasOwnProperty("ss")||(data.ss=o.e.GenerateCreate),Object(r.a)({method:"post",url:"/api/v1/task/meta-template/edit",data:data})},v=function(data){return Object(r.a)({method:"post",url:"/api/v1/task/meta-template/save-index",data:data})}},514:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var r=n(17),o=n(578),c={},l=null,h=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"add",value:function(e){e&&(c[e.playerId]=e,1===Object.keys(c).length&&this.setActive(e.playerId,!0))}},{key:"remove",value:function(e){e&&(e.isUserActive,delete c[e.playerId])}},{key:"_iterate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in c)if(Object.prototype.hasOwnProperty.call(c,n)){var r=c[n];if(t){if(e(r))break}else e(r)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var t=null;return this._iterate((function(n){var r=e(n);return r&&(t=n),r}),!0),t}},{key:"findAll",value:function(e){var t=[];return this._iterate((function(n){e(n)&&t.push(n)})),t}},{key:"setActive",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(c[e])return t?this.forEach((function(t){e===t.playerId?(t.isUserActive=!0,t.isInstNext=!1):t.isUserActive=!1})):c[e].isUserActive=t,e}},{key:"getActiveId",value:function(){for(var e=Object.keys(c),i=0;i<e.length;i++){var t=c[e[i]];if(t&&t.isUserActive)return e[i]}return null}},{key:"setNext",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(c[e])return t?this.forEach((function(t){e===t.playerId?(t.isUserActive=!1,t.isInstNext=!0):t.isInstNext=!1})):c[e].isInstNext=t,e}}],[{key:"getInstance",value:function(){return l||(l=new n),l}}]),n}(o.EventEmitter);function f(e){for(var t=Object.keys(c),i=0;i<t.length;i++){var p=c[t[i]];if(p.root===e)return p}return null}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return C}));var r=n(17),o=n(214),c=n(421),l=n.n(c),h=n(74),f=n(23),d={CONTROLS:"controls",ROOT:"root"},v={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},m="xg-icon-disable";function y(e){return!!e&&(e.indexOf&&/^(?:http|data:|\/)/.test(e))}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=null;if(e instanceof window.Element)return f.b.addClass(e,n),Object.keys(r).map((function(t){e.setAttribute(t,r[t])})),e;if(y(e)||y(e.url))return r.src=y(e)?e:e.url||"",c=f.b.createDom(e.tag||"img","",r,"xg-img ".concat(n));if("function"==typeof e)try{return(c=e())instanceof window.Element?(f.b.addClass(c,n),Object.keys(r).map((function(e){c.setAttribute(e,r[e])})),c):(h.b.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(o,"] is a function mast return an Element Object")),null)}catch(e){return h.b.logError("Plugin named [".concat(o,"]:createIcon"),e),null}return"string"==typeof e?f.b.createDomFromHtml(e,r,n):(h.b.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(o,"] is invalid")),null)}function k(e,t){var n=t.config.icons||t.playerConfig.icons;Object.keys(e).map((function(o){var c=e[o],l=c&&c.class?c.class:"",h=c&&c.attr?c.attr:{},f=null;n&&n[o]&&(l=function(e,t){return"object"===Object(r.l)(e)&&e.class&&"string"==typeof e.class?"".concat(t," ").concat(e.class):t}(n[o],l),h=function(e,t){return"object"===Object(r.l)(e)&&e.attr&&"object"===Object(r.l)(e.attr)&&Object.keys(e.attr).map((function(n){t[n]=e.attr[n]})),t}(n[o],h),f=_(n[o],o,l,h,t.pluginName)),!f&&c&&(f=_(c.icon?c.icon:c,h,l,{},t.pluginName)),t.icons[o]=f}))}var C=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.b)(this,n),(e=t.call(this,o)).__delegates=[],e}return Object(r.c)(n,[{key:"__init",value:function(e){if(Object(r.f)(Object(r.g)(n.prototype),"__init",this).call(this,e),e.root){var t=e.root,o=null;this.icons={},this.root=null,this.parent=null,k(this.registerIcons()||{},this),this.langText={};var c,l,d=this.registerLanguageTexts()||{};c=d,l=this,Object.keys(c).map((function(e){Object.defineProperty(l.langText,e,{get:function(){var t=l.lang,n=l.i18n;return n[e]?n[e]:c[e]&&c[e][t]||""}})}));var v="";try{v=this.render()}catch(e){throw h.b.logError("Plugin:".concat(this.pluginName,":render"),e),new Error("Plugin:".concat(this.pluginName,":render:").concat(e.message))}if(v)(o=n.insert(v,t,e.index)).setAttribute("data-index",e.index);else{if(!e.tag)return;(o=f.b.createDom(e.tag,"",e.attr,e.name)).setAttribute("data-index",e.index),t.appendChild(o)}this.root=o,this.parent=t;var m=this.config.attr||{},style=this.config.style||{};this.setAttr(m),this.setStyle(style),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var t=this.children();t&&"object"===Object(r.l)(t)&&Object.keys(t).length>0&&Object.keys(t).map((function(n){var o,c,l=n,h=t[l],d={root:e.root};"function"==typeof h?(o=e.config[l]||{},c=h):"object"===Object(r.l)(h)&&"function"==typeof h.plugin&&(o=h.options?f.b.deepCopy(e.config[l]||{},h.options):e.config[l]||{},c=h.plugin),d.config=o,void 0!==o.index&&(d.index=o.index),o.root&&(d.root=o.root),e.registerPlugin(c,d,l)}))}}},{key:"updateLang",value:function(e){e||(e=this.lang);var t=this.root,n=this.i18n,r=this.langText;t&&function e(t,n){for(var i=0;i<t.children.length;i++)t.children[i].children.length>0?e(t.children[i],n):n(t.children[i])}(t,(function(t){var o=t.getAttribute&&t.getAttribute("lang-key");if(o){var c=n[o.toUpperCase()]||r[o];c&&(t.innerHTML="function"==typeof c?c(e):c)}}))}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.i18n||{},r=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var text=n[t]||r[t]||"";text&&(e.innerHTML=text)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,f.b.addClass(this.find(".xgplayer-icon"),m)}},{key:"enable",value:function(){this.config.disable=!1,f.b.removeClass(this.find(".xgplayer-icon"),m)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.root=t.root||this.root;var c=Object(r.f)(Object(r.g)(n.prototype),"registerPlugin",this).call(this,e,t,o);return this._children.push(c),c}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,r){var o=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach((function(e){o.bindEL(e,t)})):this.bindEL(e,t);else{var c=n.delegate.call(this,this.root,e,t,r);this.__delegates=this.__delegates.concat(c)}}},{key:"unbind",value:function(e,t){var n=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach((function(e){n.unbindEL(e,t)})):this.unbindEL(e,t);else for(var r="".concat(e,"_").concat(t),i=0;i<this.__delegates.length;i++)if(this.__delegates[i].key===r){this.__delegates[i].destroy(),this.__delegates.splice(i,1);break}}},{key:"setStyle",value:function(e,t){var n=this;if(this.root)return"String"===f.b.typeOf(e)?this.root.style[e]=t:void("Object"===f.b.typeOf(e)&&Object.keys(e).map((function(t){n.root.style[t]=e[t]})))}},{key:"setAttr",value:function(e,t){var n=this;if(this.root)return"String"===f.b.typeOf(e)?this.root.setAttribute(e,t):void("Object"===f.b.typeOf(e)&&Object.keys(e).map((function(t){n.root.setAttribute(t,e[t])})))}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHTML=e,"function"==typeof t&&t())}},{key:"bindEL",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.addEventListener(e,t,n)}},{key:"unbindEL",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.removeEventListener(e,t,n)}},{key:"show",value:function(e){if(this.root)return this.root.style.display=void 0!==e?e:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display")?this.root.style.display="block":void 0}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(t&&t instanceof window.Element))return null;try{return"string"==typeof e?this.find(e).appendChild(t):e.appendChild(t)}catch(e){return h.b.logError("Plugin:appendChild",e),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,t=this.player;this.__delegates.map((function(e){e.destroy()})),this.__delegates=[],this._children instanceof Array&&(this._children.map((function(e){t.unRegisterPlugin(e.pluginName)})),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),Object(r.f)(Object(r.g)(n.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map((function(t){e[t]=null}))}}],[{key:"insert",value:function(html,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.children.length,r=Number(t),o=html instanceof window.Node;if(n){for(var i=0,c=null,l="";i<n;i++){c=e.children[i];var h=Number(c.getAttribute("data-index"));if(h>=r){l="beforebegin";break}h<r&&(l="afterend")}return o?"afterend"===l?e.appendChild(html):e.insertBefore(html,c):c.insertAdjacentHTML(l,html),"afterend"===l?e.children[e.children.length-1]:e.children[i]}return o?e.appendChild(html):e.insertAdjacentHTML("beforeend",html),e.children[e.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=[];if(e instanceof window.Node&&"function"==typeof r)if(Array.isArray(n))n.forEach((function(n){var h=l()(e,t,n,r,o);h.key="".concat(t,"_").concat(n),c.push(h)}));else{var h=l()(e,t,n,r,o);h.key="".concat(t,"_").concat(n),c.push(h)}return c}},{key:"ROOT_TYPES",get:function(){return d}},{key:"POSITIONS",get:function(){return v}}]),n}(o.a)},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"}},627:function(e,t,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},691:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="3.0.19"},696:function(e,t,n){"use strict";var r,o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},c=new Uint8Array(16);function l(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(c)}for(var h=[],f=0;f<256;++f)h.push((f+256).toString(16).slice(1));function d(e,t=0){return(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase()}t.a=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();var r=(e=e||{}).random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return d(r)}},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return l}));var r="undefined"!=typeof window&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,o={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},c="%c[xgplayer]",l={config:{debug:r?3:0},logInfo:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];this.config.debug>=3&&(t=console).log.apply(t,[c,o.info,e].concat(r))},logWarn:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];this.config.debug>=1&&(t=console).warn.apply(t,[c,o.warn,e].concat(r))},logError:function(e){var t;if(!(this.config.debug<1)){for(var n=this.config.debug>=2?"trace":"error",r=arguments.length,l=new Array(r>1?r-1:0),h=1;h<r;h++)l[h-1]=arguments[h];(t=console)[n].apply(t,[c,o.error,e].concat(l))}}};function h(e){e.logInfo=l.logInfo.bind(e),e.logWarn=l.logWarn.bind(e),e.logError=l.logError.bind(e)}},781:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}}},792:function(e,t,n){"use strict";n.d(t,"a",(function(){return Wt}));var r=n(17),o=n(94),c=n(23),l=n(37),h=n(74),f=n(59);function d(){return(new Date).getTime()}var v="loadstart",m="loadeddata",y="firstFrame",_="waitingStart",k="waitingEnd",C="seekStart",O="seekEnd",w=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,l=new Array(o),f=0;f<o;f++)l[f]=arguments[f];return e=t.call.apply(t,[this].concat(l)),Object(r.e)(Object(r.a)(e),"_onTimeupdate",(function(){e._state.isTimeUpdate=!0,e._state.autoplayStart&&(h.b.logInfo("[xgLogger]".concat(e.player.playerId," _onTimeupdate")),e._sendFF("onTimeupdate"))})),Object(r.e)(Object(r.a)(e),"_onAutoplayStart",(function(){h.b.logInfo("[xgLogger]".concat(e.player.playerId," _onAutoplayStart")),e._state.autoplayStart=!0,e.vt&&e._sendFF("onAutoplayStart")})),Object(r.e)(Object(r.a)(e),"_onReset",(function(){e._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},e.vt=0,e.pt=0,e.fvt=0,e.newPointTime=d(),e.loadedCostTime=0,e.startCostTime=0,e._isSeeking=!1,e.seekingStart=0,e.waitingStart=0,e.fixedWaitingStart=0,e._isWaiting=!1,e._waitTimer&&c.b.clearTimeout(Object(r.a)(e),e._waitTimer),e._waittTimer&&c.b.clearTimeout(Object(r.a)(e),e._waittTimer),e._waitTimer=null,e._waittTimer=null,e._waitType=0})),Object(r.e)(Object(r.a)(e),"_onSeeking",(function(){e.seekingStart||(e.suspendWaitingStatus("seek"),e.seekingStart=d(),e.emitLog(C,{start:d()}))})),Object(r.e)(Object(r.a)(e),"_onSeeked",(function(){e.suspendSeekingStatus("seeked")})),Object(r.e)(Object(r.a)(e),"_onWaitingLoadStart",(function(){e._isWaiting||e.vt||(e._isWaiting=!0,e.waitingStart=d(),e.fixedWaitingStart=d(),e._waitType=1,e.emitLog(_,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:1,endType:"loadstart"}))})),Object(r.e)(Object(r.a)(e),"_onWaiting",(function(){!e._isWaiting&&e.vt&&(e._isWaiting=!0,e.vt?e.seekingStart?e._waitType=2:e._waitType=0:e._waitType=1,e.fixedWaitingStart=d(),e._waitTimer=c.b.setTimeout(Object(r.a)(e),(function(){e._isWaiting&&(e.waitingStart=d(),c.b.clearTimeout(Object(r.a)(e),e._waitTimer),e._waitTimer=null,e._startWaitTimeout(),e.emitLog(_,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:e._waitType,endType:2===e._waitType?"seek":"playing"}))}),200))})),Object(r.e)(Object(r.a)(e),"_onError",(function(){e.suspendSeekingStatus("error"),e.suspendWaitingStatus("error")})),Object(r.e)(Object(r.a)(e),"_onPlaying",(function(){e._isWaiting&&e.suspendWaitingStatus("playing")})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=d(),this.loadedCostTime=0,this.startCostTime=0,this.on(l.LOAD_START,(function(){var t=e._state,n=t.autoplayStart,r=t.isFFSend;e.startCostTime=d()-e.newPointTime,h.b.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(n," isFFSend:").concat(r," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),r||(!t.isLs&&e.emitLog(v,{}),t.isLs=!0,t.isTimeUpdate=!1,t.isFFLoading=!0,e.pt=d(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())})),this.on(l.LOADED_DATA,(function(){e.vt=d(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var t=e._state,n=t.isTimeUpdate,r=t.isFFSend,o=t.autoplayStart;h.b.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(n||o)&&e._sendFF("loadedData"),r||e.emitLog(m,{}),e.suspendWaitingStatus("loadeddata")})),this.on(l.SEEKING,this._onSeeking),this.on(l.SEEKED,this._onSeeked),this.on(l.DESTROY,(function(){e.endState("destroy")})),this.on(l.URL_CHANGE,(function(){e.endState("urlChange"),h.b.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()})),this.on([l.PLAYING,l.CANPLAY],this._onPlaying),this.on(l.WAITING,this._onWaiting),this.on(l.ERROR,this._onError),this.on(l.RESET,(function(){h.b.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()}))}},{key:"_initOnceEvents",value:function(){this.off(l.AUTOPLAY_STARTED,this._onAutoplayStart),this.off(l.TIME_UPDATE,this._onTimeupdate),this.once(l.AUTOPLAY_STARTED,this._onAutoplayStart),this.once(l.TIME_UPDATE,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=d();var t=this._state,n=t.isFFLoading,r=t.isFFSend;h.b.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(n," !isFFSend:").concat(!r)),this.vt>0&&n&&!r&&(h.b.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(y,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&c.b.clearTimeout(this,this._waittTimer),this._waittTimer=c.b.setTimeout(this,(function(){e.suspendWaitingStatus("timeout"),c.b.clearTimeout(e,e._waittTimer),e._waittTimer=null}),this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var t=d(),n=t-this.seekingStart;this.seekingStart=0,this.emitLog(O,{end:t,costTime:n,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(c.b.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(c.b.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.waitingStart){var t=d(),n=t-this.waitingStart,r=t-this.fixedWaitingStart,o=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(k,{fixedCostTime:r>o?o:r,costTime:n>o?o:n,type:"loadeddata"===e?1:this._waitType,endType:2===this._waitType?"seek":e})}}},{key:"emitLog",value:function(e,data){var t=this.player;this.emit(l.XGLOG,Object(r.i)({t:d(),host:c.b.getHostFromUrl(t.currentSrc),vtype:t.vtype,eventType:e,currentTime:this.player.currentTime,readyState:t.video.readyState,networkState:t.video.networkState},data))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),n}(f.b);function T(){return(new DOMParser).parseFromString('<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">\n  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var E=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"registerIcons",value:function(){return{replay:T}}},{key:"afterCreate",value:function(){var e=this;f.b.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",(function(){e.player.replay()}),{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(l.ENDED,(function(){if(e.playerConfig.loop||c.b.addClass(e.player.root,"replay"),!e.config.disable){e.show();var path=e.root.querySelector("path");if(path){var t=window.getComputedStyle(path).getPropertyValue("transform");if("string"==typeof t&&t.indexOf("none")>-1)return null;path.setAttribute("transform",t)}}})),this.on(l.PLAY,(function(){e.hide()}))}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),c.b.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),n}(f.b),x=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){c.b.addClass(this.root,"hide")}},{key:"show",value:function(e){c.b.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){"string"==typeof e.player.config.poster&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(l.ENDED,(function(){e.isEndedShow&&c.b.removeClass(e.root,"hide")})),this.config.hideCanplay?(this.once(l.TIME_UPDATE,(function(){e.onTimeUpdate()})),this.on(l.URL_CHANGE,(function(){c.b.removeClass(e.root,"hide"),c.b.addClass(e.root,"xg-showplay"),e.once(l.TIME_UPDATE,(function(){e.onTimeUpdate()}))}))):this.on(l.PLAY,(function(){c.b.addClass(e.root,"hide")}))}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.config[n]=e[n]}));var n=this.config.poster;this.update(n)}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?c.b.removeClass(this.root,"xg-showplay"):this.once(l.TIME_UPDATE,(function(){e.onTimeUpdate()}))}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"getBgSize",value:function(e){var t="";switch(e){case"cover":t="cover";break;case"contain":t="contain";break;case"fixHeight":t="auto 100%";break;default:t=""}return t?"background-size: ".concat(t,";"):""}},{key:"render",value:function(){var e=this.config,t=e.poster,n=e.hideCanplay,r=e.fillMode,o=e.notHidden,c=this.getBgSize(r),style=t?"background-image:url(".concat(t,");").concat(c):c;return'<xg-poster class="xgplayer-poster '.concat(o?"xg-not-hidden":n?"xg-showplay":"",'" style="').concat(style,'">\n    </xg-poster>')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),n}(f.b),S=n(117);function I(){return(new DOMParser).parseFromString('<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',"image/svg+xml").firstChild}function j(){return(new DOMParser).parseFromString('<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',"image/svg+xml").firstChild}var P={};function A(e){e?window.clearTimeout(e):Object.keys(P).map((function(e){window.clearTimeout(P[e].id),delete P[e]}))}var L=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"onPlayerReset",(function(){o.autoPlayStart=!1;var e="auto"===o.config.mode?"auto-hide":"hide";o.setAttr("data-state","play"),c.b.removeClass(o.root,e),o.show()})),Object(r.e)(Object(r.a)(o),"onAutoplayStart",(function(){if(!o.autoPlayStart){var e="auto"===o.config.mode?"auto-hide":"hide";c.b.addClass(o.root,e),o.autoPlayStart=!0,o.onPlayPause("play")}})),o.autoPlayStart=!1,o}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this,t=this.player,n=this.playerConfig;this.initIcons(),this.once(l.READY,(function(){n&&(n.lang&&"en"===n.lang?c.b.addClass(t.root,"lang-is-en"):"jp"===n.lang&&c.b.addClass(t.root,"lang-is-jp"))})),this.on(l.AUTOPLAY_STARTED,this.onAutoplayStart),n.autoplay||this.show(),this.on(l.AUTOPLAY_PREVENTED,(function(){var t="auto"===e.config.mode?"auto-hide":"hide";e.setAttr("data-state","play"),c.b.removeClass(e.root,t),e.show()})),this.on(l.PLAY,(function(){e.onPlayPause("play")})),this.on(l.PAUSE,(function(){e.onPlayPause("pause")})),this.on(l.RESET,(function(){e.onPlayerReset()})),this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(t){t.cancelable&&t.preventDefault(),t.stopPropagation();var n=e.player.paused;e.emitUserAction(t,"switch_play_pause",{props:"paused",from:n,to:!n})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:I,class:"xg-icon-play"},startPause:{icon:j,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){c.b.addClass(this.root,"hide")}},{key:"show",value:function(e){c.b.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){c.b.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){c.b.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var t=this;this._animateId=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:null,end:null};return P[e]&&window.clearTimeout(P[e].id),P[e]={},n.start&&n.start(),P[e].id=window.setTimeout((function(){n.end&&n.end(),window.clearTimeout(P[e].id),delete P[e]}),t),P[e].id}("pauseplay",400,{start:function(){c.b.addClass(t.root,"interact"),t.show(),t.switchStatus(!0)},end:function(){c.b.removeClass(t.root,"interact"),!e&&t.hide(),t._animateId=null}})}},{key:"endAnimate",value:function(){c.b.removeClass(this.root,"interact"),A(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var t=this.player;(e.cancelable&&e.preventDefault(),e.stopPropagation(),t.state<S.a.READY)||(this.player.paused||t.state!==S.a.RUNNING?t.play():t.pause())}},{key:"onPlayPause",value:function(e){var t=this.config,n=this.player;if(n&&!(n.state<S.a.RUNNING)&&this.autoPlayStart){if("show"===t.mode)return this.switchStatus(),void this.show();if("auto"!==t.mode){if(t.isShowPause&&n.paused&&!n.ended||t.isShowEnd&&n.ended)return this.switchStatus(),this.show(),void this.endAnimate();if(t.disableAnimate)return this.switchStatus(),void this.hide();if("play"===e)this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||n.ended)return;this.animate()}}else this.switchStatus()}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),A(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?"auto"===this.config.mode?"auto-hide":"hide":"";return'\n    <xg-start class="xgplayer-start '.concat(e,'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),n}(f.b),D=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"render",value:function(){var e=this.config.innerHtml,t=c.b.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)t.appendChild(e);else if(e&&"string"==typeof e)t.innerHTML=e;else{for(var n="",i=1;i<=12;i++)n+='<div class="xgplayer-enter-bar'.concat(i,'"></div>');t.innerHTML='<div class="xgplayer-enter-spinner">'.concat(n,"</div>")}return t}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),n}(f.b);function R(e,t,n){try{return' <div class="xg-tips '.concat(n?"hide":" ",'" lang-key="').concat(e.i18nKeys[t],'">\n    ').concat(e.i18n[t],"\n    </div>")}catch(e){return'<div class="xg-tips hide"></div>'}}var M=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[e],'">').concat(this.i18n[e],"</span></div>\n      </xg-icon>")}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:10}}}]),n}(f.b),N=n(578),F=n.n(N);function H(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!Number.isNaN(t)&&t}var U=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],B=U.length;function V(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"===Object(r.l)(e)&&e.nodeType){var style=function(e){return window.getComputedStyle(e)}(e);if("none"===style.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0;i<B;i++)e[U[i]]=0;return e}();var t={};t.width=e.offsetWidth,t.height=e.offsetHeight;for(var n=t.isBorderBox="border-box"===style.boxSizing,i=0;i<B;i++){var o=U[i],c=style[o],l=parseFloat(c);t[o]=Number.isNaN(l)?0:l}var h=t.paddingLeft+t.paddingRight,f=t.paddingTop+t.paddingBottom,d=t.marginLeft+t.marginRight,v=t.marginTop+t.marginBottom,m=t.borderLeftWidth+t.borderRightWidth,y=t.borderTopWidth+t.borderBottomWidth,_=n,k=H(style.width);!1!==k&&(t.width=k+(_?0:h+m));var C=H(style.height);return!1!==C&&(t.height=C+(_?0:f+y)),t.innerWidth=t.width-(h+m),t.innerHeight=t.height-(f+y),t.outerWidth=t.width+d,t.outerHeight=t.height+v,t}}function W(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier===t)return n}}var G="dragStart",$="dragMove",z="dragEnded",Y={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},K=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.b)(this,n),(o=t.call(this)).isEnabled=!0,o.isDragging=!1,o.isDown=!1,o.position={},o.downPoint={},o.dragPoint={x:0,y:0},o.startPos={x:0,y:0},o._root=e instanceof Element?e:document.querySelector(e),o._handlerDom=c.handle instanceof Element?c.handle:document.querySelector(c.handle),o._root&&o._handlerDom?(o._bindStartEvent(),o):Object(r.j)(o)}return Object(r.c)(n,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Y[this._startKey].map((function(t){e["on".concat(t)]=e["on".concat(t)].bind(e)}))}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var t=this;if(e){var n=Y[this._startKey];n.map((function(e){window.addEventListener(e,t["on".concat(e)])})),this._boundPointerEvents=n}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map((function(t){window.removeEventListener(t,e["on".concat(t)])})),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame((function(){e.animate()})))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var t=e.changedTouches[0];this.dragStart(e,t),this.touchIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var t=W(e.changedTouches,this.touchIdentifier);t&&this.dragMove(e,t)}},{key:"ontouchend",value:function(e){var t=W(e.changedTouches,this.touchIdentifier);t&&this.dragEnd(e,t),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var t=W(e.changedTouches,this.touchIdentifier);t&&this.dragCancel(e,t)}},{key:"dragStart",value:function(e,t){if(this._root&&!this.isDown&&this.isEnabled){this.downPoint=t,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var n=V(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-n.height,this.startPos.maxX=window.innerWidth-n.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,t){this.isDragging=!0,this.animate(),this.emit(G,this.startPos)}},{key:"dragEnd",value:function(e,t){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(z)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,t){var n={x:t.pageX-this.downPoint.pageX,y:t.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this.dragRealStart(e,t),n}},{key:"dragMove",value:function(e,t){if(e=e||window.event,this.isDown){var n=this.startPos,r=n.x,o=n.y,c=this._dragPointerMove(e,t),l=c.x,h=c.y;l=this.checkContain("x",l,r),h=this.checkContain("y",h,o),this.position.x=r+l,this.position.y=o+h,this.dragPoint.x=l,this.dragPoint.y=h,this.emit($,this.position)}}},{key:"dragCancel",value:function(e,t){this.dragEnd(e,t)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,t,n){return t+n<0?0-n:"x"===e&&t+n>this.startPos.maxX?this.startPos.maxX-n:"y"===e&&t+n>this.startPos.maxY?this.startPos.maxY-n:t}},{key:"_getPosition",value:function(){var style=window.getComputedStyle(this._root),e=this._getPositionCoord(style.left,"width"),t=this._getPositionCoord(style.top,"height");this.position.x=Number.isNaN(e)?0:e,this.position.y=Number.isNaN(t)?0:t,this._addTransformPosition(style)}},{key:"_addTransformPosition",value:function(style){var e=style.transform;if(0===e.indexOf("matrix")){var t=e.split(","),n=0===e.indexOf("matrix3d")?12:4,r=parseInt(t[n],10),o=parseInt(t[n+1],10);this.position.x+=r,this.position.y+=o}}},{key:"_getPositionCoord",value:function(e,t){if(-1!==e.indexOf("%")){var n=V(this._root.parentNode);return n?parseFloat(e)/100*n[t]:0}return parseInt(e,10)}}]),n}(F.a),X=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"onCancelClick",(function(e){o.exitMini(),o.isClose=!0})),Object(r.e)(Object(r.a)(o),"onCenterClick",(function(e){var t=Object(r.a)(o).player;t.paused?t.play():t.pause()})),Object(r.e)(Object(r.a)(o),"onScroll",(function(e){if(!(!window.scrollY&&0!==window.scrollY||Math.abs(window.scrollY-o.pos.scrollY)<50)){var t=parseInt(c.b.getCss(o.player.root,"height"));t+=o.config.scrollTop,o.pos.scrollY=window.scrollY,window.scrollY>t+5?!o.isMini&&!o.isClose&&o.getMini():window.scrollY<=t&&(o.isMini&&o.exitMini(),o.isClose=!1)}})),o.isMini=!1,o.isClose=!1;var l=Object(r.a)(o).config;return o.pos={left:l.left<0?window.innerWidth-l.width-20:l.left,top:l.top<0?window.innerHeight-l.height-20:l.top,height:o.config.height,width:o.config.width,scrollY:window.scrollY||0},o.lastStyle=null,o}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.mini&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(l.PAUSE,(function(){e.setAttr("data-state","pause")})),this.on(l.PLAY,(function(){e.setAttr("data-state","play")}))}},{key:"onPluginsReady",value:function(){var e=this,t=this.player;if(!this.config.disable){if(this.config.isShowIcon){var n={config:{onClick:function(){e.getMini()}}};t.controls.registerPlugin(M,n,M.pluginName)}var r=c.b.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",r,this.onCancelClick),this.bind(".play-icon",r,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new K(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:I,class:"xg-icon-play"},pause:{icon:j,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var t=this.player,n=this.playerConfig,r=this.config.target||this.player.root;this.lastStyle={},c.b.addClass(t.root,"xgplayer-mini"),["width","height","top","left"].map((function(t){e.lastStyle[t]=r.style[t],r.style[t]="".concat(e.pos[t],"px")})),n.fluid&&(r.style["padding-top"]=""),this.emit(l.MINI_STATE_CHANGE,!0),t.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var t=this.player,n=this.playerConfig,r=this.config.target||this.player.root;c.b.removeClass(t.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map((function(t){r.style[t]=e.lastStyle[t]})),this.lastStyle=null,n.fluid&&(t.root.style.width="100%",t.root.style.height="0",t.root.style["padding-top"]="".concat(100*n.height/n.width,"%")),this.emit(l.MINI_STATE_CHANGE,!1),this.isMini=t.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=c.b.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      '.concat(R(this,"MINI_DRAG",this.playerConfig.isHideTips),'\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),n}(f.b),Z=n(214),J=(n(421),n(134)),Q={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},ee=["videoClick","videoDbClick"],te=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"onMouseMove",(function(t){var n=Object(r.a)(e),o=n.player,c=n.playerConfig;o.isActive||(o.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&o.media.focus())})),Object(r.e)(Object(r.a)(e),"onMouseEnter",(function(t){var n=Object(r.a)(e),o=n.playerConfig,c=n.player;!o.closeFocusVideoFocus&&c.media.focus(),o.closeDelayBlur?c.focus({autoHide:!1}):c.focus(),e.emit(l.ENTER_PLAYER)})),Object(r.e)(Object(r.a)(e),"onMouseLeave",(function(t){var n=e.playerConfig,r=n.closePlayerBlur,o=n.leavePlayerTime,c=n.closeDelayBlur;r||c||(o?e.player.focus({autoHide:!0,delay:o}):e.player.blur({ignorePaused:!0})),e.emit(l.LEAVE_PLAYER)})),Object(r.e)(Object(r.a)(e),"onVideoClick",(function(t){var n=Object(r.a)(e),o=n.player,c=n.playerConfig;t.target&&c.closeVideoClick||t.target!==o.root&&t.target!==o.media&&t.target!==o.innerContainer&&t.target!==o.media.__canvas||(t.preventDefault(),c.closeVideoStopPropagation||t.stopPropagation(),e._clickCount++,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),e.clickTimer=setTimeout((function(){e._clickCount&&(e._clickCount--,Object(J.f)(Object(r.a)(e),ee[0],(function(t,data){e.switchPlayPause(data.e)}),{e:t,paused:o.paused}),clearTimeout(e.clickTimer),e.clickTimer=null)}),300))})),Object(r.e)(Object(r.a)(e),"onVideoDblClick",(function(t){var n=Object(r.a)(e),o=n.player,c=n.playerConfig;c.closeVideoDblclick||!t.target||t.target!==o.media&&t.target!==o.media.__canvas||(!c.closeVideoClick&&e._clickCount<2?e._clickCount=0:(e._clickCount=0,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),t.preventDefault(),t.stopPropagation(),Object(J.f)(Object(r.a)(e),ee[1],(function(t,data){e.emitUserAction(data.e,"switch_fullscreen",{props:"fullscreen",from:o.fullscreen,to:!o.fullscreen}),o.fullscreen?o.exitFullscreen():o.getFullscreen()}),{e:t,fullscreen:o.fullscreen})))})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,ee.map((function(t){e.__hooks[t]=null})),"mobile"===this.playerConfig.isMobileSimulateMode||"mobile"===o.a.device&&!o.a.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,t=this.player,n=t.media,r=t.root,o=this.playerConfig.enableContextmenu;r&&r.addEventListener("click",this.onVideoClick,!1),r&&r.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Q).map((function(t){r.addEventListener(t,e[Q[t]],!1)})),!o&&n&&n.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var t=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:t.paused,to:!t.paused}),t.ended?t.duration!==1/0&&t.duration>0&&t.replay():t.paused?t.play():t.pause()}},{key:"onContextmenu",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,t=this.player,video=t.video,n=t.root;this.clickTimer&&clearTimeout(this.clickTimer),n.removeEventListener("click",this.onVideoClick,!1),n.removeEventListener("dblclick",this.onVideoDblClick,!1),video.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Q).map((function(t){n.removeEventListener(t,e[Q[t]],!1)}))}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),n}(Z.a),ne="press",ie="pressend",re="doubleclick",oe="click",ae="touchmove",se="touchstart",ce="touchend",le={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},ue={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function he(e){return e&&e.length>0?e[e.length-1]:null}var fe=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{eventType:"touch"};Object(r.b)(this,e),Object(r.e)(this,"onTouchStart",(function(e){var t=n._pos,r=n.root,o=he(e.touches);t.x=o?parseInt(o.pageX,10):e.pageX,t.y=o?parseInt(o.pageX,10):e.pageX,t.start=!0,n.__setPress(e),r.addEventListener(n.events.end,n.onTouchEnd),r.addEventListener(n.events.cancel,n.onTouchCancel),r.addEventListener(n.events.move,n.onTouchMove),n.trigger(se,e)})),Object(r.e)(this,"onTouchCancel",(function(e){n.onTouchEnd(e)})),Object(r.e)(this,"onTouchEnd",(function(e){var t=n._pos,r=n.root;n.__clearPress(),r.removeEventListener(n.events.cancel,n.onTouchCancel),r.removeEventListener(n.events.end,n.onTouchEnd),r.removeEventListener(n.events.move,n.onTouchMove),e.moving=t.moving,e.press=t.press,t.press&&n.trigger(ie,e),n.trigger(ce,e),!t.press&&!t.moving&&n.__setDb(e),t.press=!1,t.start=!1,t.moving=!1})),Object(r.e)(this,"onTouchMove",(function(e){var t=n._pos,r=n.config,o=he(e.touches),c=o?parseInt(o.pageX,10):e.pageX,l=o?parseInt(o.pageY,10):e.pageX,h=c-t.x,f=l-t.y;Math.abs(f)<r.miniStep&&Math.abs(h)<r.miniStep||(n.__clearPress(),t.press&&n.trigger(ie,e),t.press=!1,t.moving=!0,n.trigger(ae,e))})),this._pos={moving:!1,start:!1,x:0,y:0},this.config={pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0},Object.keys(o).map((function(e){n.config[e]=o[e]})),this.root=t,this.events="mouse"===o.eventType?ue:le,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return Object(r.c)(e,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(e){var t=this,n=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout((function(){t.trigger(ne,e),t._pos.press=!0,t.__clearPress()}),n.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(e){var t=this,n=this.config;if(this.dbIntrvalId)return this.__clearDb(),void this.trigger(re,e);this.dbIntrvalId=setTimeout((function(){t.__clearDb(),t._pos.start||t._pos.press||t._pos.moving||t.trigger(oe,e)}),n.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(e,t){this.__handlers[e]||(this.__handlers[e]=[]),this.__handlers[e].push(t)}},{key:"off",value:function(e,t){if(this.__handlers[e]){for(var n=this.__handlers[e],r=-1,i=0;i<n.length;i++)if(n[i]===t){r=i;break}r>=0&&this.__handlers[e].splice(r,1)}}},{key:"trigger",value:function(e,t){this.__handlers[e]&&this.__handlers[e].map((function(n){try{n(t)}catch(t){console.error("trigger>>:".concat(e),t)}}))}},{key:"destroy",value:function(){var e=this,map={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(map).forEach((function(t){e.root.removeEventListener(t,e[map[t]])}))}}]),e}();function de(){return(new DOMParser).parseFromString('<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path opacity="0.54"\n    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"\n    fill="white" />\n  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>\n</svg>',"image/svg+xml").firstChild}var pe="auto",ge="seeking",ve="playbackrate",me=["videoClick","videoDbClick"],ye=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"onTouchStart",(function(e){var t=Object(r.a)(o),n=t.player,l=t.config,h=t.pos,f=t.playerConfig,d=o.getTouche(e);if(d&&!l.disableGesture&&o.duration>0&&!n.ended){h.isStart=!0,o.timer&&clearTimeout(o.timer),c.b.checkIsFunction(f.disableSwipeHandler)&&f.disableSwipeHandler(),o.find(".xg-dur").innerHTML=c.b.format(o.duration);var rect=o.root.getBoundingClientRect();90===n.rotateDeg?(h.top=rect.left,h.left=rect.top,h.width=rect.height,h.height=rect.width):(h.top=rect.top,h.left=rect.left,h.width=rect.width,h.height=rect.height);var v=parseInt(d.pageX-h.left,10),m=parseInt(d.pageY-h.top,10);h.x=90===n.rotateDeg?m:v,h.y=90===n.rotateDeg?v:m,h.scopeL=l.scopeL*h.width,h.scopeR=(1-l.scopeR)*h.width,h.scopeM1=h.width*(1-l.scopeM)/2,h.scopeM2=h.width-h.scopeM1}})),Object(r.e)(Object(r.a)(o),"onTouchMove",(function(e){var t=o.getTouche(e),n=Object(r.a)(o),c=n.pos,l=n.config,h=n.player;if(t&&!l.disableGesture&&o.duration&&c.isStart){var f=l.miniMoveStep,d=l.hideControlsActive,v=parseInt(t.pageX-c.left,10),m=parseInt(t.pageY-c.top,10),y=90===h.rotateDeg?m:v,_=90===h.rotateDeg?v:m;if(Math.abs(y-c.x)>f||Math.abs(_-c.y)>f){var k=y-c.x,C=_-c.y,O=c.scope;if(-1===O&&(0===(O=o.checkScope(y,_,k,C,c))&&(d?h.blur():h.focus({autoHide:!1}),!c.time&&(c.time=parseInt(1e3*h.currentTime,10)+1e3*o.timeOffset)),c.scope=O),-1===O||O>0&&!l.gestureY||0===O&&!l.gestureX)return;o.executeMove(k,C,O,c.width,c.height),c.x=y,c.y=_}}})),Object(r.e)(Object(r.a)(o),"onTouchEnd",(function(e){var t=Object(r.a)(o),n=t.player,l=t.pos,h=t.playerConfig;if(setTimeout((function(){n.getPlugin("progress")&&n.getPlugin("progress").resetSeekState()}),10),l.isStart){l.scope>-1&&e.cancelable&&e.preventDefault();var f=o.config,d=f.disableGesture,v=f.gestureX;!d&&v?o.endLastMove(l.scope):l.time=0,l.scope=-1,o.resetPos(),c.b.checkIsFunction(h.enableSwipeHandler)&&h.enableSwipeHandler(),o.changeAction(pe)}})),Object(r.e)(Object(r.a)(o),"onRootTouchMove",(function(e){!o.config.disableGesture&&o.config.gestureX&&o.checkIsRootTarget(e)&&(e.stopPropagation(),o.pos.isStart?o.onTouchMove(e):o.onTouchStart(e))})),Object(r.e)(Object(r.a)(o),"onRootTouchEnd",(function(e){o.pos.scope>-1&&o.onTouchEnd(e)})),o.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},o.timer=null,o}return Object(r.c)(n,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:de,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;me.map((function(t){e.__hooks[t]=null}));var t=this.playerConfig,n=this.config,r=this.player;!0===t.closeVideoDblclick&&(n.closedbClick=!0),this.resetPos(),c.b.isUndefined(t.disableGesture)||(n.disableGesture=!!t.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=c.b.createDom("xg-mask","",{},"xgmask"),r.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var o="mouse"===this.domEventType?"mouse":"touch";this.touch=new fe(this.root,{eventType:o,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",(function(e){e.preventDefault()})),r.root.addEventListener("touchmove",this.onRootTouchMove,!0),r.root.addEventListener("touchend",this.onRootTouchEnd,!0),r.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var h=this.player.controls;h&&h.center&&(h.center.addEventListener("touchmove",this.onRootTouchMove,!0),h.center.addEventListener("touchend",this.onRootTouchEnd,!0),h.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on(l.DURATION_CHANGE,(function(){var t=e.player,n=e.config;1e3*t.duration<n.moveDuration&&(n.moveDuration=1e3*t.duration)})),this.on([l.CANPLAY,l.ENDED],(function(){var t=e.pos,time=t.time;!t.isStart&&time>0&&(e.pos.time=0)}));var f={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(f).map((function(t){e.touch.on(t,(function(n){e[f[t]](n)}))})),!n.disableActive){var d=r.plugins.progress;d&&(d.addCallBack("dragmove",(function(data){e.activeSeekNote(data.currentTime,data.forward)})),["dragend","click"].forEach((function(t){d.addCallBack(t,(function(){e.changeAction(pe)}))})))}}},{key:"registerThumbnail",value:function(){var e=this.player.plugins.thumbnail;if(e&&e.usable){this.thumbnail=e.createThumbnail(null,"mobile-thumbnail");var t=this.find(".time-preview");t.insertBefore(this.thumbnail,t.children[0])}}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle,t=e.playedColor,n=e.progressColor,r=e.timePreviewStyle,o=e.curTimeColor,l=e.durationColor;if(t&&(this.find(".xg-curbar").style.backgroundColor=t),n&&(this.find(".xg-bar").style.backgroundColor=n),r){var h=this.find(".time-preview");Object.keys(r).forEach((function(e){h.style[e]=r[e]}))}var f=o||t,d=l;f&&(this.find(".xg-cur").style.color=f),d&&(this.find(".xg-dur").style.color=d),this.config.disableTimeProgress&&c.b.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map((function(t){e.pos[t]=0}))):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var t=this.player;this.root.setAttribute("data-xg-action",e);var n=t.plugins.start;n&&n.recover()}},{key:"getTouche",value:function(e){this.player.rotateDeg;var t=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return{pageX:t.pageX,pageY:t.pageY}}},{key:"checkScope",value:function(e,t,n,r,o){var c=o.width,l=-1;if(e<0||e>c)return l;var h=0===r?Math.abs(n):Math.abs(n/r);return Math.abs(n)>0&&h>=1.73&&e>o.scopeM1&&e<o.scopeM2?l=0:(0===Math.abs(n)||h<=.57)&&(l=e<o.scopeL?1:e>o.scopeR?2:3),l}},{key:"executeMove",value:function(e,t,n,r,c){switch(n){case 0:this.updateTime(e/r*this.config.scopeM);break;case 1:this.updateBrightness(t/c);break;case 2:o.a.os.isIos||this.updateVolume(t/c)}}},{key:"endLastMove",value:function(e){var t=this,n=this.pos,r=this.player,o=this.config,time=(n.time-this.timeOffset)/1e3;if(0===e)r.seek(Number(time).toFixed(1)),o.hideControlsEnd?r.blur():r.focus(),this.timer=setTimeout((function(){t.pos.time=0}),500);this.changeAction(pe)}},{key:"checkIsRootTarget",value:function(e){var t=this.player.plugins||{};return(!t.progress||!t.progress.root.contains(e.target))&&(t.start&&t.start.root.contains(e.target)||t.controls&&t.controls.root.contains(e.target))}},{key:"sendUseAction",value:function(e){var t=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t,to:!t})}},{key:"clickHandler",value:function(e){var t=this.player,n=this.config,r=this.playerConfig;t.state<S.a.RUNNING?r.closeVideoClick||(this.sendUseAction(c.b.createEvent("click")),t.play()):!n.closedbClick||r.closeVideoClick?t.isActive?t.blur():t.focus():r.closeVideoClick||((t.isActive||n.focusVideoClick)&&(this.sendUseAction(c.b.createEvent("click")),this.switchPlayPause()),t.focus())}},{key:"dbClickHandler",value:function(e){var t=this.config,n=this.player;!t.closedbClick&&n.state>=S.a.RUNNING&&(this.sendUseAction(c.b.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var t=this,n=this.player;Object(J.f)(this,me[0],(function(e,data){t.clickHandler(data.e)}),{e:e,paused:n.paused})}},{key:"onDbClick",value:function(e){var t=this,n=this.player;Object(J.f)(this,me[1],(function(e,data){t.dbClickHandler(data.e)}),{e:e,paused:n.paused})}},{key:"onPress",value:function(e){var t=this.pos,n=this.config,r=this.player;n.disablePress||(t.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:r.playbackRate,to:n.pressRate}),r.playbackRate=n.pressRate,this.changeAction(ve))}},{key:"onPressEnd",value:function(e){var t=this.pos,n=this.config,r=this.player;n.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:r.playbackRate,to:t.rate}),r.playbackRate=t.rate,t.rate=1,this.changeAction(pe))}},{key:"updateTime",value:function(e){var t=this.player,n=this.config,r=this.player.duration;e=Number(e.toFixed(4));var time=parseInt(e*n.moveDuration,10)+this.timeOffset;time=(time+=this.pos.time)<0?0:time>1e3*r?1e3*r-200:time,t.getPlugin("time")&&t.getPlugin("time").updateTime(time/1e3),t.getPlugin("progress")&&t.getPlugin("progress").updatePercent(time/1e3/this.duration,!0),this.activeSeekNote(time/1e3,e>0),n.isTouchingSeek&&t.seek(Number((time-this.timeOffset)/1e3).toFixed(1)),this.pos.time=time}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.player,n=this.pos;if(e=parseInt(100*e,10),n.volume+=e,!(Math.abs(n.volume)<10)){var r=parseInt(10*t.volume,10)-parseInt(n.volume/10,10);r=r>10?10:r<1?0:r,t.volume=r/10,n.volume=0}}},{key:"updateBrightness",value:function(e){var t=this.pos,n=this.config,r=this.xgMask;if(n.darkness){this.player.rotateDeg&&(e=-e);var o=t.light+.8*e;o=o>n.maxDarkness?n.maxDarkness:o<0?0:o,r&&(r.style.backgroundColor="rgba(0,0,0,".concat(o,")")),t.light=o}}},{key:"activeSeekNote",value:function(time){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=this.player,n=this.config,r=!(this.duration!==1/0&&this.duration>0);if(time&&"number"==typeof time&&!r&&!n.disableActive){time<0?time=0:time>t.duration&&(time=t.duration-.2),this.changeAction(ge);var o=t.plugins.start;o&&o.focusHide(),this.find(".xg-dur").innerHTML=c.b.format(this.duration),this.find(".xg-cur").innerHTML=c.b.format(time),this.find(".xg-curbar").style.width="".concat(time/this.duration*100,"%"),e?c.b.removeClass(this.find(".xg-seek-show"),"xg-back"):c.b.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(time)}}},{key:"updateThumbnails",value:function(time){var e=this.player.plugins.thumbnail;e&&e.usable&&this.thumbnail&&e.update(this.thumbnail,time,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<S.a.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0),e.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var t=this.player.controls;t&&t.center&&(t.center.removeEventListener("touchmove",this.onRootTouchMove,!0),t.center.removeEventListener("touchend",this.onRootTouchEnd,!0),t.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var e="normal"!==this.config.gradient?"gradient ".concat(this.config.gradient):"gradient";return'\n     <xg-trigger class="trigger">\n     <div class="'.concat(e,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ').concat(this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span class="xg-separator">/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>').concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),n}(f.b);function be(e){var t=e.tagName;return!("INPUT"!==t&&"TEXTAREA"!==t&&!e.isContentEditable)}var _e=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"onBodyKeyDown",(function(t){if(e.player){var n=t||window.event,o=n.keyCode,c=Object(r.a)(e),l=c._keyState,h=c.player,f=e.config,d=f.disable,v=f.disableBodyTrigger,m=f.isIgnoreUserActive;d||v||!h.isUserActive&&!m||be(n.target)||!e.checkIsVisible()||n.metaKey||n.altKey||n.ctrlKey?l.isBodyKeyDown=!1:(t.repeat||l.isKeyDown||((n.target===document.body||e.config.isGlobalTrigger&&!be(n.target))&&e.checkCode(o,!0)&&(l.isBodyKeyDown=!0),document.addEventListener("keyup",e.onBodyKeyUp)),l.isBodyKeyDown&&e.handleKeyDown(n))}})),Object(r.e)(Object(r.a)(e),"onBodyKeyUp",(function(t){e.player&&(document.removeEventListener("keyup",e.onBodyKeyUp),e.handleKeyUp(t))})),Object(r.e)(Object(r.a)(e),"onKeydown",(function(t){if(e.player){var n=t||window.event,o=Object(r.a)(e)._keyState;if(!n.repeat){if(e.config.disable||e.config.disableRootTrigger||n.metaKey||n.altKey||n.ctrlKey)return;!n||37!==n.keyCode&&!e.checkCode(n.keyCode)||n.target!==e.player.root&&n.target!==e.player.video&&n.target!==e.player.controls.el||(o.isKeyDown=!0),e.player.root.addEventListener("keyup",e.onKeyup)}o.isKeyDown&&e.handleKeyDown(n)}})),Object(r.e)(Object(r.a)(e),"onKeyup",(function(t){e.player&&(e.player.root.removeEventListener("keyup",e.onKeyup),e.handleKeyUp(t))})),e}return Object(r.c)(n,[{key:"mergekeyCodeMap",value:function(){var e=this,t=this.config.keyCodeMap;t&&Object.keys(t).map((function(n){e.keyCodeMap[n]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map((function(r){t[n][r]&&(e.keyCodeMap[n][r]=t[n][r])})):e.keyCodeMap[n]=t[n]}))}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e="function"==typeof this.config.seekStep?this.config.seekStep(this.player):this.config.seekStep;e&&"number"==typeof e&&(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.config[n]=e[n]}))}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),t=e.height,n=e.top,r=e.bottom,o=window.innerHeight;return!(n<0&&n<0-.9*t||r>0&&r-o>.9*t)}},{key:"checkCode",value:function(code,e){var t=this,n=!1;return Object.keys(this.keyCodeMap).map((function(r){t.keyCodeMap[r]&&code===t.keyCodeMap[r].keyCode&&!t.keyCodeMap[r].disable&&(n=!e||e&&!t.keyCodeMap[r].noBodyTarget)})),n}},{key:"downVolume",value:function(e){var t=this.player;if(!(t.volume<=0)){var n=parseFloat((t.volume-.1).toFixed(1)),r={volume:{from:t.volume,to:n}};this.emitUserAction(e,"change_volume",{props:r}),t.volume=n>=0?n:0}}},{key:"upVolume",value:function(e){var t=this.player;if(!(t.volume>=1)){var n=parseFloat((t.volume+.1).toFixed(1)),r={volume:{from:t.volume,to:n}};this.emitUserAction(e,"change_volume",{props:r}),t.volume=n<=1?n:1}}},{key:"seek",value:function(e){var t=this.player,n=t.currentTime,r=t.offsetCurrentTime,o=t.duration,l=t.offsetDuration,h=t.timeSegments,f=r>-1?r:n,d=l||o,v=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;f+v<=d?f+=v:f=d;var m=c.b.getCurrentTimeByOffset(f,h),y={currentTime:{from:n,to:m}};this.emitUserAction(e,"seek",{props:y}),this.player.currentTime=m}},{key:"seekBack",value:function(e){var t=this.player,n=t.currentTime,r=t.offsetCurrentTime,o=t.timeSegments,l=(r>-1?r:n)-(e.repeat?parseInt(this.seekStep/2,10):this.seekStep);l<0&&(l=0);var h={currentTime:{from:n,to:l=c.b.getCurrentTimeByOffset(l,o)}};this.emitUserAction(e,"seek",{props:h}),this.player.currentTime=l}},{key:"changePlaybackRate",value:function(e){var t=this._keyState,n=this.config,r=this.player;0===t.playbackRate&&(t.playbackRate=r.playbackRate,r.playbackRate=n.playbackRate)}},{key:"playPause",value:function(e){var t=this.player;t&&(this.emitUserAction(e,"switch_play_pause"),t.paused?t.play():t.pause())}},{key:"exitFullscreen",value:function(e){var t=this.player,n=t.fullscreen,r=t.cssfullscreen;n&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:n,to:!n}),t.exitFullscreen()),r&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:r,to:!r}),t.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var t=this._keyState;if(e.repeat){t.isPress=!0;var n=Date.now();if(n-t.tt<200)return;t.tt=n}this.handleKeyCode(e.keyCode,e,t.isPress)}},{key:"handleKeyUp",value:function(e){var t=this._keyState;t.playbackRate>0&&(this.player.playbackRate=t.playbackRate,t.playbackRate=0),t.isKeyDown=!1,t.isPress=!1,t.tt=0}},{key:"handleKeyCode",value:function(e,t,n){for(var o,c=Object.keys(this.keyCodeMap),i=0;i<c.length;i++){var h=this.keyCodeMap[c[i]],f=h.action,d=h.keyCode,v=h.disable,m=h.pressAction,y=h.disablePress;if(d===e){if(!(v||n&&y)){var _=n&&m||f;"function"==typeof _?f(t,this.player,n):"string"==typeof _&&"function"==typeof this[_]&&this[_](t,this.player,n),this.emit(l.SHORTCUT,Object(r.i)({key:c[i],target:t.target,isPress:n},this.keyCodeMap[c[i]]))}(o=t).preventDefault(),o.returnValue=!1,t.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),n}(Z.a);function ke(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">\n  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>\n</svg>\n',"image/svg+xml").firstChild}var Ce=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"registerIcons",value:function(){return{loadingIcon:ke}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:f.a.ROOT}}}]),n}(f.b),Oe=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],we=function(){function e(t){Object(r.b)(this,e),this.fragments=t.fragments||[],0===this.fragments.length&&this.fragments.push({percent:1}),this._callBack=t.actionCallback,this.fragConfig={fragFocusClass:t.fragFocusClass||"inner-focus-point",fragAutoFocus:!!t.fragAutoFocus,fragClass:t.fragClass||""},this.style=t.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return Object(r.c)(e,[{key:"updateDuration",value:function(e){var t=this;this.duration=e;var n=0,r=this.fragments;this.fragments=r.map((function(e){return e.start=parseInt(n,10),e.end=parseInt(n+e.percent*t.duration,10),e.duration=parseInt(e.percent*t.duration,10),n+=e.percent*t.duration,e}))}},{key:"updateProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"played",data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},t=this.progressList,n=this.fragments;if(!(t.length<1)){var r=data.newIndex,o=data.curIndex,c=data.millisecond;r!==o&&t.map((function(t,n){n<r?t[e].style.width="100%":n>r&&(t[e].style.width=0)}));var l=n[r],h=0===c?0:(c-l.start)/l.duration;t[r][e].style.width=h<0?0:"".concat(100*h,"%")}}},{key:"updateFocus",value:function(data){if(this.fragConfig.fragAutoFocus&&!(this.fragments.length<2))if(data){var e=this.findIndex(1e3*data.currentTime,this.focusIndex);if(e>=0&&e!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(e);var t={index:e,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=e,this._callBack&&this._callBack(t)}}else if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var n={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(n),this.focusIndex=-1}}},{key:"update",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},e=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(1e3*e,10)!==this.duration){if(!e&&0!==e)return;this.updateDuration(parseInt(1e3*e,10))}var t=this.playedIndex,n=this.cachedIndex;if("Undefined"!==c.b.typeOf(data.played)){var r=this.findIndex(1e3*data.played,t);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:t,millisecond:parseInt(1e3*data.played,10)}),this.playedIndex=r}if("Undefined"!==c.b.typeOf(data.cached)){var o=this.findIndex(1e3*data.cached,n);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:n,millisecond:parseInt(1e3*data.cached,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(time,e){var t=this.fragments;if(!t||0===t.length)return-1;if(1===t.length)return 0;if(e>-1&&e<t.length&&time>t[e].start&&time<t[e].end)return e;if(time>t[t.length-1].start)return t.length-1;for(var i=0;i<t.length;i++)if(time>t[i].start&&time<=t[i].end){e=i;break}return e}},{key:"findHightLight",value:function(){for(var e=this.root.children,i=0;i<e.length;i++)if(c.b.hasClass(e[i],this.fragConfig.fragFocusClass))return{dom:e[i],pos:e[i].getBoundingClientRect()}}},{key:"findFragment",value:function(e){var t=this.root.children;return e<0||e>=t.length?null:{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var e=this.root.children,i=0;i<e.length;i++)c.b.removeClass(e[i],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(e){var t=this.root.children;if(e<t.length)return c.b.addClass(t[e],this.fragConfig.fragFocusClass),{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(e){var t=this;if(Object.keys(this.fragConfig).forEach((function(n){void 0!==e[n]&&(t.fragConfig[n]=e[n])})),e.fragments){if(this.fragments=0===e.fragments.length?[{percent:1}]:e.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var n=this.root.children;n.length>0;)this.root.removeChild(n[0]);this.render()}}},{key:"render",value:function(){var e=this,t=this.style.progressColor;if(this.root||(this.root=c.b.createDom("xg-inners","",{},"progress-list")),this.fragments){var n=this.fragConfig,r=n.fragClass,o=n.fragFocusClass;this.progressList=this.fragments.map((function(n){var l=c.b.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(n.percent):"flex: ".concat(n.percent)},"".concat(n.isFocus?o:""," xgplayer-progress-inner ").concat(r));return e.root.appendChild(l),Oe.forEach((function(t){l.appendChild(c.b.createDom(t.tag,"",{style:t.styleKey?"background: ".concat(e.style[t.styleKey],"; width:0;"):"width:0;"},t.className))})),{cached:l.children[0],played:l.children[1]}}))}return this.root}}]),e}(),Te={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},Ee=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"onMoveOnly",(function(e,data){var t=Object(r.a)(o),n=t.pos,l=t.config,h=t.player,f=data;if(e){c.b.event(e);var d=c.b.getEventPos(e,h.zoom),v=90===h.rotateDeg?d.clientY:d.clientX;if(n.moving&&Math.abs(n.x-v)<l.miniMoveStep)return;n.moving=!0,n.x=v,f=o.computeTime(e,v)}o.triggerCallbacks("dragmove",f,e),o._updateInnerFocus(f)})),Object(r.e)(Object(r.a)(o),"onBodyClick",(function(e){o.pos.isLocked&&(o.pos.isLocked=!1,e.preventDefault(),e.stopPropagation())})),Object(r.e)(Object(r.a)(o),"_mouseDownHandler",(function(e,data){o._state.time=data.currentTime,o.updateWidth(data.currentTime,data.seekTime,data.percent,0),o._updateInnerFocus(data)})),Object(r.e)(Object(r.a)(o),"_mouseUpHandler",(function(e,data){Object(r.a)(o).pos.moving&&o.updateWidth(data.currentTime,data.seekTime,data.percent,2)})),Object(r.e)(Object(r.a)(o),"_mouseMoveHandler",(function(e,data){var t=Object(r.a)(o),n=t._state,c=t.pos,l=t.config,h=t.player;n.time<data.currentTime?data.forward=!0:data.forward=!1,n.time=data.currentTime,c.isDown&&!c.moving&&(c.moving=!0,l.isPauseMoving&&h.pause(),o.triggerCallbacks("dragstart",data,e),o.emitUserAction("drag","dragstart",data)),o.updateWidth(data.currentTime,data.seekTime,data.percent,1),o.triggerCallbacks("dragmove",data,e),o._updateInnerFocus(data)})),Object(r.e)(Object(r.a)(o),"onMouseDown",(function(e){var t=Object(r.a)(o),n=t._state,l=t.player,h=t.pos,f=t.config,d=t.playerConfig,v=c.b.getEventPos(e,l.zoom),m=90===l.rotateDeg?v.clientY:v.clientX;if(!(l.isMini||f.closeMoveSeek||!d.allowSeekAfterEnded&&l.ended)){if(l.duration||l.isPlaying){e.stopPropagation(),o.focus(),c.b.checkIsFunction(d.disableSwipeHandler)&&d.disableSwipeHandler(),c.b.checkIsFunction(f.onMoveStart)&&f.onMoveStart(),c.b.event(e),h.x=m,h.isDown=!0,h.moving=!1,n.prePlayTime=l.currentTime,l.focus({autoHide:!1}),o.isProgressMoving=!0,c.b.addClass(o.progressBtn,"active");var y=o.computeTime(e,m);return y.prePlayTime=n.prePlayTime,o._mouseDownHandlerHook(e,y),"touchstart"===e.type?(o.root.addEventListener("touchmove",o.onMouseMove),o.root.addEventListener("touchend",o.onMouseUp),o.root.addEventListener("touchcancel",o.onMouseUp)):(o.unbind("mousemove",o.onMoveOnly),document.addEventListener("mousemove",o.onMouseMove,!1),document.addEventListener("mouseup",o.onMouseUp,!1)),!0}l.play()}})),Object(r.e)(Object(r.a)(o),"onMouseUp",(function(e){var t=Object(r.a)(o),n=t.player,l=t.config,h=t.pos,f=t.playerConfig,d=t._state;e.stopPropagation(),e.preventDefault(),c.b.checkIsFunction(f.enableSwipeHandler)&&f.enableSwipeHandler(),c.b.checkIsFunction(l.onMoveEnd)&&l.onMoveEnd(),c.b.event(e),c.b.removeClass(o.progressBtn,"active");var v=o.computeTime(e,h.x);v.prePlayTime=d.prePlayTime,h.moving?(o.triggerCallbacks("dragend",v,e),o.emitUserAction("drag","dragend",v)):(o.triggerCallbacks("click",v,e),o.emitUserAction("click","click",v)),o._mouseUpHandlerHook(e,v),h.moving=!1,h.isDown=!1,h.x=0,h.y=0,h.isLocked=!0,d.prePlayTime=0,d.time=0;var m=e.type;"touchend"===m||"touchcancel"===m?(o.root.removeEventListener("touchmove",o.onMouseMove),o.root.removeEventListener("touchend",o.onMouseUp),o.root.removeEventListener("touchcancel",o.onMouseUp),o.blur()):(document.removeEventListener("mousemove",o.onMouseMove,!1),document.removeEventListener("mouseup",o.onMouseUp,!1),h.isEnter?"mobile"!==f.isMobileSimulateMode&&o.bind("mousemove",o.onMoveOnly):o.onMouseLeave(e)),c.b.setTimeout(Object(r.a)(o),(function(){o.resetSeekState()}),1),n.focus()})),Object(r.e)(Object(r.a)(o),"onMouseMove",(function(e){var t=Object(r.a)(o),n=t._state,l=t.pos,h=t.player,f=t.config;c.b.checkTouchSupport()&&e.preventDefault(),c.b.event(e);var d=c.b.getEventPos(e,h.zoom),v=90===h.rotateDeg?d.clientY:d.clientX,m=Math.abs(l.x-v);if(!(l.moving&&m<f.miniMoveStep||!l.moving&&m<f.miniStartStep)){l.x=v;var y=o.computeTime(e,v);y.prePlayTime=n.prePlayTime,o._mouseMoveHandlerHook(e,y)}})),Object(r.e)(Object(r.a)(o),"onMouseOut",(function(e){o.triggerCallbacks("mouseout",null,e)})),Object(r.e)(Object(r.a)(o),"onMouseOver",(function(e){o.triggerCallbacks("mouseover",null,e)})),Object(r.e)(Object(r.a)(o),"onMouseEnter",(function(e){var t=Object(r.a)(o),n=t.player,l=t.pos;if(!(l.isDown||l.isEnter||n.isMini||!n.config.allowSeekAfterEnded&&n.ended)){l.isEnter=!0,o.bind("mousemove",o.onMoveOnly),o.bind("mouseleave",o.onMouseLeave),c.b.event(e);var h=c.b.getEventPos(e,n.zoom),f=90===n.rotateDeg?h.clientY:h.clientX,d=o.computeTime(e,f);o.triggerCallbacks("mouseenter",d,e),o.focus()}})),Object(r.e)(Object(r.a)(o),"onMouseLeave",(function(e){o.triggerCallbacks("mouseleave",null,e),o.unlock(),o._updateInnerFocus(null)})),Object(r.e)(Object(r.a)(o),"onVideoResize",(function(){var e=o.pos,t=e.x,n=e.isDown;if(e.isEnter&&!n){var r=o.computeTime(null,t);o.onMoveOnly(null,r)}})),o.useable=!1,o.isProgressMoving=!1,o.__dragCallBacks=[],o._state={now:-1,direc:0,time:0,prePlayTime:-1},o._disableBlur=!1,o}return Object(r.c)(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,n=e.currentTime;return t>=0?t:n+this.timeOffset}},{key:"changeState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.useable=e}},{key:"show",value:function(e){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&0!==t.length||(t=[{percent:1}]);var o=Object(r.i)(Object(r.i)({fragments:t},n),{},{actionCallback:function(data){e.emitUserAction("fragment_focus","fragment_focus",data)}});this.innerList?this.innerList.reset(o):(this.innerList=new we(o),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map((function(t){e[t]=e.innerList[t].bind(e.innerList)})))}},{key:"_updateInnerFocus",value:function(data){this.innerList&&this.innerList.updateFocus(data)}},{key:"afterCreate",value:function(){var e=this;if(!this.config.disable&&!this.playerConfig.isLive){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var t=this.config,n=t.fragFocusClass,r=t.fragAutoFocus,c=t.fragClass;this._initInner(this.config.fragments,{fragFocusClass:n,fragAutoFocus:r,fragClass:c,style:this.playerConfig.commonStyle||{}}),"mobile"===o.a.device&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(l.DURATION_CHANGE,(function(){e.onMouseLeave()})),this.on(l.TIME_UPDATE,(function(){e.onTimeupdate()})),this.on(l.SEEKED,(function(){e.onTimeupdate(),e.onCacheUpdate()})),this.on(l.PROGRESS,(function(){e.onCacheUpdate()})),this.on(l.ENDED,(function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0})),this.on(l.EMPTIED,(function(){e.onReset()})),this.on(l.VIDEO_RESIZE,(function(){e.onVideoResize()})),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(e){var t=this,n=null;Object.keys(e).forEach((function(r){t.config[r]=e[r],"fragments"===r&&(n=e[r])})),n&&this._initInner(n,e)}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle.sliderBtnStyle,t=this.progressBtn;e&&("string"==typeof e?t.style.boxShadow=e:"object"===Object(r.l)(e)&&Object.keys(e).map((function(n){t.style[n]=e[n]})))}},{key:"triggerCallbacks",value:function(e,data,t){this.__dragCallBacks.length>0&&this.__dragCallBacks.map((function(n){if(n&&n.handler&&n.type===e)try{n.handler(data,t)}catch(e){console.error("[XGPLAYER][triggerCallbacks] ".concat(n," error"),e)}}))}},{key:"addCallBack",value:function(e,t){t&&"function"==typeof t&&this.__dragCallBacks.push({type:e,handler:t})}},{key:"removeCallBack",value:function(e,t){var n=this.__dragCallBacks,r=-1;n.map((function(n,o){n&&n.type===e&&n.handler===t&&(r=o)})),r>-1&&n.splice(r,1)}},{key:"unlock",value:function(){var e=this.player,t=this.pos;t.isEnter=!1,t.isLocked=!1,e.isMini||(this.unbind("mousemove",this.onMoveOnly),t.isDown?this.unbind("mouseleave",this.onMouseLeave):this.blur())}},{key:"bindDomEvents",value:function(){var e=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),"touch"!==this.domEventType&&"compatible"!==this.domEventType||this.root.addEventListener("touchstart",this.onMouseDown),"mouse"!==this.domEventType&&"compatible"!==this.domEventType||(this.bind("mousedown",this.onMouseDown),"mobile"!==e.isMobileSimulateMode&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),c.b.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),c.b.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,t,n,r){var o=this.config,c=this.player;if(!o.isCloseClickSeek||0!==r){var l=t=t>=c.duration?c.duration-o.endedDiff:Number(t).toFixed(1);this.updatePercent(n),this.updateTime(e),(1!==r||o.isDragingSeek&&"audio"!==c.config.mediaType)&&(this._state.now=l,this._state.direc=l>c.currentTime?0:1,c.seek(l))}}},{key:"computeTime",value:function(e,t){var n,r,o=this.player,l=this.root.getBoundingClientRect(),h=l.width,f=l.height,d=l.top,v=l.left,m=t;90===o.rotateDeg?(n=f,r=d):(n=h,r=v);var y=m-r,_=(y=y>n?n:y<0?0:y)/n;_=_<0?0:_>1?1:_;var k=parseInt(_*this.offsetDuration*1e3,10)/1e3;return{percent:_,currentTime:k,seekTime:c.b.getCurrentTimeByOffset(k,o.timeSegments),offset:y,width:n,left:r,e:e}}},{key:"updateTime",value:function(time){var e=this.player,t=this.duration;time>t?time=t:time<0&&(time=0);var n=e.plugins.time;n&&n.updateTime(time)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,t){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(100*e,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var n=this.player.plugins.miniprogress;n&&n.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var t=this.player,n=this._state,r=this.offsetDuration;if(!(t.isSeeking&&t.media.seeking||this.isProgressMoving)&&t.hasStart){if(n.now>-1){var o=parseInt(1e3*n.now,10)-parseInt(1e3*t.currentTime,10);if(0===n.direc&&o>300||1===n.direc&&o>-300)return void(n.now=-1);n.now=-1}var time=this.currentTime;time=c.b.adjustTimeByDuration(time,r,e),this.innerList.update({played:time},r),this.progressBtn.style.left="".concat(time/r*100,"%")}}},{key:"onCacheUpdate",value:function(e){var t=this.player,n=this.duration;if(t){var r=t.bufferedPoint.end;r=c.b.adjustTimeByDuration(r,n,e),this.innerList.update({cached:r},n)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var t=this.domEventType;"touch"!==t&&"compatible"!==t||(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),"mouse"!==t&&"compatible"!==t||(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){var e=this.player.controls?this.player.controls.config.mode:"";return'\n    <xg-progress class="xgplayer-progress '.concat("bottom"===e?"xgplayer-progress-bottom":"",'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:Te.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return Te}}]),n}(f.b),xe=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"_onMouseenter",(function(t){e.emit("icon_mouseenter",{pluginName:e.pluginName})})),Object(r.e)(Object(r.a)(e),"_onMouseLeave",(function(t){e.emit("icon_mouseleave",{pluginName:e.pluginName})})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),n}(f.b),Se=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this);var t=this.player;this.config.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on([l.PAUSE,l.ERROR,l.EMPTIED],(function(){e.animate(t.paused)})),this.on(l.PLAY,(function(){e.animate(t.paused)})),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:I,class:"xg-icon-play"},pause:{icon:j,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player;return this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t.paused,to:!t.paused}),t.ended?t.replay():t.paused?(t.play(),this.animate(!1)):(t.pause(),this.animate(!0)),!1}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var t=this.i18nKeys,n=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),n&&this.changeLangTextKey(n,t.PLAY_TIPS)):(this.setAttr("data-state","play"),n&&this.changeLangTextKey(n,t.PAUSE_TIPS))}}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(R(this,"PLAY_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_LEFT,index:0,disable:!1}}}]),n}(xe);function Ie(){return(new DOMParser).parseFromString('<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>\n    </g>\n</svg>',"image/svg+xml").firstChild}var je=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.config.onClick(t)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:Ie,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){c.b.addClass(this.root,"show")}},{key:"hide",value:function(){c.b.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:f.a.ROOT_TOP,index:0}}}]),n}(f.b);function Pe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Ae(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Le=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"_onOrientationChange",(function(t){e.player.fullscreen&&e.config.rotateFullscreen&&(90===window.orientation||-90===window.orientation?e.player.setRotateDeg(0):e.player.setRotateDeg(90))})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this);var t=this.config,h=this.playerConfig;if(!t.disable){t.target&&(this.playerConfig.fullscreenTarget=this.config.target);var f=c.b.getFullScreenEl();h.fullscreenTarget===f&&this.player.getFullscreen().catch((function(e){})),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(t){var n=e.player.fullscreen;e.emitUserAction(t,"switch_fullscreen",{prop:"fullscreen",from:n,to:!n})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(l.FULLSCREEN_CHANGE,(function(t){var n=e.find(".xg-tips");n&&e.changeLangTextKey(n,t?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(t)})),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:je,options:{config:{onClick:function(t){e.handleFullscreen(t)}}}})),"mobile"===o.a.device&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:Pe,class:"xg-get-fullscreen"},exitFullscreen:{icon:Ae,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon","mobile"===o.a.device?"touchend":"click",this.handleFullscreen),"mobile"===o.a.device&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.player,n=this.config;!0===n.useCssFullscreen||"function"==typeof n.useCssFullscreen&&n.useCssFullscreen()?(t.fullscreen?t.exitCssFullscreen():t.getCssFullscreen(),this.animate(t.fullscreen)):n.rotateFullscreen?(t.fullscreen?t.exitRotateFullscreen():t.getRotateFullscreen(),this.animate(t.fullscreen)):n.switchCallback&&"function"==typeof n.switchCallback?n.switchCallback(t.fullscreen):t.fullscreen?(t.exitFullscreen(),n.useScreenOrientation&&this.unlockScreen()):(t.getFullscreen().catch((function(e){})),n.useScreenOrientation&&t.aspectRatio>1&&this.lockScreen(n.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(R(this,"FULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch((function(e){}))}catch(e){}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch((function(e){}))}catch(e){}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),n}(xe),De=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),(o=t.call(this,e)).isActiving=!1,o}return Object(r.c)(n,[{key:"duration",get:function(){var e=this.player,t=e.offsetDuration,n=e.duration;return this.playerConfig.customDuration||t||n}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,n=e.currentTime;return t>=0?t:n}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this,t=this.player.controls.config.mode;this.mode="flex"===t?"flex":"normal",this.config.disable||("flex"===this.mode&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([l.DURATION_CHANGE,l.SEEKED,l.TIME_UPDATE],(function(t){"durationchange"===t.eventName&&(e.isActiving=!1),e.onTimeUpdate()})),this.on(l.ENDED,(function(){e.onTimeUpdate(!0)})),this.on(l.EMPTIED,(function(){e.onReset()})))}},{key:"show",value:function(e){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="block"),void(this.centerDurDom&&(this.centerDurDom.style.display="block"));this.root.style.display="block"}},{key:"hide",value:function(){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="none"),void(this.centerDurDom&&(this.centerDurDom.style.display="none"));this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var t=this.player,n=this.config,r=this.duration;if(!n.disable&&!this.isActiving&&t.hasStart){var o=this.currentTime+this.timeOffset;o=c.b.adjustTimeByDuration(o,r,e),"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(c.b.format(o)),r!==1/0&&r>0&&(this.centerDurDom.innerHTML=c.b.format(r))):(this.timeDom.innerHTML=this.minWidthTime(c.b.format(o)),r!==1/0&&r>0&&(this.durationDom.innerHTML=c.b.format(r)))}}},{key:"onReset",value:function(){"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(c.b.format(0)),this.centerDurDom.innerHTML=c.b.format(0)):(this.timeDom.innerHTML=this.minWidthTime(c.b.format(0)),this.durationDom.innerHTML=c.b.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(e.controls&&e.controls.center){var t=e.controls.center;this.centerCurDom=c.b.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=c.b.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),t.children.length>0?t.insertBefore(this.centerCurDom,t.children[0]):t.appendChild(this.centerCurDom),t.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;this.duration===1/0||this.playerConfig.isLive?(c.b.hide(this.durationDom),c.b.hide(this.timeDom),c.b.hide(this.find(".time-separator")),c.b.show(this.find(".time-live-tag"))):c.b.hide(this.find(".time-live-tag")),e.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(e){e?(c.b.hide(this.durationDom),c.b.hide(this.timeDom),c.b.hide(this.find(".time-separator")),c.b.show(this.find(".time-live-tag"))):(c.b.hide(this.find(".time-live-tag")),c.b.show(this.find(".time-separator")),c.b.show(this.durationDom),c.b.show(this.timeDom))}},{key:"updateTime",value:function(time){this.isActiving=!0,!time&&0!==time||time>this.duration||("flex"!==this.mode?this.timeDom.innerHTML=this.minWidthTime(c.b.format(time)):this.centerCurDom.innerHTML=this.minWidthTime(c.b.format(time)))}},{key:"minWidthTime",value:function(e){return e.split(":").map((function(e){return'<span class="time-min-width">'.concat(e,"</span>")})).join(":")}},{key:"resetActive",value:function(){var e=this,t=this.player,n=function(){e.isActiving=!1};this.off(l.SEEKED,n),t.isSeeking&&t.media.seeking?this.once(l.SEEKED,n):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_LEFT,index:2,disable:!1}}}]),n}(f.b),Re=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return e=t.call.apply(t,[this].concat(l)),Object(r.e)(Object(r.a)(e),"_onDurationChange",(function(){e.updateSegments();var t=e.player,n=t.currentTime,r=t.timeSegments;if(e._checkIfEnabled(r)){var o=c.b.getIndexByTime(n,r),time=c.b.getOffsetCurrentTime(n,r,o);e.player.offsetCurrentTime=time,e.changeIndex(o,r)}})),Object(r.e)(Object(r.a)(e),"_onLoadedData",(function(){var t=e.player.timeSegments;if(e._checkIfEnabled(t)){var time=c.b.getOffsetCurrentTime(0,t);e.player.offsetCurrentTime=time,e.changeIndex(0,t),e.curPos.start>0&&(e.player.currentTime=e.curPos.start)}})),Object(r.e)(Object(r.a)(e),"_onTimeupdate",(function(){var t=e.player,n=t.currentTime,r=t.timeSegments;if(e._checkIfEnabled(r)){var o=r.length;e.lastCurrentTime=n;var l=c.b.getIndexByTime(n,r);l!==e.curIndex&&e.changeIndex(l,r);var h=c.b.getOffsetCurrentTime(n,r,l);if(e.player.offsetCurrentTime=h,e.curPos){var f=e.curPos,d=f.start,v=f.end;n<d?e.player.currentTime=d:n>v&&l>=o-1&&e.player.pause()}}})),Object(r.e)(Object(r.a)(e),"_onSeeking",(function(){var t=e.player,n=t.currentTime,r=t.timeSegments;if(e._checkIfEnabled(r))if(n<r[0].start)e.player.currentTime=r[0].start;else if(n>r[r.length-1].end)e.player.currentTime=r[r.length-1].end;else{var o=c.b.getIndexByTime(n,r);if(o>=0){var l=e.getSeekTime(n,e.lastCurrentTime,o,r);l>=0&&(e.player.currentTime=l)}}})),Object(r.e)(Object(r.a)(e),"_onPlay",(function(){var t=e.player,n=t.currentTime,r=t.timeSegments;e._checkIfEnabled(r)&&n>=r[r.length-1].end&&(e.player.currentTime=r[0].start)})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(l.DURATION_CHANGE,this._onDurationChange),this.on(l.LOADED_DATA,this._onLoadedData),this.on(l.TIME_UPDATE,this._onTimeupdate),this.on(l.SEEKING,this._onSeeking),this.on(l.PLAY,this._onPlay)}},{key:"setConfig",value:function(e){var t=this;if(e){var n=Object.keys(e);n.length<1||(n.forEach((function(n){t.config[n]=e[n]})),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,t=e.disable,n=e.segments,r=this.player;if(t||!n||0===n.length)r.timeSegments=[],r.offsetDuration=0,r.offsetCurrentTime=-1;else{var o=this.formatTimeSegments(n,r.duration);r.timeSegments=o,r.offsetDuration=o.length>0?o[o.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,t){var n=[];return e?(e.sort((function(a,b){return a.start-b.start})),e.forEach((function(e,r){var o={};if(o.start=e.start<0?0:e.start,o.end=t>0&&e.end>t?t:e.end,!(t>0&&o.start>t)){n.push(o);var c=o.end-o.start;if(0===r)o.offset=e.start,o.cTime=0,o.segDuration=c,o.duration=c;else{var l=n[r-1];o.offset=l.offset+(o.start-l.end),o.cTime=l.duration+l.cTime,o.segDuration=c,o.duration=l.duration+c}}})),n):[]}},{key:"getSeekTime",value:function(e,t,n,r){var o=-1,c=r[n],l=c.start,h=c.end;if(e>=l&&e<=h)return o;var f=e-t;if(f<0&&e<l){var d=t>l?t-l:0;return o=n-1>=0?r[n-1].end+f+d:0}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,t){this.curIndex=e,e>=0&&t.length>0?this.curPos=t[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),n}(Z.a);function Me(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Ne(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Fe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',"image/svg+xml").firstChild}var He=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return e=t.call.apply(t,[this].concat(l)),Object(r.e)(Object(r.a)(e),"onBarMousedown",(function(t){var n=Object(r.a)(e).player,o=e.find(".xgplayer-bar");c.b.event(t);var l=o.getBoundingClientRect(),h=c.b.getEventPos(t,n.zoom),f=l.height-(h.clientY-l.top);if(h.h=f,h.barH=l.height,e.pos=h,!(f<-2))return e.updateVolumePos(f,t),document.addEventListener("mouseup",e.onBarMouseUp),e._d.isStart=!0,!1})),Object(r.e)(Object(r.a)(e),"onBarMouseMove",(function(t){var n=Object(r.a)(e)._d;if(n.isStart){var o=Object(r.a)(e),l=o.pos,h=o.player;t.preventDefault(),t.stopPropagation(),c.b.event(t);var f=c.b.getEventPos(t,h.zoom);n.isMoving=!0;var d=l.h-f.clientY+l.clientY;d>l.barH||e.updateVolumePos(d,t)}})),Object(r.e)(Object(r.a)(e),"onBarMouseUp",(function(t){c.b.event(t),document.removeEventListener("mouseup",e.onBarMouseUp);var n=Object(r.a)(e)._d;n.isStart=!1,n.isMoving=!1})),Object(r.e)(Object(r.a)(e),"onMouseenter",(function(t){e._d.isActive=!0,e.focus(),e.emit("icon_mouseenter",{pluginName:e.pluginName})})),Object(r.e)(Object(r.a)(e),"onMouseleave",(function(t){e._d.isActive=!1,e.unFocus(100,!1,t),e.emit("icon_mouseleave",{pluginName:e.pluginName})})),Object(r.e)(Object(r.a)(e),"onVolumeChange",(function(t){if(e.player){var n=e.player,r=n.muted,o=n.volume;e._d.isMoving||(e.find(".xgplayer-drag").style.height=r||0===o?"4px":"".concat(100*o,"%"),e.config.showValueLabel&&e.updateVolumeValue()),e.animate(r,o)}})),e}return Object(r.c)(n,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:Ne,class:"xg-volume-small"},volumeLarge:{icon:Me,class:"xg-volume"},volumeMuted:{icon:Fe,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var t=this.playerConfig,n=t.commonStyle,r=t.volume;n.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=n.volumeColor),this.changeMutedHandler=this.hook("mutedChange",(function(t){e.changeMuted(t)}),{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),"mobile"!==o.a.device&&"mobile"!==this.playerConfig.isMobileSimulateMode&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(l.VOLUME_CHANGE,this.onVolumeChange),this.once(l.LOADED_DATA,this.onVolumeChange),"Number"!==c.b.typeOf(r)&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,t){var n=this.player,r=this.find(".xgplayer-drag"),o=this.find(".xgplayer-bar");if(o&&r){var c=parseInt(e/o.getBoundingClientRect().height*1e3,10);r.style.height="".concat(e,"px");var l=Math.max(Math.min(c/1e3,1),0),h={volume:{from:n.volume,to:l}};n.muted&&(h.muted={from:!0,to:!1}),this.emitUserAction(t,"change_volume",{muted:n.muted,volume:n.volume,props:h}),n.volume=Math.max(Math.min(c/1e3,1),0),n.muted&&(n.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,t=e.volume,n=e.muted,r=this.find(".xgplayer-value-label"),o=Math.max(Math.min(t,1),0);r.innerText=n?0:Math.round(100*o)}},{key:"focus",value:function(){this.player.focus({autoHide:!1}),this._timerId&&(c.b.clearTimeout(this,this._timerId),this._timerId=null),c.b.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=this._d,l=this.player;o.isActive||(this._timerId&&(c.b.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=c.b.setTimeout(this,(function(){o.isActive||(n?l.blur():l.focus(),c.b.removeClass(e.root,"slide-show"),o.isStart&&e.onBarMouseUp(r)),e._timerId=null}),t))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var t=this.player;this._d.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:t.muted,volume:t.volume,props:{muted:{from:t.muted,to:!t.muted}}}),t.volume>0&&(t.muted=!t.muted),t.volume<.01&&(t.volume=this.config.miniVolume)}},{key:"animate",value:function(e,t){e||0===t?this.setAttr("data-state","mute"):t<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(c.b.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon","mobile"===o.a.device?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,t=this.config.showValueLabel;return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        '.concat(t?'<div class="xgplayer-value-label">'.concat(100*e,"</div>"):"",'\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: ').concat(100*e,'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>')}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),n}(f.b);function Ue(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">\n  <g clip-path="url(#clip0)">\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',"image/svg+xml").firstChild}var Be=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),(o=t.call(this,e)).rotateDeg=o.config.rotateDeg||0,o}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(l.VIDEO_RESIZE,(function(){e.rotateDeg&&e.config.innerRotate&&c.b.setTimeout(e,(function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)}),100)}));var t=this.player.root;this.rootWidth=t.style.width||t.offsetWidth||t.clientWidth,this.rootHeight=t.style.height||t.offsetHeight||t.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,t){if(e||(e=0),t)this.player.videoRotateDeg=e;else{var n=this.player,r=this.rootWidth,o=this.rootHeight,c=n.root,l=n.innerContainer,video=n.media,h=c.offsetWidth,f=l&&t?l.offsetHeight:c.offsetHeight,d=r,v=o,m=0,y=0;.75!==e&&.25!==e||(d="".concat(f,"px"),v="".concat(h,"px"),m=-(f-h)/2,y=-(h-f)/2);var _="translate(".concat(m,"px,").concat(y,"px) rotate(").concat(e,"turn)"),k={transformOrigin:"center center",transform:_,webKitTransform:_,height:v,width:d},C=t?video:c,O=t?n.getPlugin("poster"):null;Object.keys(k).map((function(e){C.style[e]=k[e],O&&O.root&&(O.root.style[e]=k[e])}))}}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.player;this.rotateDeg||(this.rotateDeg=0);var o=e?1:-1;this.rotateDeg=(this.rotateDeg+1+.25*o*n)%1,this.updateRotateDeg(this.rotateDeg,t),r.emit(l.ROTATE,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:Ue}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(R(this,"ROTATE_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),n}(xe);function Ve(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}function We(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}var Ge="picture-in-picture",$e="inline",ze="fullscreen",Ye=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"switchPIP",(function(t){if(!e.isPIPAvailable())return!1;t.stopPropagation&&t.stopPropagation(),e.isPip?(e.exitPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!0,to:!1}),e.setAttr("data-state","normal")):4===e.player.media.readyState&&(e.requestPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!1,to:!0}),e.setAttr("data-state","pip"))})),e}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.pip&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.pMode=$e,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(l.COMPLETE,(function(){e.config.showIcon&&(c.b.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))})))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:Ve,class:"xg-get-pip"},pipIconExit:{icon:We,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,t=this.player;this.leavePIPCallback=function(){var n=t.paused;c.b.setTimeout(e,(function(){!n&&t.mediaPlay()}),0),!n&&t.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,t.emit(l.PIP_CHANGE,!1)},this.enterPIPCallback=function(n){t.emit(l.PIP_CHANGE,!0),null!=n&&n.pictureInPictureWindow&&(e.pipWindow=n.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(n){var r=t.media.webkitPresentationMode;e.pMode===ze&&r!==ze&&t.onFullscreenChange(null,!1),e.pMode=r,r===Ge?e.enterPIPCallback(n):r===$e&&e.leavePIPCallback(n)},t.media&&(t.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),t.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(t.media)&&t.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var t=Object(r.k)(document.styleSheets).map((function(t){try{return Object(r.k)(t.cssRules).map((function(e){return e.cssText})).join("")}catch(n){var link=document.createElement("link");link.rel="stylesheet",link.type=t.type,link.media=t.media,link.href=t.href,e.document.head.appendChild(link)}return""})).filter(Boolean).join("\n"),style=document.createElement("style");style.textContent=t,e.document.head.appendChild(style)}},{key:"requestPIP",value:function(){var e=this,t=this.player,r=this.playerConfig,o=this.config;if(this.isPIPAvailable()&&!this.isPip)try{var l=r.poster;if(l&&(t.media.poster="String"===c.b.typeOf(l)?l:l.poster),o.preferDocument&&this.isDocPIPAvailable()){var h={};if(o.width&&o.height)h.width=o.width,h.height=o.height;else{var f=t.root.getBoundingClientRect();h.width=f.width,h.height=f.height}documentPictureInPicture.requestWindow(h).then((function(n){var r=o.docPiPNode,c=o.docPiPStyle;e.enterPIPCallback();var l=r||t.root,h=l.parentElement,f=l.previousSibling,d=l.nextSibling;e.copyStyleIntoPiPWindow(n);var v=document.createElement("style");if(v.append("body{padding:0; margin:0;}"),c){var m="";"string"==typeof c?m=c:"function"==typeof c&&(m=c.call(o)),m&&v.append(m)}else l===t.root&&v.append("\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            ");n.document.head.append(v),n.document.body.append(l),n.addEventListener("pagehide",(function(t){h&&(d?h.insertBefore(l,d):f?h.insertBefore(l,f.nextSibling):h.appendChild(l)),e.leavePIPCallback()}),{once:!0})}))}else n.checkWebkitSetPresentationMode(t.media)?t.media.webkitSetPresentationMode("picture-in-picture"):t.media.requestPictureInPicture();return!0}catch(e){return console.error("requestPiP",e),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{var t;if(this.isPIPAvailable()&&this.isPip)this.isDocPIPAvailable()&&null!==(t=documentPictureInPicture)&&void 0!==t&&t.window?documentPictureInPicture.window.close():n.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture();return!0}catch(e){return console.error("exitPIP",e),!1}}},{key:"isPip",get:function(){var e,t=this.player;return!(!this.isDocPIPAvailable()||null===(e=documentPictureInPicture)||void 0===e||!e.window)||document.pictureInPictureElement&&document.pictureInPictureElement===t.media||t.media.webkitPresentationMode===Ge}},{key:"isPIPAvailable",value:function(){var video=this.player.media;return("Boolean"!==c.b.typeOf(document.pictureInPictureEnabled)||document.pictureInPictureEnabled)&&("Boolean"===c.b.typeOf(video.disablePictureInPicture)&&!video.disablePictureInPicture||video.webkitSupportsPresentationMode&&"Function"===c.b.typeOf(video.webkitSetPresentationMode))||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(this.config.showIcon&&this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      '.concat(R(this,"PIP",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(video){return"function"==typeof video.webkitSetPresentationMode}}]),n}(xe);function Ke(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Xe=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"playNext",(function(e){var t=Object(r.a)(o).player;e.preventDefault(),e.stopPropagation(),o.idx+1<o.config.urlList.length?(o.idx++,o.nextHandler(o.config.urlList[o.idx],o.idx),t.emit(l.PLAYNEXT,o.idx+1)):(o.nextHandler(),t.emit(l.PLAYNEXT))})),o.idx=-1,o}return Object(r.c)(n,[{key:"afterCreate",value:function(){this.config.urlList&&0!==this.config.urlList.length&&(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:Ke}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e="mobile"===o.a.device?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var t=this.player;e&&(t.pause(),t.currentTime=0,t.switchURL?t.switchURL(e):t.src=e,t.config.url=e,t.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(R(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),"\n     </xg-icon>\n    ")}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),n}(f.b),qe=n(3107),Ze=n.n(qe);function Je(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',"image/svg+xml").firstChild}var Qe=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"download",(function(e){if(!o.isLock){o.emitUserAction(e,"download");var t=o.playerConfig.url,n="";"String"===c.b.typeOf(t)?n=t:"Array"===c.b.typeOf(t)&&t.length>0&&(n=t[0].src);var r=o.getAbsoluteURL(n);Ze()(r),o.isLock=!0,o.timer=window.setTimeout((function(){o.isLock=!1,window.clearTimeout(o.timer),o.timer=null}),300)}})),o.timer=null,o.isLock=!1,o}return Object(r.c)(n,[{key:"afterCreate",value:function(){Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:Je}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var div=document.createElement("div");div.innerHTML='<a href="'.concat(e,'">x</a>'),e=div.firstChild.href}return e}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   '.concat(R(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:3,disable:!0}}}]),n}(xe),et=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.screenShot&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(data){e.fitVideo&&(e.width=data.vWidth,e.height=data.vHeight)},this.once(l.VIDEO_RESIZE,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(data,e){var t,n=document.createElement("a");n.href=data,n.download=e;try{"undefined"!=typeof MouseEvent?t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}catch(e){console.error("MouseEvent unsupported",e)}t&&n.dispatchEvent(t)}},{key:"createCanvas",value:function(e,t){var canvas=document.createElement("canvas"),n=canvas.getContext("2d");this.canvasCtx=n,this.canvas=canvas,canvas.width=e||this.config.width,canvas.height=t||this.config.height,n.imageSmoothingEnabled=!0,n.imageSmoothingEnabled&&(n.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var n=this.config;this.shot(n.width,n.height).then((function(data){t.emit(l.SCREEN_SHOT,data),n.saveImg&&t.saveScreenShot(data,n.name+n.format)}))}},{key:"shot",value:function(e,t){var n=this,option=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{quality:.92,type:"image/png"},r=this.config,o=this.player,c=option.quality||r.quality,l=option.type||r.type;return new Promise((function(h,f){var d,canvas=null;if(o.media.canvas)canvas=o.media.canvas;else{n.canvas?(n.canvas.width=e||r.width,n.canvas.height=t||r.height):n.createCanvas(e,t),canvas=n.canvas,d=n.canvasCtx;var v,m,y,_,k=o.media.videoWidth/o.media.videoHeight,C=canvas.width/canvas.height,O=o.media.videoWidth,w=o.media.videoHeight;k>C?(y=canvas.width,_=canvas.width/k,v=0,m=Math.round((canvas.height-_)/2)):k===C?(y=canvas.width,_=canvas.height,v=0,m=0):k<C&&(y=canvas.height*k,_=canvas.height,v=Math.round((canvas.width-y)/2),m=0),d.drawImage(o.media,0,0,O,w,v,m,y,_)}var T=canvas.toDataURL(l,c).replace(l,"image/octet-stream");h(T=T.replace(/^data:image\/[^;]+/,"data:application/octet-stream"))}))}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(l.VIDEO_RESIZE,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",t="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(e,'">\n      ').concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[t],'">').concat(this.i18n[t],"</span>"),"\n      </div>\n    </xg-icon>")}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),n}(xe),tt=function(){function e(t){Object(r.b)(this,e),this.config=t.config,this.parent=t.root,this.root=c.b.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),t.root.appendChild(this.root);var n=this.config.maxHeight;n&&this.setStyle({maxHeight:n}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var o="touch"===this.config.domEventType?"touchend":"click";this._delegates=f.b.delegate.call(this,this.root,"li",o,this.onItemClick)}return Object(r.c)(e,[{key:"renderItemList",value:function(data){var e=this,t=this.config,n=this.root;data?t.data=data:data=t.data,t.style&&Object.keys(t.style).map((function(e){n.style[e]=t[e]})),data.length>0&&(this.attrKeys=Object.keys(data[0])),this.root.innerHTML="",data.map((function(t,n){var r=t.selected?"option-item selected":"option-item";t["data-index"]=n,e.root.appendChild(c.b.createDom("li","<span>".concat(t.showText,"</span>"),t,r))}))}},{key:"onItemClick",value:function(e){e.delegateTarget||(e.delegateTarget=e.target);var t=e.delegateTarget;if(t&&c.b.hasClass(t,"selected"))return!1;var n="function"==typeof this.config.onItemClick?this.config.onItemClick:null,r=this.root.querySelector(".selected");c.b.addClass(t,"selected"),r&&c.b.removeClass(r,"selected"),n(e,{from:r?this.getAttrObj(r,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(e,t){if(!e||!t)return{};var n={};t.map((function(t){n[t]=e.getAttribute(t)}));var r=e.getAttribute("data-index");return r&&(n.index=Number(r)),n}},{key:"show",value:function(){c.b.removeClass(this.root,"hide"),c.b.addClass(this.root,"active")}},{key:"hide",value:function(){c.b.removeClass(this.root,"active"),c.b.addClass(this.root,"hide")}},{key:"setStyle",value:function(style){var e=this;Object.keys(style).forEach((function(t){e.root.style[t]=style[t]}))}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map((function(e){e.destroy&&e.destroy()})),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),e}(),nt="side",it="middle",ot="default",at="click",st="hover";var ct="mobile"===o.a.device,lt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"onEnter",(function(e){e.stopPropagation(),o.emit("icon_mouseenter",{pluginName:o.pluginName}),o.switchActiveState(e)})),Object(r.e)(Object(r.a)(o),"switchActiveState",(function(e){e.stopPropagation(),o.config.toggleMode===at?o.toggle(!o.isActive):o.toggle(!0)})),Object(r.e)(Object(r.a)(o),"onLeave",(function(e){e.stopPropagation(),o.emit("icon_mouseleave",{pluginName:o.pluginName}),o.config.listType!==nt&&o.isActive&&o.toggle(!1)})),Object(r.e)(Object(r.a)(o),"onListEnter",(function(e){o.enterType=2})),Object(r.e)(Object(r.a)(o),"onListLeave",(function(e){o.enterType=0,o.isActive&&o.toggle(!1)})),o.isIcons=!1,o.isActive=!1,o.curValue=null,o.curIndex=0,o}return Object(r.c)(n,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,t=this.config;this.initIcons(),(ct=ct||"touch"===this.domEventType)&&"mobile"===o.a.device&&t.listType===ot&&(t.listType=nt),t.hidePortrait&&c.b.addClass(this.root,"portrait"),this.on([l.VIDEO_RESIZE,l.FULLSCREEN_CHANGE],(function(){e._resizeList()})),this.once(l.CANPLAY,(function(){t.list&&t.list.length>0&&(e.renderItemList(t.list),e.show())})),ct&&this.on(l.PLAYER_FOCUS,(function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)})),ct?(t.toggleMode=at,this.activeEvent="touchend"):this.activeEvent=t.toggleMode===at?"click":"mouseenter",t.toggleMode===at?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,t=this.icons,n=Object.keys(t),r=!1;n.length>0&&(n.forEach((function(n){e.appendChild(".xgplayer-icon",t[n]),!r&&(r=t[n])})),this.isIcons=r),r||(this.appendChild(".xgplayer-icon",c.b.createDom("span","",{},"icon-text")),c.b.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||c.b.addClass(this.root,"show")}},{key:"hide",value:function(){c.b.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,t,n){if(void 0===e)return"";var o=this.config.list;!n&&(n=this.player.lang),t=!t||c.b.isUndefined(e[t])?"text":t,"number"==typeof e&&(e=o[e]);try{return"object"===Object(r.l)(e[t])?e[t][n]||e[t].en:e[t]}catch(e){return console.warn(e),""}}},{key:"toggle",value:function(e){if(e!==this.isActive&&!this.config.disable){var t=this.player.controls,n=this.config.listType;e?(n===nt?t.blur():t.focus(),this.optionsList&&this.optionsList.show()):(n===nt?t.focus():t.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,data){e.stopPropagation();var t=this.config,n=t.listType,r=t.list;this.curIndex=data.to.index,this.curItem=r[this.curIndex],this.changeCurrentText(),(this.config.isItemClickHide||ct||n===nt)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0];t&&(this.find(".icon-text").innerHTML=this.getTextByLang(t,"iconText"))}}},{key:"renderItemList",value:function(e,t){var n=this,r=this.config,o=this.optionsList,c=this.player;if("number"==typeof t&&(this.curIndex=t,this.curItem=r.list[t]),o)return o.renderItemList(e),void this.changeCurrentText();var l,h,d={config:{data:e||[],className:(l=r.listType,h=r.position,l===nt?h===f.a.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""),onItemClick:function(e,data){n.onItemClick(e,data)},domEventType:ct?"touch":"mouse"},root:r.listType===nt?c.innerContainer||c.root:this.root};if(this.config.isShowIcon){var v=this.player.root.getBoundingClientRect().height,m=r.listType===it?v-50:v;m&&r.heightLimit&&(d.config.maxHeight="".concat(m,"px")),this.optionsList=new tt(d),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var e=this.player.root.getBoundingClientRect().height,t=this.config.listType===it?e-50:e;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(t,"px")})}}},{key:"destroy",value:function(){this.config.toggleMode===at?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon">\n    </div>\n   </xg-icon>')}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:st,heightLimit:!0}}}]),n}(f.b),ut=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),(o=t.call(this,e)).curTime=0,o.isPaused=!0,o}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){var t=e.config.list;Array.isArray(t)&&t.length>0&&(e.config.list=t.map((function(e){return!e.text&&e.name&&(e.text=e.name),e.text||(e.text=e.definition),e})))}},{key:"afterCreate",value:function(){var e=this;Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.on("resourceReady",(function(t){e.changeDefinitionList(t)})),this.on(l.DEFINITION_CHANGE,(function(data){e.renderItemList(e.config.list,data.to)})),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||c.b.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,t=e.list,n=e.defaultDefinition;if(t.length>0){var r=null;t.map((function(e){e.definition===n&&(r=e)})),r||(r=t[0]),this.changeDefinition(r)}}},{key:"renderItemList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.list||[],o=arguments.length>1?arguments[1]:void 0,c=o&&o.definition?o.definition:this.config.defaultDefinition;o&&t.forEach((function(e){e.selected=!1}));var l=0,h=t.map((function(t,n){var o=Object(r.i)(Object(r.i)({},t),{},{showText:e.getTextByLang(t)||t.definition,selected:!1});return(t.selected||t.definition&&t.definition==c)&&(o.selected=!0,l=n),o}));Object(r.f)(Object(r.g)(n.prototype),"renderItemList",this).call(this,h,l)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map((function(e){return!e.text&&e.name&&(e.text=e.name),e.text||(e.text=e.definition),e})),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,t){this.player.changeDefinition(e,t)}},{key:"onItemClick",value:function(e,data){var t=this.player.definitionList;Object(r.f)(Object(r.g)(n.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:data.from,to:data.to});for(var i=0;i<t.length;i++)data.to&&t[i].definition===data.to.definition&&(data.to.url=t[i].url),data.from&&t[i].definition===data.from.definition&&(data.from.url=t[i].url);this.player.changeDefinition(data.to,data.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return Object(r.i)(Object(r.i)({},lt.defaultConfig),{},{position:f.a.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),n}(lt),ht=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),(o=t.call(this,e)).curRate=1,o}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){var t=e.player.config.playbackRate,n=t?Array.isArray(t)?t:e.config.list:[];Array.isArray(n)&&(e.config.list=n.map((function(e){return"number"==typeof e?e={rate:e,text:"".concat(e,"x")}:!e.text&&e.rate&&(e.text="".concat(e.rate,"x")),e})))}},{key:"afterCreate",value:function(){var e=this;Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.on(l.RATE_CHANGE,(function(){e.curValue!==e.player.playbackRate&&e.renderItemList()})),this.renderItemList()}},{key:"show",value:function(e){this.config.list&&0!==this.config.list.length&&Object(r.f)(Object(r.g)(n.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,t){Object(r.f)(Object(r.g)(n.prototype),"onItemClick",this).call(this,e,t);var o=e.delegateTarget,c=Number(o.getAttribute("rate"));if(!c||c===this.curValue)return!1;var l={playbackRate:{from:this.player.playbackRate,to:c}};this.emitUserAction(e,"change_rate",{props:l}),this.curValue=c,this.player.playbackRate=c}},{key:"renderItemList",value:function(){var e=this,t=this.player.playbackRate||1;this.curValue=t;var o=-1,c=this.config.list.map((function(n,r){var c={rate:n.rate};return c.rate===t&&(c.selected=!0,o=r),c.showText=e.getTextByLang(n),c}));Object(r.f)(Object(r.g)(n.prototype),"renderItemList",this).call(this,c,o)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0],n="";n=!t||this.curIndex<0?"".concat(this.player.playbackRate,"x"):this.getTextByLang(t,"iconText"),this.find(".icon-text").innerHTML=n}}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return Object(r.i)(Object(r.i)({},lt.defaultConfig),{},{position:f.a.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),n}(lt);function ft(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" class=\'path_full\' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}function pt(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var gt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.cssFullscreen&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;Object(r.f)(Object(r.g)(n.prototype),"afterCreate",this).call(this),this.config.disable||(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(l.CSS_FULLSCREEN_CHANGE,(function(t){e.animate(t)})),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,t=this.find(".xgplayer-icon");t.appendChild(e.cssFullscreen),t.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:t}),t?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var t=this.i18nKeys,n=this.find(".xg-tips");n&&this.changeLangTextKey(n,e?t.EXITCSSFULLSCREEN_TIPS:t.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:ft,class:"xg-get-cssfull"},exitCssFullscreen:{icon:pt,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return"<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ".concat(R(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:f.a.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),n}(xe),vt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(l.ERROR,(function(t){e.onError(t)}))}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.player,n=e.errorType,r=t.errorNote?this.i18n[t.errorNote]:"";if(!r)switch(n){case"decoder":r=this.i18n.MEDIA_ERR_DECODE;break;case"network":r=this.i18n.MEDIA_ERR_NETWORK;break;default:r=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=r,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),n}(f.b),mt=n(62),yt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],(function(t){(e.config.onClick||e.customOnClick)&&(t.preventDefault(),t.stopPropagation(),e.customOnClick?e.customOnClick(t):e.config.onClick(t))})),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(style){var e=this;Object.keys(style).map((function(t){e.root.style[t]=style[t]}))}},{key:"showPrompt",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){this.customOnClick=r;var o=this.config.interval;if(this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),c.b.addClass(this.root,"show"),"arrow"===n.mode&&c.b.addClass(this.root,"arrow"),this.find(".xgplayer-prompt-detail").innerHTML="string"==typeof e?e:"".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),n.style&&this.setStyle(n.style),"boolean"==typeof n.autoHide?n.autoHide:this.config.autoHide){var l=n.interval||o;this.intervalId=setTimeout((function(){t.hide()}),l)}}}},{key:"hide",value:function(){c.b.removeClass(this.root,"show"),c.b.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(mt.a.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),n}(f.b),bt={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function _t(e){Object.keys(bt).map((function(t){void 0===e[t]&&(e[t]=bt[t])}))}var kt={_updateDotDom:function(e,t){if(t){var n=this.calcuPosition(e.time,e.duration),style=e.style||{};style.left="".concat(n.left,"%"),style.width="".concat(n.width,"%"),t.setAttribute("data-text",e.text),t.setAttribute("data-time",e.time),n.isMini?c.b.addClass(t,"mini"):c.b.removeClass(t,"mini"),Object.keys(style).map((function(e){t.style[e]=style[e]}))}},initDots:function(){var e=this;this._ispots.map((function(t){e.createDot(t,!1)})),this.ispotsInit=!0},createDot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],progress=this.player.plugins.progress;if(progress&&(t&&(_t(e),this._ispots.push(e)),this.ispotsInit||!t)){var n=this.calcuPosition(e.time,e.duration),style=e.style||{};style.left="".concat(n.left,"%"),style.width="".concat(n.width,"%");var r="xgspot_".concat(e.id," xgplayer-spot");n.isMini&&(r+=" mini");var o=e.template?'<div class="xgplayer-spot-pop">'.concat(e.template,"</div>"):"",l=c.b.createDom("xg-spot",o,{"data-text":e.text,"data-time":e.time,"data-id":e.id},r);Object.keys(style).map((function(e){l.style[e]=style[e]})),progress.outer&&progress.outer.appendChild(l),this.positionDot(l,e.id)}},findDot:function(e){if(this.player.plugins.progress){var t=this._ispots.filter((function(t,n){return t.id===e}));return t.length>0?t[0]:null}},updateDot:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],progress=this.player.plugins.progress;if(progress){var n=this.findDot(e.id);if(n&&Object.keys(e).map((function(t){n[t]=e[t]})),this.ispotsInit){var r=progress.find('xg-spot[data-id="'.concat(e.id,'"]'));r&&(this._updateDotDom(e,r),t&&this.showDot(e.id))}}},deleteDot:function(e){var t=this._ispots,progress=this.player.plugins.progress;if(progress){for(var del=[],i=0;i<t.length;i++)t[i].id===e&&del.push(i);for(var n=del.length-1;n>=0;n--)if(t.splice(del[n],1),this.ispotsInit){var r=progress.find('xg-spot[data-id="'.concat(e,'"]'));r&&r.parentElement.removeChild(r)}}},deleteAllDots:function(){var progress=this.player.plugins.progress;if(progress)if(this.ispotsInit){for(var e=progress.root.getElementsByTagName("xg-spot"),i=e.length-1;i>=0;i--)progress.outer.removeChild(e[i]);this._ispots=[]}else this._ispots=[]},updateAllDots:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],progress=this.player.plugins.progress;if(progress)if(this.ispotsInit){this._ispots=[];var n=progress.root.getElementsByTagName("xg-spot"),r=n.length;if(r>t.length)for(var i=r-1;i>t.length-1;i--)progress.outer.removeChild(n[i]);t.forEach((function(t,o){o<r?(n[o].setAttribute("data-id","".concat(t.id)),e._ispots.push(t),e.updateDot(t)):e.createDot(t)}))}else this._ispots=t},positionDots:function(){var e=this,t=this._ispots,n=this.playerSize,r=this.player.sizeInfo,progress=this.player.plugins.progress;progress&&r.width!==n.width&&(n.width=r.width,n.left=r.left,t.forEach((function(t){var n=progress.find('xg-spot[data-id="'.concat(t.id,'"]'));n&&e.positionDot(n,t.id)})))},positionDot:function(e,t){var n=c.b.findDom(e,".xgplayer-spot-pop");if(n){var r=this.playerSize,o=e.getBoundingClientRect(),rect=n.getBoundingClientRect(),l=o.left-r.left,h=r.width-l-o.width/2;if(l<rect.width/2||r.width<rect.width){var f=rect.width/2-l;n.style.left="".concat(f,"px")}else if(h<rect.width/2){var d=h-rect.width/2+o.width/2;n.style.left="".concat(d,"px")}else n.style.left="50%"}},updateDuration:function(){var e=this,progress=this.player.plugins.progress;progress&&this._ispots.forEach((function(t){var n=progress.find('xg-spot[data-id="'.concat(t.id,'"]'));e._updateDotDom(t,n)}))},getAllDotsDom:function(){var progress=this.player.plugins.progress;return progress?progress.root.getElementsByTagName("xg-spot"):[]},getDotDom:function(e){var progress=this.player.plugins.progress;if(progress)return progress.find('xg-spot[data-id="'.concat(e,'"]'))}};var Ct={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},Ot=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),o=t.call(this,e),Object(r.e)(Object(r.a)(o),"onMousemove",(function(e){o.config.disable||(c.b.hasClass(e.target,"xg-spot-content")&&o.config.isHideThumbnailHover?o.player.plugins.progress.onMouseLeave(e):(o._state.f||c.b.hasClass(e.target,"xg-spot-content"))&&(c.b.event(e),e.stopPropagation()))})),Object(r.e)(Object(r.a)(o),"onMousedown",(function(e){o.config.disable||(o._state.f||c.b.hasClass(e.target,"xg-spot-content"))&&(c.b.event(e),e.stopPropagation())})),Object(r.e)(Object(r.a)(o),"onMouseup",(function(e){if(o.isDrag){var progress=o.player.plugins.progress;progress&&progress.pos&&(progress.onMouseUp(e),!progress.pos.isEnter&&progress.onMouseLeave(e))}})),Object(r.e)(Object(r.a)(o),"onDotMouseLeave",(function(e){if(!o.config.disable){o._curDot.removeEventListener("mouseleave",o.onDotMouseLeave),o.blurDot(e.target),o._curDot=null;var progress=o.player.plugins.progress;progress&&progress.enableBlur(),o.show()}})),Object(r.e)(Object(r.a)(o),"onProgressMouseOver",(function(data,e){if(!o.config.disable&&c.b.hasClass(e.target,"xgplayer-spot")&&!o._curDot){o._curDot=e.target,o.focusDot(e.target),o._curDot.children.length>0&&o.hide();var progress=o.player.plugins.progress;progress&&progress.disableBlur(),o._curDot.addEventListener("mouseleave",o.onDotMouseLeave)}})),o._ispots=[],o.videoPreview=null,o.videothumbnail=null,o.thumbnail=null,o.timeStr="",o._state={now:0,f:!1},o}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){var progress=e.player.plugins.progress;progress&&(e.root=progress.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",(function(t,data){data.seekTime&&e.player.seek(data.seekTime)})),this.transformTimeHook=this.hook("transformTime",(function(time){e.setTimeContent(c.b.format(time))})),function(e){var t=e.config,n=e.player;Object.keys(kt).map((function(t){e[t]=kt[t].bind(e)}));var r=n.config.progressDot||t.ispots||[];e._ispots=r.map((function(e){return _t(e),e})),e.ispotsInit=!1,e.playerSize={left:n.sizeInfo.left,width:n.sizeInfo.width},e.on(l.DURATION_CHANGE,(function(){e.ispotsInit?e.updateDuration():e.initDots()})),e.on(l.VIDEO_RESIZE,(function(){e.positionDots()}))}(this),this.on(l.DURATION_CHANGE,(function(){e.show()})),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map((function(n){t.config[n]=e[n]}))}},{key:"onPluginsReady",value:function(){this.player.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,progress=this.player.plugins.progress;if(progress&&(Object.keys(Ct).map((function(t){e[Ct[t]]=e[Ct[t]].bind(e),progress.addCallBack(t,e[Ct[t]])})),"mobile"!==o.a.device)){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var t=this.hook("previewClick",(function(){}));this.handlerPreviewClick=function(n){n.stopPropagation(),t(parseInt(1e3*e._state.now,10)/1e3,n)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(data,e){!this.config.disable&&this.player.duration&&this.updatePosition(data.offset,data.width,data.currentTime,data.e)}},{key:"onProgressDragStart",value:function(data){!this.config.disable&&this.player.duration&&(this.isDrag=!0,this.videoPreview&&c.b.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(data){!this.config.disable&&this.player.duration&&(this.isDrag=!1,this.videoPreview&&c.b.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(data,e){this.config.disable||c.b.hasClass(e.target,"xgplayer-spot")&&(e.stopPropagation(),e.preventDefault(),["time","id","text"].map((function(t){data[t]=e.target.getAttribute("data-".concat(t))})),data.time&&(data.time=Number(data.time)),this.handlerSpotClick(e,data))}},{key:"updateLinePos",value:function(e,t){var n=this.root,r=this.previewLine,o=this.player,c=this.config,l="flex"===o.controls.mode,h=n.getBoundingClientRect().width;if(h||!this._hasThumnail){var f,d=e-(h=this._hasThumnail&&h<c.width?c.width:h)/2;d<0&&!l?(d=0,f=e-h/2):d>t-h&&!l?(f=d-(t-h),d=t-h):f=0,void 0!==f&&(r.style.transform="translateX(".concat(f.toFixed(2),"px)")),n.style.transform="translateX(".concat(d.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var t=this.timeText,n=this.timePoint;t.innerHTML=e,!this.thumbnail&&(n.innerHTML=e)}},{key:"updatePosition",value:function(e,t,time,n){var r=this.root,o=this.config,l=this._state;if(r){l.now=time,this.transformTimeHook(time);var h=this.timeStr;n&&n.target&&c.b.hasClass(n.target,"xgplayer-spot")?(this.showTips(n.target.getAttribute("data-text"),!1,h),this.focusDot(n.target),l.f=!0,o.isFocusDots&&l.f&&(l.now=parseInt(n.target.getAttribute("data-time"),10))):o.defaultText?(l.f=!1,this.showTips(o.defaultText,!0,h)):(l.f=!1,this.hideTips("")),this.updateTimeText(h),this.updateThumbnails(l.now),this.updateLinePos(e,t)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(time){var e=this.player,t=this.videoPreview,n=this.config,r=e.plugins.thumbnail;if(r&&r.usable){this.thumbnail&&r.update(this.thumbnail,time,n.width,n.height);var rect=t&&t.getBoundingClientRect();this.videothumbnail&&r.update(this.videothumbnail,time,rect.width,rect.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("mobile"!==o.a.device){var t=this.player,n=this.config,r=t.getPlugin("thumbnail");if(r&&r.setConfig(e),r&&r.usable&&n.isShowThumbnail){c.b.removeClass(this.root,"short-line no-thumbnail"),"short"===n.mode&&c.b.addClass(this.root,"short-line"),this._hasThumnail=!0;var l=this.find(".xg-spot-thumbnail");this.thumbnail=r.createThumbnail(l,"progress-thumbnail"),n.isShowCoverPreview&&(this.videoPreview=c.b.createDom("xg-video-preview","",{},"xgvideo-preview"),t.root.appendChild(this.videoPreview),this.videothumbnail=r.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}else c.b.addClass(this.root,"short-line no-thumbnail")}}},{key:"calcuPosition",value:function(time,e){var progress=this.player.plugins.progress,t=this.player,n=progress.root.getBoundingClientRect().width,r=t.duration/n*6;return time+e>t.duration&&(e=t.duration-time),t.duration,t.duration,{left:time/t.duration*100,width:e/t.duration*100,isMini:e<r}}},{key:"showDot",value:function(e){var t=this.findDot(e);if(t){var n=this.root.getBoundingClientRect().width,r=t.time/this.player.duration*n;this.updatePosition(r,n,t.time)}}},{key:"focusDot",value:function(e,t){e&&(t||(t=e.getAttribute("data-id")),c.b.addClass(e,"active"),this._activeDotId=t)}},{key:"blurDot",value:function(e){if(!e){var t=this._activeDotId;e=this.getDotDom(t)}e&&(c.b.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(text,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";c.b.addClass(this.root,"no-timepoint"),text&&(c.b.addClass(this.find(".xg-spot-content"),"show-text"),e&&"production"===this.config.mode?(c.b.addClass(this.root,"product"),this.tipText.textContent=text):(c.b.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?text:"".concat(t," ").concat(text)))}},{key:"hideTips",value:function(){c.b.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",c.b.removeClass(this.find(".xg-spot-content"),"show-text"),c.b.removeClass(this.root,"product")}},{key:"hide",value:function(){c.b.addClass(this.root,"hide")}},{key:"show",value:function(e){c.b.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,t=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(t.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,progress=this.player.plugins.progress;progress&&Object.keys(Ct).map((function(t){progress.removeCallBack(t,e[Ct[t]])})),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===o.a.device||"mobile"===this.playerConfig.isMobileSimulateMode?"":'<div class="xg-spot-info hide '.concat("short"===this.config.mode?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-ext-text"></div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),n}(f.b),wt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;return Object(r.b)(this,n),(o=t.call(this,e)).ratio=1,o.interval=null,o._preloadMark={},o}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([l.DURATION_CHANGE],(function(){var t=e.config,n=t.pic_num,r=t.interval;e.usable&&(e.interval=r>0?r:Math.round(1e3*e.player.duration/n)/1e3)}))}},{key:"setConfig",value:function(e){var t=this;if(e){var n=Object.keys(e);n.length<1||(n.forEach((function(n){t.config[n]=e[n]})),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,t=e.urls,n=e.pic_num;return t&&t.length>0&&n>0}},{key:"initThumbnail",value:function(){var e=this.config,t=e.width,n=e.height,r=e.pic_num,o=e.interval;this.ratio=t/n*100,this.interval=o||Math.round(this.player.duration/r),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var t=this;if(!this._preloadMark[e]){var n=this.config.urls,r=n.length,o=[];e>0&&o.push(e-1),o.push(e),e>0&&e<r-1&&o.push(e+1),o.map((function(e){!t._preloadMark[e]&&e>=0&&e<r&&(t._preloadMark[e]=1,c.b.preloadImg(n[e],(function(){t._preloadMark[e]=2})))}))}}},{key:"getPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.config,o=r.pic_num,c=r.row,col=r.col,l=r.width,h=r.height;this.interval=Math.round(this.player.duration/o);var f=Math.ceil(e/this.interval),d=(f=f>o?o:f)<c*col?0:Math.ceil(f/(c*col))-1,v=f-d*(col*c),m=v>0?Math.ceil(v/col)-1:0,y=v>0?v-m*col-1:0,_=0,k=0;t&&n?t/n<l/h?_=(k=n)*(l/h):k=(_=t)/(l/h):n?t||(_=(k=n||h)*(l/h)):k=(_=t||l)/(l/h);var C=this.getUrlByIndex(d);return{urlIndex:d,rowIndex:m,colIndex:y,url:C,height:k,width:_,style:{backgroundImage:"url(".concat(C,")"),backgroundSize:"".concat(_*col,"px auto"),backgroundPosition:"-".concat(y*_,"px -").concat(m*k,"px"),width:"".concat(_,"px"),height:"".concat(k,"px")}}}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=this.config,l=c.pic_num,h=c.urls;if(!(l<=0)&&h&&0!==h.length){var f=this.getPosition(t,n,r);this.preload(f.urlIndex),Object.keys(f.style).map((function(t){e.style[t]=f.style[t]})),Object.keys(o).map((function(t){e.style[t]=o[t]}))}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,t){var n=c.b.createDom("xg-thumbnail","",{},"thumbnail ".concat(t));return e&&e.appendChild(n),n}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),n}(f.b);function Tt(e){return e?"background:".concat(e,";"):""}var Et=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return e=t.call.apply(t,[this].concat(l)),Object(r.e)(Object(r.a)(e),"onTimeupdate",(function(){var t=e.player.ended,n=Object(r.a)(e).offsetDuration,time=e.currentTime;time=c.b.adjustTimeByDuration(time,n,t),e.update({played:time},n)})),e}return Object(r.c)(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,n=e.currentTime;return t>=0?t:n}},{key:"afterCreate",value:function(){var e=this;this.root&&(this.on(l.TIME_UPDATE,this.onTimeupdate),this.on(l.EMPTIED,(function(){e.reset()})))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},e=arguments.length>1?arguments[1]:void 0;e&&this.root&&(data.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(data.cached/e*100,"%")),data.played&&(this.find("xg-mini-progress-played").style.width="".concat(data.played/e*100,"%")))}},{key:"render",value:function(){var e=this.playerConfig,t=e.commonStyle;if(e.miniprogress){var n=this.config,r=n.mode,o=n.height,c={cached:Tt(t.cachedColor),played:Tt(t.playedColor),progress:Tt(t.progressColor),height:o>0&&2!==o?"height: ".concat(o,"px;"):""};return'<xg-mini-progress class="xg-mini-progress '.concat("show"===r?"xg-mini-progress-show":"",'" style="').concat(c.progress," ").concat(c.height,'">\n    <xg-mini-progress-cache class="xg-mini-progress-cache" style="').concat(c.cached,'"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played" style="').concat(c.played,'"></xg-mini-progress-played>\n    </xg-mini-progress>')}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),n}(f.b),xt="realtime",St="firstframe",It="poster";var jt=null,Pt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,h=new Array(o),f=0;f<o;f++)h[f]=arguments[f];return e=t.call.apply(t,[this].concat(h)),Object(r.e)(Object(r.a)(e),"onLoadedData",(function(t){e.player&&(e._frameCount=e.config.startFrameCount,e.stop(),e.renderOnTimeupdate(t),e.off(l.TIME_UPDATE,e.renderOnTimeupdate),e.on(l.TIME_UPDATE,e.renderOnTimeupdate))})),Object(r.e)(Object(r.a)(e),"onVisibilitychange",(function(t){"visible"===document.visibilityState?e._checkIfCanStart()&&e.start():"hidden"===document.visibilityState&&e.stop()})),Object(r.e)(Object(r.a)(e),"renderOnTimeupdate",(function(t){if(e._frameCount>0)e.renderOnce(),e._frameCount--;else{e._isLoaded=!0,e.off(l.TIME_UPDATE,e.renderOnTimeupdate);var n=e.config.startInterval;!e.player.paused&&e._checkIfCanStart()&&e.start(0,n)}})),Object(r.e)(Object(r.a)(e),"start",(function(time,t){var video=e.player.video,n=function(){try{return parseInt(window.performance.now(),10)}catch(e){return(new Date).getTime()}}(),o=e.checkVideoIsSupport(video);o&&e.canvasCtx&&(t||(t=e.interval),e.stop(),video.videoWidth&&video.videoHeight&&(e.videoPI=video.videoHeight>0?parseInt(video.videoWidth/video.videoHeight*100,10):0,(e.config.mode===xt||n-e.preTime>=t)&&(video&&video.videoWidth&&e.update(o,e.videoPI),e.preTime=n)),e.frameId="timer"===e._loopType?c.b.setTimeout(Object(r.a)(e),e.start,t):c.b.requestAnimationFrame(e.start))})),Object(r.e)(Object(r.a)(e),"stop",(function(){e.frameId&&("timer"===e._loopType?c.b.clearTimeout(Object(r.a)(e),e.frameId):c.b.cancelAnimationFrame(e.frameId),e.frameId=null)})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;!0===this.playerConfig.dynamicBg&&(this.config.disable=!1),n.isSupport||(this.config.disable=!0);var t=this.config,r=t.disable,o=t.mode,c=t.frameRate;r||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/c,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==xt&&this.interval>=1e3?"timer":"animation",this.once(l.COMPLETE,(function(){e.player&&(e.init(),e.renderByPoster(),e.player.paused||e.start())})),o!==It&&(o!==St&&(this.on(l.EMPTIED,(function(){e.stop()})),this.on(l.PLAY,(function(){var t=e.config.startInterval;e._checkIfCanStart()&&e.start(0,t)})),this.on(l.PAUSE,(function(){e.stop()}))),this.on(l.LOADED_DATA,this.onLoadedData),this.on(l.LOAD_START,(function(){e._isLoaded=!1,e.stop()})),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach((function(n){"root"===n&&e[n]!==t.config[n]?t.reRender(e[n]):"frameRate"===n?t.interval=parseInt(1e3/e[n],10):"disable"===n&&e[n]&&t.stop(),t.config[n]=e[n]}))}},{key:"init",value:function(e){var t=this.player,r=this.config;this.canvasFilter=n.supportCanvasFilter();try{var o=e||r.root;o||(o=r.isInnerRender&&t.innerContainer||t.root),o.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(r.index,'"><canvas>\n        </canvas><xgmask></xgmask></div>')),this.root=o.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=r.filter,this.canvas.style.webkitFilter=r.filter),this.mask=this.find("xgmask"),r.addMask&&(this.mask.style.background=r.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(e){h.b.logError("plugin:DynamicBg",e)}}},{key:"reRender",value:function(e){if(this.config.disable||this.root){this.stop();var t=this.root?this.root.parentElement:null;if(t!==e&&t.removeChild(this.root),e){this.init(e),this.renderOnce();var n=this.config.startInterval;this._checkIfCanStart()&&this.start(0,n)}else this.root=null}}},{key:"checkVideoIsSupport",value:function(video){if(!video)return null;var e=video&&video instanceof window.HTMLVideoElement?video:video.canvas?video.canvas:video.flyVideo?video.flyVideo:null;if(e&&("safari"!==o.a.browser||!c.b.isMSE(e)))return e;var t=e?e.tagName.toLowerCase():"";return"canvas"===t||"img"===t?e:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var t="String"===c.b.typeOf(e)?e:"String"===c.b.typeOf(e.poster)?e.poster:null;this.updateImg(t)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&!this.player.paused&&e!==St&&e!==It}},{key:"renderOnce",value:function(){var video=this.player.video;if(video.videoWidth&&video.videoHeight){this.videoPI=parseInt(video.videoWidth/video.videoHeight*100,10);var e=this.checkVideoIsSupport(video);e&&this.update(e,this.videoPI)}}},{key:"updateImg",value:function(e){var t=this;if(e){var n=this.canvas.getBoundingClientRect(),r=n.width,o=n.height,image=new window.Image;image.onload=function(){if(t.canvas&&!t.frameId&&!t.isStart){t.canvas.height=o,t.canvas.width=r;var e=parseInt(r/o*100,10);t.update(image,e),image=null}},image.src=e}}},{key:"update",value:function(video,e){if(this.canvas&&this.canvasCtx&&e)try{var t=this._pos,n=this.config,r=this.canvas.getBoundingClientRect(),o=r.width,c=r.height;if(o!==t.width||c!==t.height||t.pi!==e){var l=parseInt(o/c*100,10);t.pi=e,t.width!==o&&(t.width=this.canvas.width=o),t.height!==c&&(t.height=this.canvas.height=c);var f=c,d=o;l<e?d=parseInt(c*e/100,10):l>e&&(f=parseInt(100*o/e,10)),t.rwidth=d*n.multiple,t.rheight=f*n.multiple,t.x=(o-t.rwidth)/2,t.y=(c-t.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=n.filter),this.canvasCtx.drawImage(video,t.x,t.y,t.rwidth,t.rheight)}catch(e){h.b.logError("plugin:DynamicBg",e)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return"boolean"==typeof jt?jt:jt=function(){try{return!!document.createElement("canvas").getContext}catch(e){return!1}}()}},{key:"supportCanvasFilter",value:function(){return!("safari"===o.a.browser||"firefox"===o.a.browser)}}]),n}(f.b),At=n(781),Lt="info",Dt=l.STATS_EVENTS,Rt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"_recordUserActions",(function(t){var time=e._getTime(),n=Object.assign({},t,{msg:t.msg||t.action});e._stats[Lt].push(Object(r.i)(Object(r.i)({type:"userAction"},time),{},{payload:n}))})),Object(r.e)(Object(r.a)(e),"_onReset",(function(){e.reset()})),Object(r.e)(Object(r.a)(e),"_recordInfo",(function(data){e.info(data)})),Object(r.e)(Object(r.a)(e),"_downloadStats",(function(){var t=e.getStats(),n=new Blob([JSON.stringify(t)],{type:"application/json"}),r=window.URL.createObjectURL(n),link=document.createElement("a");link.style.display="none",link.href=r,link.download="player.txt",link.disabled=!1,link.click()})),e}return Object(r.c)(n,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:(new Date).toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(l.USER_ACTION,this._recordUserActions),this.on(Dt.STATS_INFO,this._recordInfo),this.on(Dt.STATS_DOWNLOAD,this._downloadStats),this.on(Dt.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(data){data.profile?this._infoProfile(data):this._info(data)}},{key:"_info",value:function(data){var time=this._getTime();this._stats[Lt].push(Object(r.i)(Object(r.i)({},time),{},{payload:data}))}},{key:"_infoProfile",value:function(data){if(data&&data.startMs){var e=Date.now()-data.startMs,t=Object(r.i)({cat:"function",dur:e,name:data.name||data.msg,ph:"X",pid:0,tid:0,ts:data.startMs,profile:!0},data);this._info(t)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},Object(r.e)(e,Lt,[]),Object(r.e)(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player.media,t=[],i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});var n={currentTime:e.currentTime,readyState:e.readyState,buffered:t,paused:e.paused,ended:e.ended};return this._stats.media=n,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){return this._stats[Lt].map((function(e){var data=e.payload.data,t="";try{data instanceof Error?t=data.msg:void 0!==data&&(t=JSON.stringify(data))}catch(e){console.log("err",e)}return"[".concat(e.timeFormat,"] : ").concat(e.payload.msg," ").concat(t," ")}))}},{key:"_getProfile",value:function(){var e={traceEvents:[]};return this._stats[Lt].forEach((function(t){t.payload.profile&&e.traceEvents.push(t.payload)})),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),n}(Z.a),Mt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"onGapJump",(function(){var t=Object(r.a)(e),o=t.player,c=t.config;if(o.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(o.media.seeking){if(!e.seekingEventReceived)return}else e.seekingEventReceived=!1;if(!o.media.paused||0===o.media.currentTime||!e.hasPlayed){var l=o.media.buffered,h=c.smallGapLimit||.5,f=c.gapDetectionThreshold||.3,d=o.media.currentTime,v=e._getIndex(l,d,f);if(null!==v&&0!==v){console.log("GapJump  bufferRange ",l.start(v),l.end(v));var m=l.start(v)+.1;if(!(m>o.media.duration)){var y=m-d,_=y<=h;y<n.BROWSER_GAP_TOLERANCE||_&&(!1!==c.useGapJump&&(o.media.currentTime=e.isSafari?m+.1:m),e.player&&e.player.emit("detectGap"),console.log("gapJump gapIndex",v," isGapSamll:",_," currentTime:",o.media.currentTime," jumpSize:",d-o.media.currentTime),.08!==m&&o&&o.emit("log",{type:"oneevent",end_type:"gap",vid:o.config.vid,ext:{video_postion:Math.floor(1e3*m)}}))}}}}})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this;!1!==this.config.useGapJump&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(l.WAITING,this.onGapJump),this.on(l.PLAY,(function(){e.hasPlayed=!0})),this.on(l.SEEKING,(function(){e.seekingEventReceived=!0})))}},{key:"_getIndex",value:function(e,time,t){if(!e||!e.length)return null;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return null;for(var n=this._getBuffered(e),r=null,i=0;i<n.length;i++){if(n[i].start>time&&(0===i||n[i-1].end-time<=t)){r=i;break}}return r}},{key:"_getBuffered",value:function(b){if(!b)return[];for(var e=[],i=0;i<b.length;i++)e.push({start:b.start(i),end:b.end(i)});return e}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),n}(f.b);Mt.BROWSER_GAP_TOLERANCE=.001;var Nt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"onWaiting",(function(){var t=Object(r.a)(e).config;e.jumpCnt>t.jumpCntMax||e.timer||!1===t.useWaitingTimeoutJump||(e.timer=setTimeout(e.onJump,1e3*t.waitingTime))})),Object(r.e)(Object(r.a)(e),"onJump",(function(){var t=Object(r.a)(e),n=t.player,o=t.config;if(clearTimeout(e.timer),e.timer=null,!(e.jumpCnt>o.jumpCntMax||!1===o.useWaitingTimeoutJump||n.media.paused&&0!==n.media.currentTime&&e.hasPlayed)){e.jumpSize=o.jumpSize*(e.jumpCnt+1),e.jumpCnt===o.jumpSize&&e.jumpSize<6&&(e.jumpSize=6);var c=n.currentTime+e.jumpSize;c>n.media.duration||(e.jumpCnt++,n.currentTime=c)}})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this,t=this.config,n=t.useWaitingTimeoutJump,r=t.jumpSize;!1!==n&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=r,this.on(l.WAITING,this.onWaiting),this.on([l.PLAYING,l.CANPLAY],(function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize})),this.on(l.PLAY,(function(){e.hasPlayed=!0})))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),n}(f.b),Ft="cdn",Ht=["cdn"],Ut=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,h=new Array(o),f=0;f<o;f++)h[f]=arguments[f];return e=t.call.apply(t,[this].concat(h)),Object(r.e)(Object(r.a)(e),"getSpeed",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;if(!e.speedListCache||!e.speedListCache[t])return 0;if(e.speedListCache[t].length<=0)return 0;var n=0;return e.speedListCache[t].map((function(e){n+=e})),Math.floor(n/e.speedListCache[t].length)})),Object(r.e)(Object(r.a)(e),"startTimer",(function(){c.b.isMSE(e.player.video)||(e.initSpeedList(),e.cnt=0,e.timer=setTimeout(e.testSpeed,e.config.testTimeStep))})),Object(r.e)(Object(r.a)(e),"initSpeedList",(function(){e.speedListCache={},Ht.forEach((function(t){e.speedListCache[t]=[]}))})),Object(r.e)(Object(r.a)(e),"_onRealSpeedChange",(function(data){data.speed&&e.appendList(data.speed,data.type||Ft)})),Object(r.e)(Object(r.a)(e),"testSpeed",(function(){if(clearTimeout(e.timer),e.timer=null,e.player&&e.config.openSpeed){var t=e.config,n=t.url,r=t.loadSize,o=t.testCnt,c=t.testTimeStep,l=n+(n.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(e.cnt>=o)){e.cnt++;try{var h=(new Date).getTime(),f=null,d=new XMLHttpRequest;e.xhr=d,d.open("GET",l);var v={},m=Math.floor(10*Math.random());v.Range="bytes="+m+"-"+(r+m),v&&Object.keys(v).forEach((function(e){d.setRequestHeader(e,v[e])})),d.onreadystatechange=function(){if(4===d.readyState){e.xhr=null,f=(new Date).getTime();var t=d.getResponseHeader("Content-Length")/1024*8,n=Math.round(1e3*t/(f-h));e.appendList(n),e.timer=setTimeout(e.testSpeed,c)}},d.send()}catch(e){console.error(e)}}}})),Object(r.e)(Object(r.a)(e),"appendList",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;if(e.speedListCache&&e.speedListCache[n]){var o=e.config.saveSpeedMax;e.speedListCache[n].length>=o&&e.speedListCache[n].shift(),e.speedListCache[n].push(t);var c=Object(r.a)(e).player;c&&(n===Ft?c.realTimeSpeed=t:c[e.getSpeedName("realTime",n)]=t),e.updateSpeed(n)}})),Object(r.e)(Object(r.a)(e),"updateSpeed",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,n=e.getSpeed(t),o=Object(r.a)(e).player;if(o)if(t===Ft)o.avgSpeed&&n===o.avgSpeed||(o.avgSpeed=n,o.emit(l.DOWNLOAD_SPEED_CHANGE,{speed:n,realTimeSpeed:o.realTimeSpeed}));else{var c=e.getSpeedName("avg",t);o[c]&&n===o[c]||(o[c]=n,o.emit(l.DOWNLOAD_SPEED_CHANGE,{speed:n,realTimeSpeed:o.realTimeSpeed}))}})),e}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this.config,t=e.openSpeed,n=e.addSpeedTypeList;(null==n?void 0:n.length)>0&&Ht.push.apply(Ht,Object(r.k)(n)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,t&&this.on([l.LOADED_DATA,l.REPLAY],this.startTimer)}},{key:"getSpeedName",value:function(e,t){return e+"Speed"+t.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer)return clearTimeout(this.timer),void(this.timer=null);if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([l.LOADED_DATA,l.REPLAY],this.startTimer),Ht.forEach((function(t){e.speedListCache&&e.speedListCache[t]&&(e.speedListCache[t]=[])})),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&4!==this.xhr.readyState&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:204800,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),n}(f.b),Bt=n(322),Vt=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){return Object(r.b)(this,n),t.apply(this,arguments)}return Object(r.c)(n,[{key:"afterCreate",value:function(){var e=this,t=this.player,n=this.config,r=t.media||t.video;(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],n.disabled)||r.getVideoPlaybackQuality&&(this.on(l.PLAY,(function(){e._startTick()})),this.on(l.PAUSE,(function(){e._stopTick()})),this.on(l.ENDED,(function(){e._stopTick()})),this.on(l.EMPTIED,(function(){e._stopTick()})))}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout((function(){e._checkDecodeFPS(),e._startTick()}),this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,t){for(var n=!1,r=[],i=0;i<t.length;i++){var o=t.start(i),c=t.end(i);if(r.push({start:o,end:c}),o<=e&&e<=c-1){n=!0;break}}return{enoughBuffer:n,buffers:r}}},{key:"_checkStuck",value:function(e,t,n,r){var o=this.player.media||this.player.video,c=document.hidden,h=o.paused,f=o.readyState,d=o.currentTime,v=o.buffered;if(!(c||h||f<4)){var m=this._checkBuffer(d,v),y=m.enoughBuffer,_=m.buffers;y&&(e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:d,buffers:_,curDecodedFrames:e,totalVideoFrames:t,droppedVideoFrames:n,checkInterval:r}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(l.FPS_STUCK,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(e){var t=e.getVideoPlaybackQuality(),n=t.totalVideoFrames,r=t.droppedVideoFrames,o=performance.now();if(n&&this._lastCheckPoint){var c=n-this._lastDecodedFrames,l=o-this._lastCheckPoint;this._checkStuck(c,n,r,l)}this._lastDecodedFrames=n,this._lastCheckPoint=o}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),n}(f.b);Bt.a.use(At.a);var Wt=Object(r.c)((function e(t,n){var c,l,h;Object(r.b)(this,e);var f=n&&"mobile"===n.isMobileSimulateMode,d=n.isLive,v=[].concat(d?[]:[Re,Ee,Et,Ot,De],[Se,Le,Be,Xe,ut,ht,Qe,et,He,Ye]),m=[E,x,L,Ce,D,vt,yt,wt,X];this.plugins=[Rt,w].concat(Object(r.k)(v),m,[Mt,Nt]);var y=f?"mobile":o.a.device;switch(y){case"pc":(c=this.plugins).push.apply(c,[_e,te,gt,Ut,Vt]);break;case"mobile":(l=this.plugins).push.apply(l,[ye]);break;default:(h=this.plugins).push.apply(h,[_e,te,gt])}(o.a.os.isIpad||"pc"===y)&&this.plugins.push(Pt),o.a.os.isIpad&&this.plugins.push(te),this.ignores=[],this.i18n=[]}))},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(17),o=n(578),c=n.n(o),l=n(23),h=n(94),f=n(320),d=n(37);function v(e,t){this&&this.emit&&("error"===e?this.errorHandler(e,t.error):this.emit(e,t))}var m=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;Object(r.b)(this,n),(o=t.call(this,e))._hasStart=!1,o._currentTime=0,o._duration=0,o._internalOp={},o._lastMuted=!1,o.vtype="MP4",o._rate=-1,o.mediaConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"x5-playsinline":e.playsinline,"webkit-playsinline":e.playsinline,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:0|e.tabindex,mediaType:e.mediaType||"video","data-index":-1},e.videoConfig,e.videoAttributes);var c=e["x5-video-player-type"]||e.x5VideoPlayerType;return h.a.isWeixin&&h.a.os.isAndroid&&c&&(o.mediaConfig["x5-video-player-type"]=c,delete o.mediaConfig.playsinline,delete o.mediaConfig["webkit-playsinline"],delete o.mediaConfig["x5-playsinline"]),e.loop&&(o.mediaConfig.loop="loop"),e.autoplayMuted&&!Object.prototype.hasOwnProperty.call(o.mediaConfig,"muted")&&(o.mediaConfig.muted=!0),o.media=l.b.createDom(o.mediaConfig.mediaType,"",o.mediaConfig,""),e.defaultPlaybackRate&&(o.media.defaultPlaybackRate=o.media.playbackRate=e.defaultPlaybackRate),"Number"===l.b.typeOf(e.volume)&&(o.volume=e.volume),e.autoplayMuted&&(o.media.muted=!0,o._lastMuted=!0),e.autoplay&&(o.media.autoplay=!0),o._interval={},o.mediaEventMiddleware={},o.attachVideoEvents(),o}return Object(r.c)(n,[{key:"setEventsMiddleware",value:function(e){var t=this;Object.keys(e).map((function(n){t.mediaEventMiddleware[n]=e[n]}))}},{key:"removeEventsMiddleware",value:function(e){var t=this;Object.keys(e).map((function(e){delete t.mediaEventMiddleware[e]}))}},{key:"attachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers||(this._evHandlers=d.VIDEO_EVENTS.map((function(t){var n="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return"function"==typeof e[n]&&e.on(t,e[n]),Object(r.e)({},t,function(e,t){return function(n,r){var o={player:t,eventName:e,originalEvent:n,detail:n.detail||{},timeStamp:n.timeStamp,currentTime:t.currentTime,duration:t.duration,paused:t.paused,ended:t.ended,isInternalOp:!!t._internalOp[n.type],muted:t.muted,volume:t.volume,host:l.b.getHostFromUrl(t.currentSrc),vtype:t.vtype};if(t.removeInnerOP(n.type),"timeupdate"===e&&(t._currentTime=t.media&&t.media.currentTime),"ratechange"===e){var c=t.media?t.media.playbackRate:0;if(c&&t._rate===c)return;t._rate=t.media&&t.media.playbackRate}if("durationchange"===e&&(t._duration=t.media.duration),"volumechange"===e&&(o.isMutedChange=t._lastMuted!==t.muted,t._lastMuted=t.muted),"error"===e&&(o.error=r||t.video.error),t.mediaEventMiddleware[e]){var h=v.bind(t,e,o);try{t.mediaEventMiddleware[e].call(t,o,h)}catch(n){throw v.call(t,e,o),n}}else v.call(t,e,o)}}(t,e))}))),this._evHandlers.forEach((function(e){var n=Object.keys(e)[0];t.addEventListener(n,e[n],!1)}))}},{key:"detachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers.forEach((function(e){var n=Object.keys(e)[0];t.removeEventListener(n,e[n],!1)})),this._evHandlers.forEach((function(t){var n=Object.keys(t)[0],r="on".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));"function"==typeof e[r]&&e.off(n,e[r])})),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(video,e){var t=this;video.removeAttribute("src"),video.load(),e.forEach((function(e,n){t.media.appendChild(l.b.createDom("source","",{src:"".concat(e.src),type:"".concat(e.type||""),"data-index":n+1}))}));var n=video.children;if(n){this._videoSourceCount=n.length,this._videoSourceIndex=n.length,this._vLoadeddata=function(e){t.emit(d.SOURCE_SUCCESS,{src:e.target.currentSrc,host:l.b.getHostFromUrl(e.target.currentSrc)})};for(var r=null,i=0;i<this._evHandlers.length;i++)if("error"===Object.keys(this._evHandlers[i])[0]){r=this._evHandlers[i];break}!this._sourceError&&(this._sourceError=function(e){var n=parseInt(e.target.getAttribute("data-index"),10);if(t._videoSourceIndex--,0===t._videoSourceIndex||n>=t._videoSourceCount){var o={code:4,message:"sources_load_error"};r?r.error(e,o):t.errorHandler("error",o)}var c=f.a[4];t.emit(d.SOURCE_ERROR,new f.b(t,{errorType:c,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:e.target.src}))});for(var o=0;o<n.length;o++)n[o].addEventListener("error",this._sourceError);video.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(video){var e=video.children;if(e&&0!==e.length&&this._sourceError){for(var i=0;i<e.length;i++)e[i].removeEventListener("error",this._sourceError);for(;e.length>0;)video.removeChild(e[0]);this._vLoadeddata&&video.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.media&&(this.media.error||t)){var n=this.media.error||t,r=n.code?f.a[n.code]:"other";n.message;this.media.currentSrc||(n={code:6,message:"empty_src"}),this.emit(e,new f.b(this,{errorType:r,errorCode:n.code,errorMessage:n.message||"",mediaError:n}))}}},{key:"destroy",value:function(){for(var e in this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){return this.media?this.media.play():null}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return!!this.media&&this.media.canPlayType(e)}},{key:"getBufferedRange",value:function(e){var t=[0,0];if(!this.media)return t;e||(e=this.media.buffered);var n=this.media.currentTime;if(e)for(var i=0,r=e.length;i<r&&(t[0]=e.start(i),t[1]=e.end(i),!(t[0]<=n&&n<=t[1]));i++);return t[0]-n<=0&&n-t[1]<=0?t:[0,0]}},{key:"autoplay",get:function(){return!!this.media&&this.media.autoplay},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?l.b.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var t=this.media.buffered;if(!t||0===t.length)return e;for(var i=0;i<t.length;i++)if((t.start(i)<=this.currentTime||t.start(i)<.1)&&t.end(i)>=this.currentTime)return{start:t.start(i),end:t.end(i)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?void 0!==this.media.currentTime?this.media.currentTime:this._currentTime:0},set:function(time){this.media&&(this.media.currentTime=time)}},{key:"defaultMuted",get:function(){return!!this.media&&this.media.defaultMuted},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.media&&this.media.ended}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){if(!this.media.error)return"";return["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][this.media.error.code-1]}},{key:"loop",get:function(){return!!this.media&&this.media.loop},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return!!this.media&&this.media.muted},set:function(e){this.media&&this.media.muted!==e&&(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return!this.media||this.media.paused}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){this.media&&e!==1/0&&(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return!!this.media&&this.media.preload},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return!!this.media&&this.media.seekable}},{key:"seeking",get:function(){return!!this.media&&this.media.seeking}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){this.media&&(this.emit(d.URL_CHANGE,e),this.emit(d.WAITING),this._currentTime=0,this._duration=0,l.b.isMSE(this.media)?this.onWaiting():(this._detachSourceEvents(this.media),"Array"===l.b.typeOf(e)?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()))}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e!==1/0&&this.media&&(this.media.volume=e)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,data){for(var t,o=arguments.length,c=new Array(o>2?o-2:0),l=2;l<o;l++)c[l-2]=arguments[l];(t=Object(r.f)(Object(r.g)(n.prototype),"emit",this)).call.apply(t,[this,e,data].concat(c))}},{key:"on",value:function(e,t){for(var o,c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];(o=Object(r.f)(Object(r.g)(n.prototype),"on",this)).call.apply(o,[this,e,t].concat(l))}},{key:"once",value:function(e,t){for(var o,c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];(o=Object(r.f)(Object(r.g)(n.prototype),"once",this)).call.apply(o,[this,e,t].concat(l))}},{key:"off",value:function(e,t){for(var o,c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];(o=Object(r.f)(Object(r.g)(n.prototype),"off",this)).call.apply(o,[this,e,t].concat(l))}},{key:"offAll",value:function(){Object(r.f)(Object(r.g)(n.prototype),"removeAllListeners",this).call(this)}}]),n}(c.a),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};Object(r.b)(this,e),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=t}return Object(r.c)(e,[{key:"openDB",value:function(e){var t=this,n=this,r=this.myDB.version||1,o=n.indexedDB.open(n.myDB.name,r);o.onerror=function(e){},o.onsuccess=function(r){t.myDB.db=r.target.result,e.call(n)},o.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction,t.objectStoreNames.contains(n.myDB.ojstore.name)||t.createObjectStore(n.myDB.ojstore.name,{keyPath:n.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,data){for(var t,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),i=0;i<data.length;i++)(t=n.add(data[i])).onerror=function(){},t.onsuccess=function(){}}},{key:"putData",value:function(e,data){for(var t,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),i=0;i<data.length;i++)(t=n.put(data[i])).onerror=function(){},t.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,t,n){var r=this,o=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);o.onerror=function(){n.call(r,null)},o.onsuccess=function(e){var t=e.target.result;n.call(r,t)}}},{key:"deleteData",value:function(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),e}(),_=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],k=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],C=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],O="data-xgplayerid",w=n(59),T=n(214),E=function(){function e(){var t=this;if(Object(r.b)(this,e),Object(r.e)(this,"__trigger",(function(e){var n=(new Date).getTime();t.timeStamp=n;for(var i=0;i<e.length;i++)t.__runHandler(e[i].target)})),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver(Object(l.d)(this.__trigger,100,{trailing:!0})),this.timeStamp=(new Date).getTime()}catch(e){console.error(e)}}return Object(r.c)(e,[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var n=e.getAttribute(O),r=this.__handlers,o=-1,i=0;i<r.length;i++)r[i]&&e===r[i].target&&(o=i);o>-1?this.__handlers[o].handler=t:this.__handlers.push({target:e,handler:t,playerId:n})}}},{key:"unObserver",value:function(e){var i=-1;this.__handlers.map((function(t,n){e===t.target&&(i=n)}));try{this.observer&&this.observer.unobserve(e)}catch(e){}this.observer&&this.observer.unobserve(e),i>-1&&this.__handlers.splice(i,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,i=0;i<t.length;i++)if(t[i]&&e===t[i].target){try{t[i].handler(e)}catch(e){console.error(e)}return!0}return!1}}]),e}(),x=null;var S={pluginGroup:{},init:function(e){var t,n,r=e._pluginInfoId;r||(r=(new Date).getTime(),e._pluginInfoId=r),!e.config.closeResizeObserver&&(t=e.root,n=function(){e.resize()},x||(x=new E),x.addObserver(t,n)),this.pluginGroup[r]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,t){var n=null,r=null;return e.plugin&&"function"==typeof e.plugin?(n=e.plugin,r=e.options):(n=e,r={}),t&&(r.config=t||{}),{PLUFGIN:n,options:r}},checkPluginIfExits:function(e,t){for(var i=0;i<t.length;i++)if(e.toLowerCase()===t[i].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,t){for(var n=Object.keys(t),r=null,i=0;i<n.length;i++)if(e.toLowerCase()===n[i].toLowerCase()){r=t[n[i]];break}return"Object"===l.b.typeOf(r)?{root:r.root,position:r.position}:{}},lazyRegister:function(e,t){var n=this,r=t.timeout||1500;return Promise.race([t.loader().then((function(t){var r;r=t&&t.__esModule?t.default:t,n.register(e,r,t.options)})),new Promise((function(e,t){setTimeout((function(){t(new Error("timeout"))}),r)}))])},register:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t&&"function"==typeof t&&void 0!==t.prototype){var r=e._pluginInfoId;if(r&&this.pluginGroup[r]){this.pluginGroup[r]._plugins||(this.pluginGroup[r]._plugins={});var o=this.pluginGroup[r]._plugins,c=this.pluginGroup[r]._originalOptions;n.player=e;var h=n.pluginName||t.pluginName;if(!h)throw new Error("The property pluginName is necessary");if(!t.isSupported||t.isSupported(e.config.mediaType,e.config.codecType)){n.config||(n.config={});for(var f=Object.keys(c),i=0;i<f.length;i++)if(h.toLowerCase()===f[i].toLowerCase()){var d=c[f[i]];"Object"===l.b.typeOf(d)?n.config=Object.assign({},n.config,c[f[i]]):"Boolean"===l.b.typeOf(d)&&(n.config.disable=!d);break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach((function(e){void 0===n.config[e]&&(n.config[e]=t.defaultConfig[e])})),n.root?"string"==typeof n.root&&(n.root=e[n.root]):n.root=e.root,n.index=n.config.index||0;try{o[h.toLowerCase()]&&(this.unRegister(r,h.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(h,"] exist, destroy the old instance")));var v=new t(n);return o[h.toLowerCase()]=v,o[h.toLowerCase()].func=t,v&&"function"==typeof v.afterCreate&&v.afterCreate(),v}catch(e){throw console.error(e),e}}else console.warn("not supported plugin [".concat(h,"]"))}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();try{var n=this.pluginGroup[e]._plugins[t];n&&(n.pluginName&&n.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(n){console.error("[unRegister:".concat(t,"] cgid:[").concat(e,"] error"),n)}},deletePlugin:function(e,t){var n=e._pluginInfoId;n&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var n=e._pluginInfoId;if(!n||!this.pluginGroup[n])return null;var r=t.toLowerCase();return this.pluginGroup[n]._plugins[r]},beforeInit:function(e){var t=this;function n(e){return e&&e.then?e:new Promise((function(e){e()}))}return new Promise((function(r){if(t.pluginGroup)return(e._loadingPlugins&&e._loadingPlugins.length?Promise.all(e._loadingPlugins):Promise.resolve()).then((function(){var o=e._pluginInfoId;if(t.pluginGroup[o]){var c=t.pluginGroup[o]._plugins,l=[];Object.keys(c).forEach((function(e){if(c[e]&&c[e].beforePlayerInit)try{var t=c[e].beforePlayerInit();l.push(n(t))}catch(e){throw l.push(n(null)),e}})),Promise.all([].concat(l)).then((function(){r()})).catch((function(e){console.error(e),r()}))}else r()}))}))},afterInit:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins;Object.keys(n).forEach((function(e){n[e]&&n[e].afterPlayerInit&&n[e].afterPlayerInit()}))}},setLang:function(e,t){var n=t._pluginInfoId;if(n&&this.pluginGroup[n]){var r=this.pluginGroup[n]._plugins;Object.keys(r).forEach((function(t){if(r[t].updateLang)r[t].updateLang(e);else try{r[t].lang=e}catch(e){console.warn("".concat(t," setLang"))}}))}},reRender:function(e){var t=this,n=e._pluginInfoId;if(n&&this.pluginGroup[n]){var r=[],o=this.pluginGroup[n]._plugins;Object.keys(o).forEach((function(e){"controls"!==e&&o[e]&&(r.push({plugin:o[e].func,options:o[e].__args}),t.unRegister(n,e))})),r.forEach((function(n){t.register(e,n.plugin,n.options)}))}},onPluginsReady:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins||{};Object.keys(n).forEach((function(e){n[e].onPluginsReady&&"function"==typeof n[e].onPluginsReady&&n[e].onPluginsReady()}))}},destroy:function(e){var t=e._pluginInfoId;if(this.pluginGroup[t]){var n,r;n=e.root,x.unObserver(n,r);for(var o=this.pluginGroup[t]._plugins,c=0,l=Object.keys(o);c<l.length;c++){var h=l[c];this.unRegister(t,h)}delete this.pluginGroup[t],delete e._pluginInfoId}}},I=n(62);function j(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:Object(l.c)(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var P=n(134),A=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(){var e;Object(r.b)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(r.e)(Object(r.a)(e),"onMouseEnter",(function(t){var n=Object(r.a)(e),o=n.player;n.playerConfig.closeControlsBlur&&o.focus({autoHide:!1})})),Object(r.e)(Object(r.a)(e),"onMouseLeave",(function(t){Object(r.a)(e).player.focus()})),e}return Object(r.c)(n,[{key:"beforeCreate",value:function(e){e.config.mode||"mobile"!==h.a.device||(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,t=this.config,n=t.disable,r=t.height,o=t.mode;if(!n){"flex"===o&&this.player.addClass(I.a.FLEX_CONTROLS);var style={height:"".concat(r,"px")};Object.keys(style).map((function(t){e.root.style[t]=style[t]})),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(d.MINI_STATE_CHANGE,(function(t){t?l.b.addClass(e.root,"mini-controls"):l.b.removeClass(e.root,"mini-controls")}));var c=this.playerConfig.isMobileSimulateMode;"mobile"!==h.a.device&&"mobile"!==c&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&l.b.addClass(this.root,I.a.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){l.b.removeClass(this.root,I.a.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(this.root){var c=e.defaultConfig||{};if(!t.root){switch(t.position?t.position:t.config&&t.config.position?t.config.position:c.position){case w.a.CONTROLS_LEFT:t.root=this.left;break;case w.a.CONTROLS_RIGHT:t.root=this.right;break;case w.a.CONTROLS_CENTER:t.root=this.center;break;case w.a.CONTROLS:t.root=this.root;break;default:t.root=this.left}return Object(r.f)(Object(r.g)(n.prototype),"registerPlugin",this).call(this,e,t,o)}}}},{key:"destroy",value:function(){"mobile"!==h.a.device&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,t=e.mode,n=e.autoHide,o=e.initShow;if(!e.disable){var c=l.b.classNames({"xgplayer-controls":!0},{"flex-controls":"flex"===t},{"bottom-controls":"bottom"===t},Object(r.e)({},I.a.CONTROLS_AUTOHIDE,n),{"xgplayer-controls-initshow":o||!n});return'<xg-controls class="'.concat(c,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),n}(w.b),L=n(74),D=n(322),R=n(691),M=n(117),N=n(514),F=["play","pause","replay","retry"],H=0,U=0,B=null,V=function(e){Object(r.h)(n,e);var t=Object(r.d)(n);function n(e){var o;Object(r.b)(this,n);var c=l.b.deepMerge(j(),e);o=t.call(this,c),Object(r.e)(Object(r.a)(o),"canPlayFunc",(function(){if(o.config){var e=o.config,t=e.autoplay,n=e.defaultPlaybackRate;L.b.logInfo("player","canPlayFunc, startTime",o.__startTime),o._seekToStartTime(),o.playbackRate=n,(t||o._useAutoplay)&&o.mediaPlay(),o.off(d.CANPLAY,o.canPlayFunc),o.removeClass(I.a.ENTER)}})),Object(r.e)(Object(r.a)(o),"onFullscreenChange",(function(e,t){var n=function(){l.b.setTimeout(Object(r.a)(o),(function(){o.resize()}),100)},c=l.b.getFullScreenEl();o._fullActionFrom?o._fullActionFrom="":o.emit(d.USER_ACTION,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:o.currentTime,duration:o.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var h=Object(l.a)(c,o.playerId,O);if(t||c&&(c===o._fullscreenEl||h))n(),!o.config.closeFocusVideoFocus&&o.media.focus(),o.fullscreen=!0,o.changeFullStyle(o.root,c,I.a.FULLSCREEN),o.emit(d.FULLSCREEN_CHANGE,!0,o._fullScreenOffset),o.cssfullscreen&&o.exitCssFullscreen();else if(o.fullscreen){n();var f=Object(r.a)(o),v=f._fullScreenOffset;if(f.config.needFullscreenScroll?(window.scrollTo(v.left,v.top),l.b.setTimeout(Object(r.a)(o),(function(){o.fullscreen=!1,o._fullScreenOffset=null}),100)):(!o.config.closeFocusVideoFocus&&o.media.focus(),o.fullscreen=!1,o._fullScreenOffset=null),o.cssfullscreen)o.removeClass(I.a.FULLSCREEN);else{var m=o._fullscreenEl;m||!o.root.contains(e.target)&&e.target!==o.root||(m=e.target),o.recoverFullStyle(o.root,m,I.a.FULLSCREEN)}o._fullscreenEl=null,o.emit(d.FULLSCREEN_CHANGE,!1)}})),Object(r.e)(Object(r.a)(o),"_onWebkitbeginfullscreen",(function(e){o._fullscreenEl=o.media,o.onFullscreenChange(e,!0)})),Object(r.e)(Object(r.a)(o),"_onWebkitendfullscreen",(function(e){o.onFullscreenChange(e,!1)})),Object(P.a)(Object(r.a)(o),F),o.config=c,o._pluginInfoId=l.b.generateSessionId(),Object(L.a)(Object(r.a)(o));var f=o.constructor.defaultPreset;if(o.config.presets.length){var v=o.config.presets.indexOf("default");v>=0&&f&&(o.config.presets[v]=f)}else f&&o.config.presets.push(f);if(o.userTimer=null,o.waitTimer=null,o.handleSource=!0,o._state=M.a.INITIAL,o.isError=!1,o._hasStart=!1,o.isSeeking=!1,o.isCanplay=!1,o._useAutoplay=!1,o.__startTime=-1,o.rotateDeg=0,o.isActive=!1,o.fullscreen=!1,o.cssfullscreen=!1,o.isRotateFullscreen=!1,o._fullscreenEl=null,o.timeSegments=[],o._cssfullscreenEl=null,o.curDefinition=null,o._orgCss="",o._fullScreenOffset=null,o._videoHeight=0,o._videoWidth=0,o.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},o.sizeInfo={width:0,height:0,left:0,top:0},o._accPlayed={t:0,acc:0,loopAcc:0},o._offsetInfo={currentTime:-1,duration:0},o.innerContainer=null,o.controls=null,o.topBar=null,o.root=null,o.__i18n=D.a.init(o._pluginInfoId),h.a.os.isAndroid&&h.a.osVersion>0&&h.a.osVersion<6&&(o.config.autoplay=!1),o.database=new y,o.isUserActive=!1,o._onceSeekCanplay=null,o._isPauseBeforeSeek=0,o.innerStates={isActiveLocked:!1},o.instManager=B,!o._initDOM())return console.error(new Error("can't find the dom which id is ".concat(o.config.id," or this.config.el does not exist"))),Object(r.j)(o);var m=o.config,_=m.definition,k=void 0===_?{}:_;if(!m.url&&k.list&&k.list.length>0){var C=k.list.find((function(e){return e.definition&&e.definition===k.defaultDefinition}));C||(k.defaultDefinition=k.list[0].definition,C=k.list[0]),o.config.url=C.url,o.curDefinition=C}return o._bindEvents(),o._registerPresets(),o._registerPlugins(),S.onPluginsReady(Object(r.a)(o)),o.getInitDefinition(),o.setState(M.a.READY),l.b.setTimeout(Object(r.a)(o),(function(){o.emit(d.READY)}),0),o.onReady&&o.onReady(),(o.config.videoInit||o.config.autoplay)&&(!o.hasStart||o.state<M.a.ATTACHED)&&o.start(),o}return Object(r.c)(n,[{key:"_initDOM",value:function(){var e,t=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var n=this.config.el;if(!n||1!==n.nodeType)return this.emit(d.ERROR,new f.b("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1;this.root=n}var r=Object(N.b)(this.root);r&&(L.b.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),r.destroy()),this.root.setAttribute(O,this.playerId),null===(e=B)||void 0===e||e.add(this),S.init(this),this._initBaseDoms();var o=this.constructor.XgVideoProxy;if(o&&this.mediaConfig.mediaType===o.mediaType){var c=this.innerContainer||this.root;this.detachVideoEvents(this.media);var l=new o(c,this.config,this.mediaConfig);this.attachVideoEvents(l),this.media=l}if(this.media.setAttribute(O,this.playerId),this.config.controls){var v=this.config.controls.root||null,m=S.register(this,A,{root:v});this.controls=m}var y="mobile"===this.config.isMobileSimulateMode?"mobile":h.a.device;if(this.addClass("".concat(I.a.DEFAULT," ").concat(I.a.INACTIVE," xgplayer-").concat(y," ").concat(this.config.controls?"":I.a.NO_CONTROLS)),this.config.autoplay?this.addClass(I.a.ENTER):this.addClass(I.a.NO_START),this.config.fluid){var _=this.config,k=_.width,C=_.height;"number"==typeof k&&"number"==typeof C||(k=600,C=337.5);var style={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(100*C/k,"%")};Object.keys(style).forEach((function(e){t.root.style[e]=style[e]}))}else["width","height"].forEach((function(e){t.config[e]&&("number"!=typeof t.config[e]?t.root.style[e]=t.config[e]:t.root.style[e]="".concat(t.config[e],"px"))}));var w=this.root.getBoundingClientRect(),T=w.width,E=w.height,x=w.left,j=w.top;return this.sizeInfo.width=T,this.sizeInfo.height=E,this.sizeInfo.left=x,this.sizeInfo.top=j,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=l.b.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach((function(t){e.on(t,e["on"+t.charAt(0).toUpperCase()+t.slice(1)])})),_.forEach((function(t){document&&document.addEventListener(t,e.onFullscreenChange)})),h.a.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(d.LOADED_DATA,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(d.PLAY,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),_.forEach((function(t){document.removeEventListener(t,e.onFullscreenChange)})),this.playFunc&&this.off(d.PLAY,this.playFunc),this.off(d.CANPLAY,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){this.userTimer&&(l.b.clearTimeout(this,this.userTimer),this.userTimer=null)}},{key:"_startInit",value:function(e){var t=this;if(this.media&&(e&&""!==e&&("Array"!==l.b.typeOf(e)||0!==e.length)||(e="",this.emit(d.URL_NULL),L.b.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this.handleSource&&(this._detachSourceEvents(this.media),"Array"===l.b.typeOf(e)&&e.length>0?this._attachSourceEvents(this.media,e):this.media.src&&this.media.src===e?e||this.media.removeAttribute("src"):this.media.src=e),"Number"===l.b.typeOf(this.config.volume)&&(this.volume=this.config.volume);var n=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!n.contains(this.media)&&n.insertBefore(this.media,n.firstChild);var r=this.media.readyState;L.b.logInfo("_startInit readyState",r),this.config.autoplay&&(!l.b.isMSE(this.media)&&this.load(),(h.a.os.isIpad||h.a.os.isPhone)&&this.mediaPlay());var o=this.config.startTime;this.__startTime=o>0?o:-1,this.config.startTime=0,r>=2&&this.duration>0?this.canPlayFunc():this.on(d.CANPLAY,this.canPlayFunc),(!this.hasStart||this.state<M.a.ATTACHED)&&S.afterInit(this),this.hasStart=!0,this.setState(M.a.ATTACHED),l.b.setTimeout(this,(function(){t.emit(d.COMPLETE)}),0)}}},{key:"_registerPlugins",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._loadingPlugins=[];var n=this.config.ignores||[],r=this.config.plugins||[],o=this.config.i18n||[];t&&D.a.extend(o,this.__i18n);var c=n.join("||").toLowerCase().split("||"),l=this.plugins;r.forEach((function(n){try{var r=n.plugin?n.plugin.pluginName:n.pluginName;if(r&&c.indexOf(r.toLowerCase())>-1)return null;if(!t&&l[r.toLowerCase()])return;if(n.lazy&&n.loader){var o=S.lazyRegister(e,n);return void(n.forceBeforeInit&&(o.then((function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(o),1)})).catch((function(t){L.b.logError("_registerPlugins:loadingPlugin",t),e._loadingPlugins.splice(e._loadingPlugins.indexOf(o),1)})),e._loadingPlugins.push(o)))}return e.registerPlugin(n)}catch(e){L.b.logError("_registerPlugins:",e)}}))}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach((function(t){!function(e,t){var n,o,c=t.preset&&t.options?new t.preset(t.options,e.config):new t({},e.config),l=c.plugins,h=void 0===l?[]:l,f=c.ignores,d=void 0===f?[]:f,v=c.icons,m=void 0===v?{}:v,y=c.i18n,_=void 0===y?[]:y;e.config.plugins||(e.config.plugins=[]),e.config.ignores||(e.config.ignores=[]),(n=e.config.plugins).push.apply(n,Object(r.k)(h)),(o=e.config.ignores).push.apply(o,Object(r.k)(d)),Object.keys(m).map((function(t){e.config.icons[t]||(e.config.icons[t]=m[t])}));var k=e.config.i18n||[];_.push.apply(_,Object(r.k)(k)),e.config.i18n=_}(e,t)}))}},{key:"_getRootByPosition",value:function(e){var t=null;switch(e){case w.a.ROOT_RIGHT:this.rightBar||(this.rightBar=l.b.createPositionBar("xg-right-bar",this.root)),t=this.rightBar;break;case w.a.ROOT_LEFT:this.leftBar||(this.leftBar=l.b.createPositionBar("xg-left-bar",this.root)),t=this.leftBar;break;case w.a.ROOT_TOP:this.topBar||(this.topBar=l.b.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&l.b.addClass(this.topBar,I.a.TOP_BAR_AUTOHIDE)),t=this.topBar;break;default:t=this.innerContainer||this.root}return t}},{key:"registerPlugin",value:function(e,t){var n=S.formatPluginInfo(e,t),r=n.PLUFGIN,o=n.options,c=this.config.plugins;!S.checkPluginIfExits(r.pluginName,c)&&c.push(r);var l=S.getRootByConfig(r.pluginName,this.config);l.root&&(o.root=l.root),l.position&&(o.position=l.position);var h=o.position?o.position:o.config&&o.config.position||r.defaultConfig&&r.defaultConfig.position;return!o.root&&"string"==typeof h&&h.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(r,o,r.pluginName):(o.root||(o.root=this._getRootByPosition(h)),S.register(this,r,o))}},{key:"deregister",value:function(e){"string"==typeof e?S.unRegister(this,e):e instanceof T.a&&S.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.deregister(e),t&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var t;if("string"==typeof e?t=e:e instanceof T.a&&(t=e.pluginName),t)for(var i=this.config.plugins.length-1;i>-1;i--){if(this.config.plugins[i].pluginName.toLowerCase()===t.toLowerCase()){this.config.plugins.splice(i,1);break}}}},{key:"plugins",get:function(){return S.getPlugins(this)}},{key:"getPlugin",value:function(e){var t=S.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){this.root&&(l.b.hasClass(this.root,e)||l.b.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&l.b.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return l.b.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){this.root&&this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){this.root&&this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!(this.state>M.a.ATTACHING))return e||this.config.url||this.getInitDefinition(),this.hasStart=!0,this.setState(M.a.ATTACHING),this._registerPlugins(!1),S.beforeInit(this).then((function(){if(t.config){e||(e=t.url||t.config.url);var n=t._preProcessUrl(e);return t._startInit(n.url)}})).catch((function(e){throw e.fileName="player",e.lineNumber="236",L.b.logError("start:beforeInit:",e),e}))}},{key:"switchURL",value:function(e,t){var n=this,r=e;"Object"===l.b.typeOf(e)&&(r=e.url),r=this._preProcessUrl(r).url;var o=this.currentTime;this.__startTime=o;var c=this.paused&&!this.isError;return this.src=r,new Promise((function(e,t){var o=function(e){n.off("timeupdate",l),n.off("canplay",l),t(e)},l=function(){n._seekToStartTime(),c&&n.pause(),n.off("error",o),e(!0)};n.once("error",o),r?(h.a.os.isAndroid?n.once("timeupdate",l):n.once("canplay",l),n.play()):n.errorHandler("error",{code:6,message:"empty_src"})}))}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<M.a.ATTACHED)return this.removeClass(I.a.NO_START),this.addClass(I.a.ENTER),this.start(),void(this._useAutoplay=!0);this.state<M.a.RUNNING&&(this.removeClass(I.a.NO_START),!this.isCanplay&&this.addClass(I.a.ENTER));var t=Object(r.f)(Object(r.g)(n.prototype),"play",this).call(this);return void 0!==t&&t&&t.then?t.then((function(){e.removeClass(I.a.NOT_ALLOW_AUTOPLAY),e.addClass(I.a.PLAYING),e.state<M.a.RUNNING&&(L.b.logInfo(">>>>playPromise.then"),e.setState(M.a.RUNNING),e.emit(d.AUTOPLAY_STARTED))})).catch((function(t){if(L.b.logWarn(">>>>playPromise.catch",t.name),e.media&&e.media.error)return e.onError(),void e.removeClass(I.a.ENTER);"NotAllowedError"===t.name&&(e._errorTimer=l.b.setTimeout(e,(function(){e._errorTimer=null,e.emit(d.AUTOPLAY_PREVENTED),e.addClass(I.a.NOT_ALLOW_AUTOPLAY),e.removeClass(I.a.ENTER),e.pause(),e.setState(M.a.NOTALLOW)}),0))})):(L.b.logWarn("video.play not return promise"),this.state<M.a.RUNNING&&(this.setState(M.a.RUNNING),this.removeClass(I.a.NOT_ALLOW_AUTOPLAY),this.removeClass(I.a.NO_START),this.removeClass(I.a.ENTER),this.addClass(I.a.PLAYING),this.emit(d.AUTOPLAY_STARTED))),t}},{key:"mediaPause",value:function(){Object(r.f)(Object(r.g)(n.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){Object(r.f)(Object(r.g)(n.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(I.a.PAUSED),Object(P.f)(this,"play",(function(){return e.mediaPlay()}))}},{key:"pause",value:function(){var e=this;Object(P.f)(this,"pause",(function(){Object(r.f)(Object(r.g)(n.prototype),"pause",e).call(e)}))}},{key:"seek",value:function(time,e){var t=this;if(this.media&&!Number.isNaN(Number(time))&&this.hasStart){var n=this.config,r=n.isSeekedPlay,o=n.seekedStatus,c=e||(r?"play":o);time=time<0?0:time>this.duration?parseInt(this.duration,10):time,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(d.SEEKED,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(t.removeClass(I.a.ENTER),t.isSeeking=!1,c){case"play":t.play();break;case"pause":t.pause();break;default:t._isPauseBeforeSeek>1||t.paused?t.pause():t.play()}t._isPauseBeforeSeek=0,t._onceSeekCanplay=null},this.once(d.SEEKED,this._onceSeekCanplay),this.state<M.a.RUNNING?(this.removeClass(I.a.NO_START),this.currentTime=time,this.play()):this.currentTime=time}}},{key:"getInitDefinition",value:function(){var e=this,t=this.config,n=t.definition;!t.url&&n&&n.list&&n.list.length>0&&n.defaultDefinition&&n.list.map((function(t){t.definition===n.defaultDefinition&&(e.config.url=t.url,e.curDefinition=t)}))}},{key:"changeDefinition",value:function(e,t){var n=this,o=this.config.definition;if(Array.isArray(null==o?void 0:o.list)&&o.list.forEach((function(t){(null==e?void 0:e.definition)===t.definition&&(n.curDefinition=t)})),null!=e&&e.bitrate&&"number"!=typeof e.bitrate&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(d.DEFINITION_CHANGE,{from:t,to:e}),this.hasStart){var c=this.switchURL(e.url,Object(r.i)({seamless:!1!==o.seamless&&"undefined"!=typeof MediaSource&&"function"==typeof MediaSource.isTypeSupported},e));c&&c.then?c.then((function(){n.emit(d.AFTER_DEFINITION_CHANGE,{from:t,to:e})})):this.emit(d.AFTER_DEFINITION_CHANGE,{from:t,to:e})}else this.config.url=e.url}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(d.LOADED_DATA,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,t=[I.a.NOT_ALLOW_AUTOPLAY,I.a.PLAYING,I.a.NO_START,I.a.PAUSED,I.a.REPLAY,I.a.ENTER,I.a.ENDED,I.a.ERROR,I.a.LOADING];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,t.forEach((function(t){e.removeClass(t)})),this.addClass(I.a.NO_START),this.emit(d.RESET)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(this.resetState(),this.plugins&&(t.map((function(t){e.deregister(t)})),n)){var r=j();Object.keys(this.config).keys((function(t){"undefined"===e.config[t]||"plugins"!==t&&"presets"!==t&&"el"!==t&&"id"!==t||(e.config[t]=r[t])}))}}},{key:"destroy",value:function(){var e,t=this,o=this.innerContainer,c=this.root,h=this.media;if(c&&h){if(this.hasStart=!1,this._useAutoplay=!1,c.removeAttribute(O),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),l.b.clearAllTimers(this),this.emit(d.DESTROY),null===(e=B)||void 0===e||e.remove(this),S.destroy(this),Object(P.b)(this),Object(r.f)(Object(r.g)(n.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),o)for(var f=o.children,i=0;i<f.length;i++)o.removeChild(f[i]);!o&&h instanceof window.Node&&c.contains(h)&&c.removeChild(h),["topBar","leftBar","rightBar","innerContainer"].map((function(e){t[e]&&c.removeChild(t[e]),t[e]=null}));var v=c.className.split(" ");v.length>0?c.className=v.filter((function(e){return e.indexOf("xgplayer")<0})).join(" "):c.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach((function(e){t[e]=!1}))}}},{key:"replay",value:function(){var e=this;this.removeClass(I.a.ENDED),this.currentTime=0,this.isSeeking=!1,Object(P.f)(this,"replay",(function(){e.once(d.SEEKED,(function(){var t=e.mediaPlay();t&&t.catch&&t.catch((function(e){console.log(e)}))})),e.emit(d.REPLAY),e.onPlay()}))}},{key:"retry",value:function(){var e=this;this.removeClass(I.a.ERROR),this.addClass(I.a.LOADING),Object(P.f)(this,"retry",(function(){var t=e.currentTime,n=e.config.url,r=l.b.isMSE(e.media)?{url:n}:e._preProcessUrl(n);e.src=r.url,!e.config.isLive&&(e.currentTime=t),e.once(d.CANPLAY,(function(){e.mediaPlay()}))}))}},{key:"changeFullStyle",value:function(e,t,n,r){e&&(r||(r=I.a.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=l.b.filterStyleFromText(e)),l.b.addClass(e,n),t&&t!==e&&!this._orgPCss&&(this._orgPCss=l.b.filterStyleFromText(t),l.b.addClass(t,r),t.setAttribute(O,this.playerId)))}},{key:"recoverFullStyle",value:function(e,t,n,r){r||(r=I.a.PARENT_FULLSCREEN),this._orgCss&&(l.b.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),l.b.removeClass(e,n),t&&t!==e&&this._orgPCss&&(l.b.setStyleFromCsstext(t,this._orgPCss),this._orgPCss="",l.b.removeClass(t,r),t.removeAttribute(O))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget,t=this.root,n=this.media;if("video"!==e&&"media"!==e||(e=this[e]),e||(e=t),this._fullScreenOffset={top:l.b.scrollTop(),left:l.b.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get",l.b.getFullScreenEl()===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var i=0;i<k.length;i++){var r=k[i];if(e[r]){var o="webkitRequestFullscreen"===r?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[r]();return o&&o.then?o:Promise.resolve()}}return n.fullscreenEnabled||n.webkitSupportsFullscreen?(n.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch(e){return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),this._fullscreenEl||l.b.getFullScreenEl()){this.root;var t=this.media;this._fullActionFrom="exit";try{for(var i=0;i<C.length;i++){var n=C[i];if(document[n]){var r=document[n]();return r&&r.then?r:Promise.resolve()}}return t&&t.webkitSupportsFullscreen?(t.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch(e){return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var t=e?"".concat(I.a.INNER_FULLSCREEN," ").concat(I.a.CSS_FULLSCREEN):I.a.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,t);var n=this.config.fullscreen,r=void 0===n?{}:n;(!0===r.useCssFullscreen||"function"==typeof r.useCssFullscreen&&r.useCssFullscreen())&&(this.fullscreen=!0,this.emit(d.FULLSCREEN_CHANGE,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(d.CSS_FULLSCREEN_CHANGE,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(I.a.INNER_FULLSCREEN," ").concat(I.a.CSS_FULLSCREEN):I.a.CSS_FULLSCREEN;if(this.fullscreen){var t=this.config.fullscreen,n=void 0===t?{}:t;!0===n.useCssFullscreen||"function"==typeof n.useCssFullscreen&&n.useCssFullscreen()?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(d.FULLSCREEN_CHANGE,!1)):this.removeClass(e)}else this.recoverFullStyle(this.root,this._cssfullscreenEl,e);this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(d.CSS_FULLSCREEN_CHANGE,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var t=e?"".concat(I.a.INNER_FULLSCREEN," ").concat(I.a.ROTATE_FULLSCREEN):I.a.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,t,I.a.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(d.FULLSCREEN_CHANGE,!0)}},{key:"exitRotateFullscreen",value:function(e){var t=this._fullscreenEl!==this.root?"".concat(I.a.INNER_FULLSCREEN," ").concat(I.a.ROTATE_FULLSCREEN):I.a.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,t,I.a.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(d.FULLSCREEN_CHANGE,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){90===window.orientation||-90===window.orientation?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};this.isActive?this.onFocus(data):this.emit(d.PLAYER_FOCUS,Object(r.i)({paused:this.paused,ended:this.ended},data))}},{key:"blur",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};this.isActive?(this._clearUserTimer(),this.emit(d.PLAYER_BLUR,Object(r.i)({paused:this.paused,ended:this.ended},data))):this.onBlur(data)}},{key:"onFocus",value:function(){var e=this,data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!0,delay:3e3},t=this.innerStates;if(this.isActive=!0,this.removeClass(I.a.INACTIVE),this._clearUserTimer(),void 0!==data.isLock&&(t.isActiveLocked=data.isLock),!1===data.autoHide||!0===data.isLock||t.isActiveLocked)this._clearUserTimer();else{var time=data&&data.delay?data.delay:this.config.inactive;this.userTimer=l.b.setTimeout(this,(function(){e.userTimer=null,e.blur()}),time)}}},{key:"onBlur",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ignorePaused,t=void 0!==e&&e;if(!this.innerStates.isActiveLocked){var n=this.config.closePauseVideoFocus;this.isActive=!1,(t||n||!this.paused&&!this.ended)&&this.addClass(I.a.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(I.a.ENTER),this.removeClass(I.a.ERROR),this.removeClass(I.a.LOADING),this.isCanplay=!0,this.waitTimer&&l.b.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var e=this;this.isError=!1,this.isSeeking=!1,this.__startTime>0&&(this.duration>0?this._seekToStartTime():this.once(d.DURATION_CHANGE,(function(){e._seekToStartTime()})))}},{key:"onLoadstart",value:function(){this.removeClass(I.a.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===M.a.ENDED&&this.setState(M.a.RUNNING),this.removeClass(I.a.PAUSED),this.ended&&this.removeClass(I.a.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(I.a.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(I.a.ENDED),this.setState(M.a.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(I.a.NOT_ALLOW_AUTOPLAY),this.removeClass(I.a.NO_START),this.removeClass(I.a.ENTER),this.removeClass(I.a.LOADING),this.addClass(I.a.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(I.a.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&l.b.clearTimeout(this,this.waitTimer),this.removeClass(I.a.LOADING),this.removeClass(I.a.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&l.b.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=l.b.setTimeout(this,(function(){e.addClass(I.a.LOADING),e.emit(d.LOADING),l.b.clearTimeout(e,e.waitTimer),e.waitTimer=null}),this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1,[I.a.NO_START,I.a.PAUSED,I.a.ENDED,I.a.ERROR,I.a.REPLAY,I.a.LOADING].forEach((function(t){e.removeClass(t)})),this._accPlayed.t||this.paused||this.ended||(this._accPlayed.t=(new Date).getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(I.a.LOADING))&&this.media.readyState>2&&(this.removeClass(I.a.LOADING),l.b.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state===M.a.NOTALLOW&&this.duration&&(this.setState(M.a.RUNNING),this.emit(d.AUTOPLAY_STARTED)),this._accPlayed.t||this.paused||this.ended||(this._accPlayed.t=(new Date).getTime())}},{key:"onVolumechange",value:function(){"Number"===l.b.typeOf(this.config.volume)&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,t,n){if(this.media&&t&&e){var o="String"===l.b.typeOf(e)?e:e.type||"";n.props&&"Array"!==l.b.typeOf(n.props)&&(n.props=[n.props]),this.emit(d.USER_ACTION,Object(r.i)({eventType:o,action:t,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},n))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var t=(new Date).getTime()-this._accPlayed.t;this._accPlayed.acc+=t,this._accPlayed.t=0,("ended"===e||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(time){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{startDiff:0,endDiff:0})||{},t=e.startDiff,n=void 0===t?0:t,r=e.endDiff,o=void 0===r?0:r,c=this.media.buffered;if(!c||0===c.length||!this.duration)return!0;for(var l=time||this.media.currentTime||.2,h=c.length,i=0;i<h;i++)if(c.start(i)+n<=l&&c.end(i)-o>l)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,t=e.vy,n=e.vx,r=e.h,o=e.w,c=this.videoPos.rotate;if(!(c<0&&r<0&&o<0)){var h=this.videoPos._pi;if(!h&&this.media.videoHeight&&(h=this.media.videoWidth/this.media.videoHeight*100),h){this.videoPos.pi=h;var f={rotate:c=c<0?0:c},d=0,v=0,m=1,y=Math.abs(c/90),_=this.root,k=this.innerContainer,C=_.offsetWidth,O=k?k.offsetHeight:_.offsetHeight,w=O,T=C;if(y%2==0)m=r>0?100/r:o>0?100/o:1,f.scale=m,d=t>0?(100-r)/2-t:0,f.y=2===y?0-d:d,v=n>0?(100-o)/2-n:0,f.x=2===y?0-v:v,this.media.style.width="".concat(T,"px"),this.media.style.height="".concat(w,"px");else if(y%2==1){w=C;var E=O-C;v=-E/2/(T=O)*100,f.x=3===y?v+t/2:v-t/2,d=E/2/w*100,f.y=3===y?d+n/2:d-n/2,f.scale=m,this.media.style.width="".concat(T,"px"),this.media.style.height="".concat(w,"px")}var x=l.b.getTransformStyle(f,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=x,this.media.style.webkitTransform=x}}}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{h:0,y:0,x:0,w:0};if(this.media&&e&&e.h){var t=this.videoPos;t.h=100*e.h||0,t.w=100*e.w||0,t.vx=100*e.x||0,t.vy=100*e.y||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map((function(n){if("plugins"!==n){t.config[n]=e[n];var r=t.plugins[n.toLowerCase()];r&&"Function"===l.b.typeOf(r.setConfig)&&r.setConfig(e[n])}}))}},{key:"playNext",value:function(e){var t=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,Object(P.f)(this,"playnext",(function(){t.start(),t.emit(d.PLAYNEXT,e)}))}},{key:"resize",value:function(){var e=this;if(this.media){var t=this.root.getBoundingClientRect();this.sizeInfo.width=t.width,this.sizeInfo.height=t.height,this.sizeInfo.left=t.left,this.sizeInfo.top=t.top;var n=this.media,r=n.videoWidth,o=n.videoHeight,c=this.config,l=c.fitVideoSize,h=c.videoFillMode;if("fill"!==h&&"cover"!==h&&"contain"!==h||this.setAttribute("data-xgfill",h),o&&r){this._videoHeight=o,this._videoWidth=r;var f=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,v=t.width,m=t.height-f,y=parseInt(r/o*1e3,10),_=parseInt(v/m*1e3,10),k=v,C=m,O={};"auto"===l&&_>y||"fixWidth"===l?(C=v/y*1e3,this.config.fluid?O.paddingTop="".concat(100*C/k,"%"):O.height="".concat(C+f,"px")):("auto"===l&&_<y||"fixHeight"===l)&&(k=y*m/1e3,O.width="".concat(k,"px")),this.fullscreen||this.cssfullscreen||Object.keys(O).forEach((function(t){e.root.style[t]=O[t]})),("fillHeight"===h&&_<y||"fillWidth"===h&&_>y)&&this.setAttribute("data-xgfill","cover");var data={videoScale:y,vWidth:k,vHeight:C,cWidth:k,cHeight:C+f};this.resizePosition(),this.emit(d.VIDEO_RESIZE,data)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.media.updateObjectPosition?this.media.updateObjectPosition(e,t):this.media.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%")}},{key:"setState",value:function(e){L.b.logInfo("setState","state from:".concat(M.b[this.state]," to:").concat(M.b[e])),this._state=e}},{key:"_preProcessUrl",value:function(e,t){var n=this.config,r=n.preProcessUrl,o=n.preProcessUrlOptions,c=Object.assign({},o,t);return l.b.isBlob(e)||"function"!=typeof r?{url:e}:r(e,c)}},{key:"_seekToStartTime",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime>this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"==typeof e&&(this._hasStart=e,!1===e&&this.setState(M.a.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===M.a.RUNNING||this._state===M.a.ENDED},set:function(e){e?this.setState(M.a.RUNNING):this._state>=M.a.RUNNING&&this.setState(M.a.ATTACHED)}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(e){var t=this,n=this.config.definition,r=null,o=null;n.list=e,this.emit("resourceReady",e),e.forEach((function(e){var c;(null===(c=t.curDefinition)||void 0===c?void 0:c.definition)===e.definition&&(r=e),n.defaultDefinition===e.definition&&(o=e)})),!o&&e.length>0&&(o=e[0]),r?this.changeDefinition(r):o&&this.changeDefinition(o)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var t=this.media.getVideoPlaybackQuality();return e.dropped=t.droppedVideoFrames||0,e.total=t.totalVideoFrames||0,e.corrupted=t.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){0!==D.a.langKeys.filter((function(t){return t===e})).length||"zh"===e?(this.config.lang=e,S.setLang(e,this)):console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(D.a.langKeys.join(),"] "))}},{key:"i18n",get:function(){var e=this.config.lang;return"zh"===e&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return R.a}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return Object(r.f)(Object(r.g)(n.prototype),"readyState",this)}},{key:"error",get:function(){var e=Object(r.f)(Object(r.g)(n.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return Object(r.f)(Object(r.g)(n.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return!(null===this._fullScreenOffset)}},{key:"cumulateTime",get:function(){var e=this._accPlayed,t=e.acc,n=e.t;return n?(new Date).getTime()-n+t:t}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){(e=l.b.convertDeg(e))%90==0&&e!==this.videoPos.rotate&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return U},set:function(e){U=e}},{key:"realTimeSpeed",get:function(){return H},set:function(e){H=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,t){return P.c.call.apply(P.c,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){return P.g.call.apply(P.g,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){return P.d.call.apply(P.d,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),c=3;c<r;c++)o[c-3]=arguments[c];return P.h.call.apply(P.h,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),c=3;c<r;c++)o[c-3]=arguments[c];return P.e.call.apply(P.e,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,t){var n;"boolean"==typeof t&&t!==this.muted&&(this.addInnerOP("volumechange"),l.b.typeOf(t)===Boolean&&(this.muted=t)),null===(n=B)||void 0===n||n.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return L.b.config.debug},set:function(e){L.b.config.debug=e}},{key:"instManager",get:function(){return B},set:function(e){B=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return null===(e=B)||void 0===e?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,t){var n;null===(n=B)||void 0===n||n.setActive(e,t)}},{key:"isHevcSupported",value:function(){return h.a.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return h.a.probeConfigSupported(e)}},{key:"install",value:function(e,t){n.plugins||(n.plugins={}),n.plugins[e]||(n.plugins[e]=t)}},{key:"use",value:function(e,t){n.plugins||(n.plugins={}),n.plugins[e]=t}}]),n}(m);Object(r.e)(V,"defaultPreset",null),Object(r.e)(V,"XgVideoProxy",null),V.instManager=N.a.getInstance()},811:function(e,t,n){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist-module/",t(t.s=3)}([function(e,t,n){var a=n(4)(n(1),n(5),null,null,null);e.exports=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),i=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};t.default={props:{search:{type:String,required:!1,default:""},emojiTable:{type:Object,required:!1,default:function(){return r.default}}},data:function(){return{display:{x:0,y:0,visible:!1}}},computed:{emojis:function(){if(this.search){var e={};for(var t in this.emojiTable){for(var n in e[t]={},this.emojiTable[t])new RegExp(".*"+i(this.search)+".*").test(n)&&(e[t][n]=this.emojiTable[t][n]);0===Object.keys(e[t]).length&&delete e[t]}return e}return this.emojiTable}},methods:{insert:function(e){this.$emit("emoji",e)},toggle:function(e){this.display.visible=!this.display.visible,this.display.x=e.clientX,this.display.y=e.clientY},hide:function(){this.display.visible=!1},escape:function(e){!0===this.display.visible&&27===e.keyCode&&(this.display.visible=!1)}},directives:{"click-outside":{bind:function(e,t,n){if("function"==typeof t.value){var a=t.modifiers.bubble,r=function(n){(a||!e.contains(n.target)&&e!==n.target)&&t.value(n)};e.__vueClickOutside__=r,document.addEventListener("click",r)}},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},mounted:function(){document.addEventListener("keyup",this.escape)},destroyed:function(){document.removeEventListener("keyup",this.escape)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Frequently used":{thumbs_up:"👍","-1":"👎",sob:"😭",confused:"😕",neutral_face:"😐",blush:"😊",heart_eyes:"😍"},People:{smile:"😄",smiley:"😃",grinning:"😀",blush:"😊",wink:"😉",heart_eyes:"😍",kissing_heart:"😘",kissing_closed_eyes:"😚",kissing:"😗",kissing_smiling_eyes:"😙",stuck_out_tongue_winking_eye:"😜",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue:"😛",flushed:"😳",grin:"😁",pensive:"😔",relieved:"😌",unamused:"😒",disappointed:"😞",persevere:"😣",cry:"😢",joy:"😂",sob:"😭",sleepy:"😪",disappointed_relieved:"😥",cold_sweat:"😰",sweat_smile:"😅",sweat:"😓",weary:"😩",tired_face:"😫",fearful:"😨",scream:"😱",angry:"😠",rage:"😡",triumph:"😤",confounded:"😖",laughing:"😆",yum:"😋",mask:"😷",sunglasses:"😎",sleeping:"😴",dizzy_face:"😵",astonished:"😲",worried:"😟",frowning:"😦",anguished:"😧",imp:"👿",open_mouth:"😮",grimacing:"😬",neutral_face:"😐",confused:"😕",hushed:"😯",smirk:"😏",expressionless:"😑",man_with_gua_pi_mao:"👲",man_with_turban:"👳",cop:"👮",construction_worker:"👷",guardsman:"💂",baby:"👶",boy:"👦",girl:"👧",man:"👨",woman:"👩",older_man:"👴",older_woman:"👵",person_with_blond_hair:"👱",angel:"👼",princess:"👸",smiley_cat:"😺",smile_cat:"😸",heart_eyes_cat:"😻",kissing_cat:"😽",smirk_cat:"😼",scream_cat:"🙀",crying_cat_face:"😿",joy_cat:"😹",pouting_cat:"😾",japanese_ogre:"👹",japanese_goblin:"👺",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",skull:"💀",alien:"👽",hankey:"💩",fire:"🔥",sparkles:"✨",star2:"🌟",dizzy:"💫",boom:"💥",anger:"💢",sweat_drops:"💦",droplet:"💧",zzz:"💤",dash:"💨",ear:"👂",eyes:"👀",nose:"👃",tongue:"👅",lips:"👄",thumbs_up:"👍","-1":"👎",ok_hand:"👌",facepunch:"👊",fist:"✊",wave:"👋",hand:"✋",open_hands:"👐",point_up_2:"👆",point_down:"👇",point_right:"👉",point_left:"👈",raised_hands:"🙌",pray:"🙏",clap:"👏",muscle:"💪",walking:"🚶",runner:"🏃",dancer:"💃",couple:"👫",family:"👪",couplekiss:"💏",couple_with_heart:"💑",dancers:"👯",ok_woman:"🙆",no_good:"🙅",information_desk_person:"💁",raising_hand:"🙋",massage:"💆",haircut:"💇",nail_care:"💅",bride_with_veil:"👰",person_with_pouting_face:"🙎",person_frowning:"🙍",bow:"🙇",tophat:"🎩",crown:"👑",womans_hat:"👒",athletic_shoe:"👟",mans_shoe:"👞",sandal:"👡",high_heel:"👠",boot:"👢",shirt:"👕",necktie:"👔",womans_clothes:"👚",dress:"👗",running_shirt_with_sash:"🎽",jeans:"👖",kimono:"👘",bikini:"👙",briefcase:"💼",handbag:"👜",pouch:"👝",purse:"👛",eyeglasses:"👓",ribbon:"🎀",closed_umbrella:"🌂",lipstick:"💄",yellow_heart:"💛",blue_heart:"💙",purple_heart:"💜",green_heart:"💚",broken_heart:"💔",heartpulse:"💗",heartbeat:"💓",two_hearts:"💕",sparkling_heart:"💖",revolving_hearts:"💞",cupid:"💘",love_letter:"💌",kiss:"💋",ring:"💍",gem:"💎",bust_in_silhouette:"👤",speech_balloon:"💬",footprints:"👣"},Nature:{dog:"🐶",wolf:"🐺",cat:"🐱",mouse:"🐭",hamster:"🐹",rabbit:"🐰",frog:"🐸",tiger:"🐯",koala:"🐨",bear:"🐻",pig:"🐷",pig_nose:"🐽",cow:"🐮",boar:"🐗",monkey_face:"🐵",monkey:"🐒",horse:"🐴",sheep:"🐑",elephant:"🐘",panda_face:"🐼",penguin:"🐧",bird:"🐦",baby_chick:"🐤",hatched_chick:"🐥",hatching_chick:"🐣",chicken:"🐔",snake:"🐍",turtle:"🐢",bug:"🐛",bee:"🐝",ant:"🐜",beetle:"🐞",snail:"🐌",octopus:"🐙",shell:"🐚",tropical_fish:"🐠",fish:"🐟",dolphin:"🐬",whale:"🐳",racehorse:"🐎",dragon_face:"🐲",blowfish:"🐡",camel:"🐫",poodle:"🐩",feet:"🐾",bouquet:"💐",cherry_blossom:"🌸",tulip:"🌷",four_leaf_clover:"🍀",rose:"🌹",sunflower:"🌻",hibiscus:"🌺",maple_leaf:"🍁",leaves:"🍃",fallen_leaf:"🍂",herb:"🌿",ear_of_rice:"🌾",mushroom:"🍄",cactus:"🌵",palm_tree:"🌴",chestnut:"🌰",seedling:"🌱",blossom:"🌼",new_moon:"🌑",first_quarter_moon:"🌓",moon:"🌔",full_moon:"🌕",first_quarter_moon_with_face:"🌛",crescent_moon:"🌙",earth_asia:"🌏",volcano:"🌋",milky_way:"🌌",stars:"🌠",partly_sunny:"⛅",snowman:"⛄",cyclone:"🌀",foggy:"🌁",rainbow:"🌈",ocean:"🌊"},Objects:{bamboo:"🎍",gift_heart:"💝",dolls:"🎎",school_satchel:"🎒",mortar_board:"🎓",flags:"🎏",fireworks:"🎆",sparkler:"🎇",wind_chime:"🎐",rice_scene:"🎑",jack_o_lantern:"🎃",ghost:"👻",santa:"🎅",christmas_tree:"🎄",gift:"🎁",tanabata_tree:"🎋",tada:"🎉",confetti_ball:"🎊",balloon:"🎈",crossed_flags:"🎌",crystal_ball:"🔮",movie_camera:"🎥",camera:"📷",video_camera:"📹",vhs:"📼",cd:"💿",dvd:"📀",minidisc:"💽",floppy_disk:"💾",computer:"💻",iphone:"📱",telephone_receiver:"📞",pager:"📟",fax:"📠",satellite:"📡",tv:"📺",radio:"📻",loud_sound:"🔊",bell:"🔔",loudspeaker:"📢",mega:"📣",hourglass_flowing_sand:"⏳",hourglass:"⌛",alarm_clock:"⏰",watch:"⌚",unlock:"🔓",lock:"🔒",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",mag_right:"🔎",bulb:"💡",flashlight:"🔦",electric_plug:"🔌",battery:"🔋",mag:"🔍",bath:"🛀",toilet:"🚽",wrench:"🔧",nut_and_bolt:"🔩",hammer:"🔨",door:"🚪",smoking:"🚬",bomb:"💣",gun:"🔫",hocho:"🔪",pill:"💊",syringe:"💉",moneybag:"💰",yen:"💴",dollar:"💵",credit_card:"💳",money_with_wings:"💸",calling:"📲","e-mail":"📧",inbox_tray:"📥",outbox_tray:"📤",envelope_with_arrow:"📩",incoming_envelope:"📨",mailbox:"📫",mailbox_closed:"📪",postbox:"📮",package:"📦",memo:"📝",page_facing_up:"📄",page_with_curl:"📃",bookmark_tabs:"📑",bar_chart:"📊",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",scroll:"📜",clipboard:"📋",date:"📅",calendar:"📆",card_index:"📇",file_folder:"📁",open_file_folder:"📂",pushpin:"📌",paperclip:"📎",straight_ruler:"📏",triangular_ruler:"📐",closed_book:"📕",green_book:"📗",blue_book:"📘",orange_book:"📙",notebook:"📓",notebook_with_decorative_cover:"📔",ledger:"📒",books:"📚",book:"📖",bookmark:"🔖",name_badge:"📛",newspaper:"📰",art:"🎨",clapper:"🎬",microphone:"🎤",headphones:"🎧",musical_score:"🎼",musical_note:"🎵",notes:"🎶",musical_keyboard:"🎹",violin:"🎻",trumpet:"🎺",saxophone:"🎷",guitar:"🎸",space_invader:"👾",video_game:"🎮",black_joker:"🃏",flower_playing_cards:"🎴",mahjong:"🀄",game_die:"🎲",dart:"🎯",football:"🏈",basketball:"🏀",soccer:"⚽",baseball:"⚾",tennis:"🎾","8ball":"🎱",bowling:"🎳",golf:"⛳",checkered_flag:"🏁",trophy:"🏆",ski:"🎿",snowboarder:"🏂",swimmer:"🏊",surfer:"🏄",fishing_pole_and_fish:"🎣",tea:"🍵",sake:"🍶",beer:"🍺",beers:"🍻",cocktail:"🍸",tropical_drink:"🍹",wine_glass:"🍷",fork_and_knife:"🍴",pizza:"🍕",hamburger:"🍔",fries:"🍟",poultry_leg:"🍗",meat_on_bone:"🍖",spaghetti:"🍝",curry:"🍛",fried_shrimp:"🍤",bento:"🍱",sushi:"🍣",fish_cake:"🍥",rice_ball:"🍙",rice_cracker:"🍘",rice:"🍚",ramen:"🍜",stew:"🍲",oden:"🍢",dango:"🍡",egg:"🍳",bread:"🍞",doughnut:"🍩",custard:"🍮",icecream:"🍦",ice_cream:"🍨",shaved_ice:"🍧",birthday:"🎂",cake:"🍰",cookie:"🍪",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",honey_pot:"🍯",apple:"🍎",green_apple:"🍏",tangerine:"🍊",cherries:"🍒",grapes:"🍇",watermelon:"🍉",strawberry:"🍓",peach:"🍑",melon:"🍈",banana:"🍌",pineapple:"🍍",sweet_potato:"🍠",eggplant:"🍆",tomato:"🍅",corn:"🌽"},Places:{house:"🏠",house_with_garden:"🏡",school:"🏫",office:"🏢",post_office:"🏣",hospital:"🏥",bank:"🏦",convenience_store:"🏪",love_hotel:"🏩",hotel:"🏨",wedding:"💒",church:"⛪",department_store:"🏬",city_sunrise:"🌇",city_sunset:"🌆",japanese_castle:"🏯",european_castle:"🏰",tent:"⛺",factory:"🏭",tokyo_tower:"🗼",japan:"🗾",mount_fuji:"🗻",sunrise_over_mountains:"🌄",sunrise:"🌅",night_with_stars:"🌃",statue_of_liberty:"🗽",bridge_at_night:"🌉",carousel_horse:"🎠",ferris_wheel:"🎡",fountain:"⛲",roller_coaster:"🎢",ship:"🚢",boat:"⛵",speedboat:"🚤",rocket:"🚀",seat:"💺",station:"🚉",bullettrain_side:"🚄",bullettrain_front:"🚅",metro:"🚇",railway_car:"🚃",bus:"🚌",blue_car:"🚙",car:"🚗",taxi:"🚕",truck:"🚚",rotating_light:"🚨",police_car:"🚓",fire_engine:"🚒",ambulance:"🚑",bike:"🚲",barber:"💈",busstop:"🚏",ticket:"🎫",traffic_light:"🚥",construction:"🚧",beginner:"🔰",fuelpump:"⛽",izakaya_lantern:"🏮",slot_machine:"🎰",moyai:"🗿",circus_tent:"🎪",performing_arts:"🎭",round_pushpin:"📍",triangular_flag_on_post:"🚩"},Symbols:{keycap_ten:"🔟",1234:"🔢",symbols:"🔣",capital_abcd:"🔠",abcd:"🔡",abc:"🔤",arrow_up_small:"🔼",arrow_down_small:"🔽",rewind:"⏪",fast_forward:"⏩",arrow_double_up:"⏫",arrow_double_down:"⏬",ok:"🆗",new:"🆕",up:"🆙",cool:"🆒",free:"🆓",ng:"🆖",signal_strength:"📶",cinema:"🎦",koko:"🈁",u6307:"🈯",u7a7a:"🈳",u6e80:"🈵",u5408:"🈴",u7981:"🈲",ideograph_advantage:"🉐",u5272:"🈹",u55b6:"🈺",u6709:"🈶",u7121:"🈚",restroom:"🚻",mens:"🚹",womens:"🚺",baby_symbol:"🚼",wc:"🚾",no_smoking:"🚭",u7533:"🈸",accept:"🉑",cl:"🆑",sos:"🆘",id:"🆔",no_entry_sign:"🚫",underage:"🔞",no_entry:"⛔",negative_squared_cross_mark:"❎",white_check_mark:"✅",heart_decoration:"💟",vs:"🆚",vibration_mode:"📳",mobile_phone_off:"📴",ab:"🆎",diamond_shape_with_a_dot_inside:"💠",ophiuchus:"⛎",six_pointed_star:"🔯",atm:"🏧",chart:"💹",heavy_dollar_sign:"💲",currency_exchange:"💱",x:"❌",exclamation:"❗",question:"❓",grey_exclamation:"❕",grey_question:"❔",o:"⭕",top:"🔝",end:"🔚",back:"🔙",on:"🔛",soon:"🔜",arrows_clockwise:"🔃",clock12:"🕛",clock1:"🕐",clock2:"🕑",clock3:"🕒",clock4:"🕓",clock5:"🕔",clock6:"🕕",clock7:"🕖",clock8:"🕗",clock9:"🕘",clock10:"🕙",clock11:"🕚",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",white_flower:"💮",100:"💯",radio_button:"🔘",link:"🔗",curly_loop:"➰",trident:"🔱",small_red_triangle:"🔺",black_square_button:"🔲",white_square_button:"🔳",red_circle:"🔴",large_blue_circle:"🔵",small_red_triangle_down:"🔻",white_large_square:"⬜",black_large_square:"⬛",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPickerPlugin=t.EmojiPicker=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i={install:function(e){e.component("emoji-picker",r.default)}};"undefined"!=typeof window&&(window.EmojiPicker=i),t.EmojiPicker=r.default,t.EmojiPickerPlugin=i,t.default=r.default},function(e,t){e.exports=function(e,t,n,a,r){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var c,l="function"==typeof o?o.options:o;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),a&&(l._scopeId=a),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var h=l.functional,u=h?l.render:l.beforeCreate;h?l.render=function(e,t){return c.call(t),u(e,t)}:l.beforeCreate=u?[].concat(u,c):[c]}return{esModule:i,exports:o,options:l}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("emoji-invoker",null,{events:{click:function(t){return e.toggle(t)}}}),e._v(" "),e.display.visible?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}]},[e._t("emoji-picker",null,{emojis:e.emojis,insert:e.insert,display:e.display})],2):e._e()],2)},staticRenderFns:[]}}])},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=/(Android)\s([\d.]+)/,o=/(Version)\/([\d.]+)/,c=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],l={get device(){return l.os.isPc?"pc":"mobile"},get browser(){if("undefined"==typeof navigator)return"";var e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter((function(n){return t[n].test(e)})))[0]},get os(){if("undefined"==typeof navigator)return{};var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),c=/(?:iPad|PlayBook)/.test(e)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,l=c||r&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),h=/(?:iPhone)/.test(e)&&!l;return{isTablet:l,isPhone:h,isIpad:c,isIos:h||c,isAndroid:r,isPc:!(h||r||n||l),isSymbian:n,isWindowsPhone:t,isFireFox:o}},get osVersion(){if("undefined"==typeof navigator)return 0;var e=navigator.userAgent,t="",n=(t=/(?:iPhone)|(?:iPad|PlayBook)/.test(e)?o:r)?t.exec(e):[];if(n&&n.length>=3){var c=n[2].split(".");return c.length>0?parseInt(c[0]):0}return 0},get isWeixin(){if("undefined"==typeof navigator)return!1;return!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;if(this.supportResult)return this.supportResult;var a=document.createElement("video");return"function"==typeof a.canPlayType&&c.map((function(t){"probably"===a.canPlayType('video/mp4; codecs="'.concat(t,'"'))&&(e.isSupport=!0,e.mime+="||".concat(t))})),this.supportResult=e,a=null,e},isMSESupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if("undefined"==typeof MediaSource||!MediaSource)return!1;try{return MediaSource.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}},isHevcSupported:function(){return!("undefined"==typeof MediaSource||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var n=e.video||{},r=e.audio||{};try{var o=MediaSource.isTypeSupported(n.contentType),c=MediaSource.isTypeSupported(r.contentType);return Promise.resolve({supported:o&&c,smooth:!1,powerEfficient:!1})}catch(e){return Promise.resolve(t)}}}}}]);