(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{105:function(t,e,n){"use strict";n.r(e);var o={props:["value","min","max","label","step","tips","disabled","showTooltip","precision"],data:function(){return{}},methods:{changeConfig:function(t){this.$emit("change",t)}}},r=(n(4077),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider-item"},[e("div",{staticClass:"slider-label"},[e("p",[t._v("\n      "+t._s(t.label)+"\n      "),t.tips?e("el-tooltip",{attrs:{"popper-class":"custom-tips-popper",effect:"light",content:t.tips,placement:"top-start"}},[e("span",{staticClass:"el-icon-warning custom-tips"})]):t._e()],1),t._v(" "),e("el-input-number",{attrs:{value:t.value,controls:!1,min:t.min,max:t.max,precision:t.precision,step:t.step,disabled:t.disabled},on:{change:t.changeConfig}})],1),t._v(" "),e("el-slider",{attrs:{value:t.value,min:t.min,max:t.max,step:t.step,disabled:t.disabled,"show-tooltip":t.showTooltip},on:{input:t.changeConfig}})],1)}),[],!1,null,"f48edfb0",null);e.default=component.exports},108:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=n(30),d=(n(19),n(24),n(25),{name:"HyColorfulBorder",props:{showBorder:{type:Boolean,default:!1},borderRadius:{type:Number,default:12},borderColor:{type:Array,default:function(){return["#ff4d67","#6a5cff"]}},colorPadding:{type:Number,default:2},photoFrame:{type:String,default:""},photoFrameDecor:{type:String,default:""},photoPadding:{type:Number,default:4},boxHeight:{type:String,default:"auto"}},data:function(){return{scale:"1",showPhotoPadding:"0",colorScale:"1"}},computed:{borderStyle:function(){var t=Object(c.a)(this.borderColor,2),e=t[0],n=t[1],o={borderRadius:"".concat(this.borderRadius,"px"),background:"linear-gradient(120deg, ".concat(e,", ").concat(n,")"),"--hy-border-color1":e,"--hy-border-color2":n,"--hy-border-radius":"".concat(this.borderRadius,"px")};return this.showBorder?o:{}}},mounted:function(){var t=this;this.setScale(),this.$nextTick((function(){t.setOtherBgItemSize()}))},methods:{setOtherBgItemSize:function(){var t=this;this.photoFrameDecor&&this.$nextTick((function(){var e,n=null===(e=t.$refs)||void 0===e?void 0:e.photoFrameBox;if(n){var o=n.offsetWidth,r=n.offsetHeight,l=Math.min(o,r)/3;t.$el.style.setProperty("--other-bg-item-size","".concat(l,"px"))}}))},setScale:function(){var t=this;this.photoFrame&&this.$nextTick((function(){var e,n=(null===(e=t.$refs)||void 0===e?void 0:e.photoFrameBoxScale)||{},o=n.offsetWidth,r=n.offsetHeight;if(t.showPhotoPadding="0",t.scale="1",o&&r){var l=(o-2*t.photoPadding)/o,c=(r-2*t.photoPadding)/r;t.scale="".concat(l,", ").concat(c)}else t.showPhotoPadding="".concat(t.photoPadding,"px")})),this.showBorder&&this.$nextTick((function(){var e,n=(null===(e=t.$refs)||void 0===e?void 0:e.colorfulBorderRef)||{},o=n.offsetWidth,r=n.offsetHeight;if(o&&r){var l=(o-2*t.colorPadding)/o,c=(r-2*t.colorPadding)/r;t.colorScale="".concat(l,", ").concat(c)}}))}}}),h=(n(3888),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"hy-colorful-border-maxbox",style:{height:t.boxHeight}},[t.photoFrame?[e("div",{ref:"photoFrameBox",staticClass:"photo-frame-box",style:{backgroundImage:"url(".concat(t.photoFrame,")"),borderRadius:"".concat(t.borderRadius,"px")}},[t.photoFrameDecor?e("div",{staticClass:"photo-frame-other-bg"},[e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}}),t._v(" "),e("div",{staticClass:"other-bg-item",style:{backgroundImage:"url(".concat(t.photoFrameDecor,")")}})]):t._e(),t._v(" "),e("div",{ref:"photoFrameBoxScale",staticClass:"photo-frame-box-scale"},[e("div",{staticClass:"photo-frame-bg",style:{backgroundImage:"url(".concat(t.photoFrame,")"),borderRadius:"".concat(t.borderRadius,"px")}}),t._v(" "),e("div",{staticClass:"photo-frame-content",style:{borderRadius:"".concat(t.borderRadius-2,"px"),transform:"scale(".concat(t.scale,")"),padding:t.showPhotoPadding}},[t._t("default")],2)])])]:t._e(),t._v(" "),!t.photoFrame&&t.showBorder?[e("div",{ref:"colorfulBorderRef",class:[t.showBorder&&"hy-colorful-border"],style:l({},t.borderStyle)},[e("div",{class:["content-box",t.showBorder&&"slot-content"],style:{borderRadius:"".concat(t.borderRadius,"px"),transform:"scale(".concat(t.colorScale,")")}},[t._t("default")],2)])]:t._e(),t._v(" "),t.photoFrame||t.showBorder?t._e():[t._t("default")]],2)}),[],!1,null,"6b48e672",null);e.default=component.exports},112:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);n(18);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(16),n(24),n(65),n(26);var c=n(10),d={props:{isLazyload:{type:Boolean,default:!0},item:{type:Object,default:function(){}},Radius:{type:String,default:"16px"},isHeight:{type:Boolean,default:!0},rotateProp:{type:Boolean,default:!1},widthSize:{type:Number,default:0}},data:function(){return{show:!1}},computed:{imgUrl:function(){var t,e,n,o,r,l=(null===(t=this.item)||void 0===t?void 0:t.replaceUrl)||(null===(e=this.item)||void 0===e||null===(e=e.banner)||void 0===e?void 0:e.replaceUrl),d=(null==this||null===(n=this.item)||void 0===n||null===(n=n.banner)||void 0===n?void 0:n.url)||(null==this||null===(o=this.item)||void 0===o?void 0:o.cover)||(null==this||null===(r=this.item)||void 0===r?void 0:r.url)||"";return l=l||Object(c.K)(d,"low")},height:function(){var t=this.item||{},e=t.cover_width,n=t.cover_height,o=t.banner||{},r=o.width,l=o.height,c=Number(((e||r)/(n||l)).toFixed(2));return parseInt(234/c)},isRotate:function(){var t,e,n;return((null===(t=this.item)||void 0===t?void 0:t.needRotate)||this.rotateProp)&&(null===(e=this.item)||void 0===e?void 0:e.cover_width)<(null===(n=this.item)||void 0===n?void 0:n.cover_height)},fianlSize:function(){return this.isRotate?this.widthSize?{width:this.widthSize+"px"}:this.item.waterHeight&&this.item.waterWidth?{width:this.item.waterHeight+"px",height:this.item.waterWidth+"px"}:null:{width:"100%"}},isImg:function(t){return function(t){if(!t)return"";var e=t.split(".").pop();return["jpg","jpeg","png","webp","gif"].includes(e)}}},mounted:function(){var t=this;setTimeout((function(){t.show=!0}),200)},methods:{imgErrfn:function(){this.imgUrl&&(Object(c.a)(this.imgUrl),Object(c.y)().length>=10&&(Object(c.P)("imgerr",Object(c.y)()||[]),Object(c.l)()))}},beforeDestroy:function(){}},h=(n(4255),n(0)),component=Object(h.a)(d,(function(){var t,e,n,o,r=this,c=r._self._c;return c("div",{staticClass:"ImgWaterFallBox"},[r.isLazyload?c("div",{directives:[{name:"lazyload",rawName:"v-lazyload"}],staticClass:"ImgWaterFall"},[r.isImg(r.imgUrl)?c("img",{staticClass:"cntImg",class:{rotate:r.isRotate},style:l({opacity:r.imgUrl&&r.show?1:0,borderRadius:r.Radius},r.fianlSize),attrs:{"data-src":r.imgUrl,alt:(null===(t=r.item)||void 0===t?void 0:t.prompt)||(null===(e=r.item)||void 0===e||null===(e=e.character)||void 0===e?void 0:e.name),width:"234",height:r.isHeight?r.height:null},on:{error:r.imgErrfn}}):c("video",{attrs:{src:r.item.cover,autoplay:"",width:"100%",height:"100%",loop:"",muted:""},domProps:{muted:!0}})]):c("div",{staticClass:"ImgWaterFall"},[r.isImg(r.imgUrl)?c("img",{staticClass:"cntImg",class:{rotate:r.isRotate},style:l({opacity:r.imgUrl&&r.show?1:0,borderRadius:r.Radius},r.fianlSize),attrs:{src:r.imgUrl,alt:(null===(n=r.item)||void 0===n?void 0:n.prompt)||(null===(o=r.item)||void 0===o||null===(o=o.character)||void 0===o?void 0:o.name),width:"234",height:r.isHeight?r.height:null},on:{error:r.imgErrfn}}):c("video",{attrs:{src:r.item.cover,autoplay:"",width:"100%",height:"100%",loop:"",muted:""},domProps:{muted:!0}})])])}),[],!1,null,"faa6f2c2",null);e.default=component.exports},115:function(t,e,n){"use strict";n.r(e);var o=n(3103),r={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return Object(o.a)(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}},l=(n(3868),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return t.isExternal?e("div",t._g({staticClass:"svg-external-icon svg-icon",style:t.styleExternalIcon},t.$listeners)):e("svg",t._g({class:t.svgClass,attrs:{"aria-hidden":"true"}},t.$listeners),[e("use",{attrs:{href:t.iconName}})])}),[],!1,null,"0688e833",null);e.default=component.exports},1155:function(t,e,n){"use strict";n.r(e);var o=n(2),r=n(3),l=(n(20),n(11),n(19),n(6),n(32),n(16),n(22),n(31),n(49),n(18),n(12),n(13),n(8),n(4),n(28),n(21),n(44),n(92),n(7),n(26),n(48)),c=n(36),d=n(82),h=n(98),f=n(51),m=n(172),v=n(61),_=n(423),y=n(9);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x="",O={components:{ElImageViewer:m.a,LenovoPanel:_.default},inject:{SearchApp:{default:function(){return{baseParam:{keyword:""},enSearchKeyword:"",requestId:""}}}},data:function(){var t,e,o=(null===(t=this.$route.params)||void 0===t?void 0:t.type)||"";return{keyIndex:-1,keyword:"",keywordEn:"",isFocus:!1,showMockBox:!1,showType:(null===(e=y.y.find((function(t){return t.path.includes(o)})))||void 0===e?void 0:e.value)||1,uploading:!1,imageViewerVisible:!1,imgSearchImgUrl:"",UPLOAD:new f.a({type:4}),workOrModel:[{label:"Explore",text:"作品",value:1,path:""},{label:"AIModel",text:"模型",value:2,path:"/model"},{label:"digitalHuman",text:"赛博酒吧",value:9,path:"/cyberpub"},{label:"aiapply",text:"快应用",value:14,path:"/swiftapp"},{label:"Post",text:"投稿",value:4,path:"/post"},{label:"aiVideName",text:"视频",value:15,path:"/ai_video"},{label:"AIAudio",text:"音频",value:16,path:"/ai_audio"},{label:"WorkFlow",text:"创作流",value:13,path:"/workflow"},{label:"Tags",text:"标签",value:6,path:"/tag"},{label:"User",text:"用户",value:8,path:"/user"}],searchNoDataImg:n(669),debounceGetRelatedList:Object(h.a)(this.getRelatedList,500),historyList:[],associateList:[],hotWordList:[]}},watch:{$route:{handler:function(t){var e=t.meta.isChome,n=t.params.ptype,o={swift_app:14,cyberPub:9,model:2,post:4,"ai-video":15,"ai-audio":16,novel:21,workflowPage:13,design_template:11};e&&n&&o[n]&&(this.showType=o[n])},immediate:!0,deep:!0},showHistory:function(t){t&&this.hotWordList.length&&this.hotWordListExposure(this.hotWordList)}},computed:{inStudio:function(){return this.$route.path.indexOf("/studio")>-1},showClear:function(){return this.imgSearchImgUrl||this.keyword},showHistory:function(){return this.isFocus&&!this.keyword},showAssociate:function(){return this.isFocus&&this.keyword&&1!==this.showType},renderedWorkOrModel:function(){return Object(l.a)(this)||this.$isChinaSite?this.workOrModel.filter((function(t){return 9!==t.value})):this.workOrModel}},mounted:function(){this.fillFormData()},methods:{fillFormData:function(){var t=this.$route,e=t.name,n=void 0===e?"":e,o=t.query,r=t.params;n.includes("searchView")||n.includes("searchResult")?(this.keyword=o.url?"":r.keyword.replace(/\-/g," "),this.imgSearchImgUrl=o.url||""):(this.keyword="",this.imgSearchImgUrl="")},searchLog:function(t){this.$logEvent("log_actions",{operation:"type_search",search_text:this.keyword,behavior_info:{1:"work",2:"model",6:"tag",8:"user",4:"post",13:"workFlow",14:"swtftApp",11:"designTemplate",9:"tavern",15:"ai_video",16:"ai_audio",21:"ai_novel",20:"ai_filter"}[t]||"work"})},goDetailView:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.actionType,o=e.sourceType,r=this.keyword,l=this.showType,c=r.trim(),d=this.$route.name;if(this.$nextTick((function(){t.$refs.inputRef.blur()})),this.searchLog(l),d.includes("searchView")||d.includes("searchResult"))this.$EventBus.$emit("hideDialog","ImageDetailPop"),this.$emit("onSearch",{keyword:c,keywordEn:this.keywordEn,url:"",type:l,actionType:n,sourceType:o});else if(sessionStorage.setItem("search_source_type",o),c){var h,f=c.replace(/\//g,""),m=null===(h=this.workOrModel.find((function(t){return t.value===l})))||void 0===h?void 0:h.path,path="/search".concat(m,"/").concat(f);this.keywordEn&&(path="/search".concat(m,"/").concat(f,"?keywordEn=").concat(this.keywordEn)),this.$router.push(this.localePath(path))}this.keywordEn=""},goDetailViewImg:function(t){var e=this.showType,n=this.$route.name;if(this.searchLog(e),n.includes("searchView"))this.$emit("onSearch",{keyword:"",url:t,type:e});else{var path="/search/image?url=".concat(t,"&type=").concat(e);this.$router.push(this.localePath(path))}},inputText:function(t){t?this.debounceGetRelatedList(t):this.getHistory()},onKeydown:function(){var t=this.associateList[this.keyIndex];if(this.$xyLogEvent({front_operation:"click",event_name:"log_action_front_search",entity_type:"type_search",search_keyword:this.keyword,en_search_keyword:this.keywordEn,obj_id:this.keyword,obj_category:this.showType}),t)this.handAssoriateItem(t);else{this.goDetailView({actionType:"enter",sourceType:"type_search"})}},onKeyWordUp:function(){var t=document.querySelector("#associateListId"),e=this.associateList.length;e&&(this.keyIndex--,this.keyIndex<=0&&(this.keyIndex=0),this.associateList.forEach((function(t){t.active=!1})),this.associateList[this.keyIndex].active=!0,this.keyIndex<e-4&&(t.scrollTop-=150))},onKeyWordDown:function(){var t=document.querySelector("#associateListId"),e=this.associateList.length-1;this.associateList.length&&(this.keyIndex++,this.keyIndex>=e&&(this.keyIndex=e),this.associateList.forEach((function(t){t.active=!1})),this.associateList[this.keyIndex].active=!0,this.keyIndex>4&&(t.scrollTop+=150))},onFocusFn:function(){this.isFocus=!0,this.showMockBox=!0,x=this.keyword,this.getHotWordList(),this.keyword?this.debounceGetRelatedList():this.getHistory()},onBlurFn:function(){var t=this;this.isFocus=!1,setTimeout((function(){t.showMockBox=!1}),200)},clearText:function(){var t=this;this.keyword="",this.associateList=[],this.imgSearchImgUrl="",this.$nextTick((function(){t.$refs.inputRef.focus()}))},changeType:function(t){this.showType=t,this.imgSearchImgUrl="",this.goDetailView()},handMaskBox:function(){this.keyword=x},beforeUpload:function(t){return!!["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type)||(this.$message.error(this.$t("AllowImageFiles")),!1)},handleUpload:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.beforeUpload(t.file)&&!e.uploading){n.next=3;break}return n.abrupt("return");case 3:if(!(t.file.size/1024/1024>5)){n.next=14;break}return n.prev=4,n.next=7,Object(v.a)(t.file,5242880);case 7:t.file=n.sent,n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(4),console.error("Compression failed:",n.t0),n.abrupt("return");case 14:o={},r=t.file||{},l=r.size,c=r.name,d=c.substring(c.lastIndexOf(".")+1).toLowerCase(),o.content_type="image/".concat(d),o.file_name=c,o.file_size=l,e.uploading=!0,e.UPLOAD.startUpload(t.file).then((function(t){t?(e.imgSearchImgUrl=t,e.keyword="",e.goDetailViewImg(t)):e.uploading=!1})).catch((function(t){e.uploading=!1}));case 23:case"end":return n.stop()}}),n,null,[[4,10]])})))()},imgLoaded:function(){this.uploading=!1},clearHistory:function(){var t=this;Object(c.clearSearchHistory)({}).then((function(){t.historyList=[]}))},delHistory:function(t,i){var e=this,param={terms:[t]};Object(c.delSearchHistory)(param).then((function(){e.historyList.splice(i,1)}))},useHistory:function(t,e){this.keyword=t,this.goDetailView({sourceType:"history_search"})},getHistory:function(){var t=this;Object(c.getSearchHistory)({}).then((function(e){var n,o=(null===(n=e.data)||void 0===n?void 0:n.items)||[];t.historyList=o.slice(0,10).map((function(t){return t.term}))}))},getHotWordList:function(){var t=this;Object(d.c)({guide_scene:"main_hot",page:1,page_size:20}).then((function(e){var n,o=(null===(n=e.data)||void 0===n?void 0:n.items)||[];t.hotWordList=o}))},useHotWord:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.keyword=t.text,this.keywordEn=(null==t?void 0:t.en_text)||"",this.showType=t.obj_type||1,this.goDetailView({sourceType:"hot_word_search"})},handAssoriateItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("query"===e.source)return this.keyword=e.text,void this.goDetailView();var n={art_model:{path:"/models/detail/".concat(e.source_id)},art_tag:{path:"/tagInfo/".concat(e.source_id)},account:{path:"/user/".concat(e.source_id)},portfolio:{path:"/artWorkDetail/".concat(e.source_id)},lookbook:{path:"/video/".concat(e.source_id)},comfyui_template:{path:"/workFlowDetail/".concat(e.source_id)},quick_app:{path:"/workFlowAppDetail/".concat(e.source_id)},design_template:{path:"/editBoard/detail/".concat(e.source_id)},character:{path:"/cyberPubPage/".concat(e.source_id)},character_timbre:{path:"/ai-audio/detail/".concat(e.source_id)},ai_video:{path:"/ai-video/detail/".concat(e.source_id)},ebook:{path:"/novel/detail/".concat(e.source_id)}};["ai_video","post"].includes(e.source)?this.$router.push({path:n[e.type].path}):n[e.source]&&this.$router.push({path:n[e.source].path}),this.$nextTick((function(){t.$refs.inputRef.blur()}))},findMore:function(){this.goDetailView({sourceType:"type_search"})},getRelatedList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.keyword;if(""!==e){var n={prefix:e,source_type:this.showType,except_num:10,scene:"square"};1!==this.showType?Object(d.e)(n).then((function(e){var n,o=(null==e||null===(n=e.data)||void 0===n?void 0:n.items)||[];t.associateList=o.map((function(t){return C(C({},t),{},{active:!1})})),t.keyIndex=-1,o.forEach((function(e,n){var o="query"===e.source?"query":"landing_page",r="query"===e.source?"text":"title",l="query"===e.source?"en_text":"en_title";t.$xyLogEvent({front_operation:"exposure",event_name:"log_action_front_search",entity_name:"associate_word",entity_type:"associate_word_box",text_keyword:e[r]||"",en_text_keyword:e[l]||"",obj_id:e.source_id,obj_index:n,obj_type:t.showType,obj_info:{resp_type:o}})}))})).catch((function(e){t.associateList=[]})):this.associateList=[]}else this.associateList=[]},hotWordListExposure:function(t){var e=this;t.forEach((function(t,n){e.$xyLogEvent({front_operation:"exposure",event_name:"log_action_front_search",entity_type:"hot_word_box",search_keyword:t.text,en_search_keyword:t.en_text,obj_id:t.obj_id,obj_category:t.obj_type,obj_index:n})}))}}},k=O,j=(n(3879),n(3880),n(0)),component=Object(j.a)(k,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.uploading,expression:"uploading"}],staticClass:"home-search dot-group"},[e("div",{staticClass:"search-textarea flex justify-between items-center",class:{"sp-color":t.inStudio,"act-input":t.isFocus}},[e("el-select",{staticClass:"search-select",class:t.$i18n.locale,attrs:{"popper-class":"custom-select all-search-select",value:t.showType,placeholder:t.$t("Pls_select")},on:{change:t.changeType}},t._l(t.renderedWorkOrModel,(function(n){return e("el-option",{key:n.value,attrs:{label:t.$t(n.label),value:n.value,"data-id":n.value,"data-event":"search-type-item","data-desc":"点击搜索类型下拉框选项值"}})})),1),t._v(" "),t.imgSearchImgUrl?e("div",{staticClass:"img-container"},[e("img",{staticClass:"img",attrs:{src:t.imgSearchImgUrl,alt:"no_data"},on:{load:t.imgLoaded,click:function(){return t.imageViewerVisible=!0}}})]):t._e(),t._v(" "),t.imgSearchImgUrl?t._e():e("el-input",{ref:"inputRef",staticClass:"textarea-left",attrs:{type:"input",resize:"none",maxlength:"2000",placeholder:t.$t("Search")},on:{input:t.inputText,focus:t.onFocusFn,blur:t.onBlurFn},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onKeydown.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onKeyWordUp.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onKeyWordDown.apply(null,arguments)}]},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("i",{staticClass:"iconfont search-icon icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),t._v(" "),t.showClear?e("div",{staticClass:"textarea-right clear"},[e("button",{staticClass:"btn-clear w-full h-full",on:{click:t.clearText}},[e("i",{staticClass:"iconfont icon-close-btn"})])]):t._e(),t._v(" "),1===t.showType?e("div",{staticClass:"bottom-button"},[e("el-upload",{staticClass:"img-search-btn",attrs:{action:"/",accept:"image/*","show-file-list":!1,"http-request":t.handleUpload}},[e("el-button",{staticClass:"img-search-img",attrs:{size:"small",type:"primary"}},[e("div",{staticClass:"img-search-img-content flex justify-center items-center"},[e("i",{staticClass:"iconfont icon-camera"})])])],1)],1):t._e()],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHistory,expression:"showHistory"}],ref:"historyContent",staticClass:"history-content flex flex-col",on:{mousedown:function(t){t.preventDefault()}}},[t.historyList.length?[e("div",{staticClass:"up-fixed flex justify-between items-center"},[e("span",{staticClass:"tit"},[t._v(t._s(t.$t("historySearch")))]),t._v(" "),e("div",{staticClass:"icon-box"},[e("i",{staticClass:"iconfont icon-work-delete",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clearHistory.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}})])]),t._v(" "),e("div",{staticClass:"down-items flex flex-wrap"},t._l(t.historyList,(function(n,i){return e("div",{key:"his_".concat(i),staticClass:"his-item flex justify-between items-center",attrs:{"data-event":"history_search","data-eventName":"log_action_front_search","data-desc":"点击历史搜索关键词"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.useHistory(n,i)},mousedown:function(t){t.preventDefault()}}},[e("span",{staticClass:"his-item-text text-no-wrap"},[t._v(t._s(n))]),t._v(" "),e("span",{staticClass:"his-item-btn flex justify-center items-center",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.delHistory(n,i)},mousedown:function(t){t.preventDefault()}}},[e("i",{staticClass:"el-icon-close"})])])})),0)]:t._e(),t._v(" "),t.hotWordList.length?[e("div",{staticClass:"hot-word-box"},[e("p",{staticClass:"tit"},[t._v(t._s(t.$t("search_trending")))]),t._v(" "),e("div",{staticClass:"list-box"},t._l(t.hotWordList,(function(n,i){return e("div",{key:"hot_".concat(i),staticClass:"item",attrs:{"data-id":n.obj_id,"data-type":n.obj_type,"data-index":i,"data-event":"hot_word_search","data-eventName":"log_action_front_search"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.useHotWord(n,i)},mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:n.cover,alt:"hot_word_1"}})]),t._v(" "),e("div",{staticClass:"right"},[e("p",{staticClass:"line-two"},[t._v(t._s(n.text))])])])})),0)])]:t._e()],2),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAssociate,expression:"showAssociate"}],staticClass:"associate-content",on:{mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"item-list",attrs:{id:"associateListId"}},[e("LenovoPanel",{ref:"LenovoPanelRef",attrs:{list:t.associateList,keyword:t.keyword,showType:t.showType},on:{onClick:t.handAssoriateItem,mousedown:function(t){t.preventDefault()}}})],1),t._v(" "),t.associateList.length>0?e("div",{staticClass:"more-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.findMore.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[t._v("\n      "+t._s(t.$t("viewMore"))+"\n    ")]):t._e(),t._v(" "),0===t.associateList.length?[e("div",{staticClass:"no-search-box"},[e("el-image",{staticStyle:{width:"90px",height:"66px"},attrs:{src:t.searchNoDataImg}}),t._v(" "),e("p",[t._v(t._s(t.$t("NoSearchData")))])],1)]:t._e()],2),t._v(" "),t.imageViewerVisible?e("el-image-viewer",{staticClass:"message-img-viewer",staticStyle:{"z-index":"9999"},attrs:{"on-close":function(){return t.imageViewerVisible=!1},"url-list":[t.imgSearchImgUrl]}}):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMockBox,expression:"showMockBox"}],staticClass:"mock-associate-box",on:{click:t.handMaskBox}})],1)}),[],!1,null,"6e9a1e29",null);e.default=component.exports;installComponents(component,{LenovoPanel:n(423).default})},1158:function(t,e,n){"use strict";n.r(e);var o=n(3),r=n(2),l=(n(20),n(16),n(4),n(21),n(11),n(6),n(12),n(13),n(8),n(40),n(7),n(41),n(78)),c=n(1);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},l.a.NEW_USER_EXPOSURE,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16),n.e(96)]).then(n.bind(null,5865))})),l.a.HALF_PRICE,(function(){return Promise.resolve().then(n.bind(null,5684))})),l.a.PAT_FACE,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.bind(null,5866))})),l.a.DAILY_STAMINA,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.bind(null,5867))})),l.a.REVIVE_DIALOG,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.bind(null,5747))})),l.a.HOT_POPUP,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.bind(null,5868))})),l.a.EVENT_CENTER_LATEST_UPDATE,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.bind(null,5869))})),l.a.AWARD,(function(){return Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.bind(null,5870))})),m={name:"PopupManagerContainer",data:function(){return{activePopup:{type:null,component:null,props:{}}}},created:function(){l.b.registerOnNextPopup(this.handleNextPopupNotification)},watch:{isLoggedIn:{handler:function(t,e){t&&!e?this.initializePopups():!t&&e&&l.b.clearAllStatus()},immediate:!0},$route:function(t,e){var n,o;null===(n=t.meta)||void 0===n||!n.isHome||null!==(o=e.meta)&&void 0!==o&&o.isHome||l.b.notifyContainer()}},computed:h({},Object(c.c)("user",["isLoggedIn"])),methods:h(h({},Object(c.b)("payment",["setHalfDiscountCountdown"])),{},{initializePopups:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedIn){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.b.checkPopupStatus();case 5:n=l.b.getDiscountData(),t.updateHalfTimeDiscount(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("[PopupManagerContainer] Failed to trigger initial popup check:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},handleNextPopupNotification:function(t){this.$route.path.includes("/specialLogin")||this.isLoggedIn&&(t?this.loadAndShowPopup(t):this.activePopup={type:null,component:null,props:{}})},loadAndShowPopup:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,data,r,c,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isLoggedIn){n.next=2;break}return n.abrupt("return");case 2:if(t.type!==e.activePopup.type){n.next=4;break}return n.abrupt("return");case 4:if(o=t.type,data=t.data,f[o]){n.next=9;break}return console.error("[PopupManagerContainer] Popup component for type ".concat(o," not found.")),l.b.closeCurrentPopup(o),n.abrupt("return");case 9:return n.prev=9,n.next=12,f[o]();case 12:return c=n.sent,d={},m={},o===l.a.HALF_PRICE?(m=h({},data),d=h({},data)):o===l.a.NEW_USER_EXPOSURE?(m={value:!0},d=h({},data||{})):o===l.a.REVIVE_DIALOG?(m=h({},data),d=h({},data)):(m={value:!0,dialogData:(null==data?void 0:data.dialogData)||data||{}},d=m),e.activePopup={type:o,component:c.default,props:m},n.next=19,e.$nextTick();case 19:if(null===(r=e.$refs.dynamicPopup)||void 0===r||!r.show){n.next=25;break}return n.next=22,e.$refs.dynamicPopup.show(d);case 22:l.b.storage.setPopupShown(o),n.next=26;break;case 25:console.warn("[PopupManagerContainer] Component missing show method for type: ".concat(o));case 26:n.next=32;break;case 28:n.prev=28,n.t0=n.catch(9),console.error("[PopupManagerContainer] Error showing ".concat(o," popup:"),n.t0),l.b.closeCurrentPopup(o);case 32:case"end":return n.stop()}}),n,null,[[9,28]])})))()},handlePopupClose:function(t){t||(console.warn("[PopupManagerContainer] handlePopupClose called without a type. Attempting to use activePopup.type."),t=this.activePopup.type)?(l.b.closeCurrentPopup(t),this.activePopup={type:null,component:null,props:{}}):console.error("[PopupManagerContainer] Cannot determine closed popup type. Aborting close handling.")},updateHalfTimeDiscount:function(t){var e=(null==t?void 0:t.end_at)||null;e&&this.setHalfDiscountCountdown(e)},handlePopupDismiss:function(t){t||(t=this.activePopup.type),t&&(l.b.closeCurrentPopup(t,!0),this.activePopup={type:null,component:null,props:{}})}})},v=(n(4023),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup-manager-container"},[t.activePopup.type?e(t.activePopup.component,t._b({key:t.activePopup.type,ref:"dynamicPopup",tag:"component",on:{close:function(e){return t.handlePopupClose(e)},dismiss:function(e){return t.handlePopupDismiss(e)}}},"component",t.activePopup.props,!1)):t._e()],1)}),[],!1,null,"6f8edc34",null);e.default=component.exports},1162:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(6),n(12),n(13),n(8);var o=n(2),r=(n(16),n(73),n(22),n(4),n(28),n(21),n(40),n(140),n(44),n(7),n(41),n(141),n(142),n(109),n(1)),l=n(45),c=n(63),d=n(10),h=n(128),f=n(618),m=n(138),v=n(178),_=n(52),y=n(58);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={props:["modelInfo"],mixins:[l.a],components:{CollectPopover:c.default,SwipeableList:_.default,modelDownload:f.a,modelPayNum:m.default},data:function(){return{formatNumberForeign:d.p,getTimeDiff2:y.e,replaceImageType:d.K,defShow:-1,showImg:{url:"",id:""},imgScroll:null,itemShow:!1}},watch:{modelInfo:{handler:function(t){console.log(t),this.setImg()},deep:!0}},computed:C(C(C({},Object(r.e)("user",["userInfo"])),Object(r.c)("user",["isCompanyAccount"])),{},{isOwner:function(){var t,e=this.modelInfo.author;return(null===(t=this.userInfo)||void 0===t?void 0:t.id)===(null==e?void 0:e.id)},noCoverText:function(){return this.isOwner?this.isCompanyAccount?this.$t("PleaseSetCover"):this.$t("EmptyBannerModelText"):this.$t("EmptyBannerText")},toolsMenu:function(){return[{key:"REPORT",label:"Report"}]},getDynamicHref:function(){return function(t){var e="Terms"===t,n=this.$i18n.locale?this.$i18n.locale:"en";return Object(v.a)(n,e,this.$isChinaSite)}}}),methods:{changeItemShow:function(t){this.itemShow=t.show,this.itemShowId=t.id},setImg:function(){var t=this;this.modelInfo.samples.length>0?(this.defShow=1,this.showImg.url=this.modelInfo.samples[0].url,this.showImg.id=this.modelInfo.samples[0].id,this.$nextTick((function(){t.modelInfo.samples.length<6?t.$refs.imglistBox.style.width="100%":t.$refs.imglistBox.style.width=null})),this.modelInfo.samples.forEach((function(element){1!=element.nsfw&&element.url||(element.url=n(217))}))):this.defShow=2},selectImg:function(t,e,n){var o=this;this.showImg.url=t.url,this.showImg.id=t.id,n||this.$refs.carousel.setActiveItem(e),this.$nextTick((function(){o.$refs.imgList.forEach((function(t,e){t.classList.contains("imgActivate")&&(o.imgScroll={value:t.getBoundingClientRect().left,idx:e})}))}))},otherUser:function(t){var path="/user/"+encodeURIComponent(t.author.id);this.userInfo.id==t.author.id&&(path="/personal"),this.$router.push(path)},handleMark:function(){this.isLoggedIn?this.setCollectData(this.modelInfo).includes("collect_selected")&&(this.$refs.collectPopover.visible=!1,this.setCollect(this.modelInfo,"model")):this.$EventBus.$emit("openLoginDialog")},imgHandleClick:function(t,e){if(this.isLoggedIn){if("收藏"===e)this.setCollect(t,"artwork")}else this.$EventBus.$emit("openLoginDialog")},handleClick:function(t){this.isLoggedIn?this.setCollect(this.modelInfo,"model"):this.$EventBus.$emit("openLoginDialog")},isLink:function(t){try{return new URL(t),/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(t)}catch(t){return!1}},showLink:function(t){var e=t;if(e){var n=e.match(/([^:/?#]+)(?:\.[^:/?#]+)+(?:[/?#]|$)/i);if(n){var o=n[1];return o=(o=o.replace(/^www\./i,"")).replace(/\.(com|cn|org|net|edu|gov|jp|uk|au|de|fr|kr)$/i,"")}return e}return"-"},initials:function(t){return t.split(" ").map((function(t){return t[0]})).join("").toUpperCase()},toolsEvent:function(t){this.reportModel()},reportModel:function(){var t=this;Object(h.f)({id:this.modelInfo.id}).then((function(e){t.$message.success(t.$t("ReportSuccess"))}))}}},O=(n(4090),n(0)),component=Object(O.a)(x,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"modelCnt"},[o("div",{staticClass:"modelName"},[n.modelInfo.is_agency_fee?o("span",{staticClass:"payNum"},[o("modelPayNum",{attrs:{number:n.modelInfo.agency_fee}})],1):n._e(),n._v(" "),o("div",{staticClass:"text",style:{textIndent:n.modelInfo.is_agency_fee?"85px":null},attrs:{title:n.modelInfo.name}},[n._v("\n      "+n._s(n.modelInfo.name)+"\n    ")])]),n._v(" "),o("div",{staticClass:"modelMain"},[o("div",{staticClass:"mainLeft"},[o("div",{staticClass:"imgMain"},[2==n.defShow?o("div",{staticClass:"imgDef"},[n._v(n._s(n.noCoverText))]):n._e(),n._v(" "),1==n.defShow?o("el-carousel",{ref:"carousel",attrs:{height:"642px",autoplay:!1},on:{change:function(t){var e;return n.selectImg(null===(e=n.modelInfo)||void 0===e?void 0:e.samples[t],t,!0)}}},n._l(null===(t=n.modelInfo)||void 0===t?void 0:t.samples,(function(t,e){return o("el-carousel-item",{key:t.url+e},[o("div",{staticClass:"imgBox"},[o("div",{staticClass:"imgBg",style:{backgroundImage:"url("+n.replaceImageType(t.url,"low")+")"}}),n._v(" "),o("div",{staticClass:"elimg",on:{click:function(e){return e.preventDefault(),n.handleDetail(e,t)}}},[o("img",{attrs:{src:n.replaceImageType(t.url,"low"),alt:""}}),n._v(" "),n.modelInfo.author&&n.modelInfo.author.id?o("div",{staticClass:"waterfall-hover-model"},[o("div",{staticClass:"hoverTop"},[o("span",[n._v("/upscale")])]),n._v(" "),o("div",{staticClass:"hoverMiddle"},[n._v("\n                    "+n._s(t.meta.prompt)+"\n                  ")]),n._v(" "),o("div",{staticClass:"hoverBottom"},[o("div",{staticClass:"personal-info",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.otherUser(n.modelInfo)}}},[n.modelInfo.author.head?o("img",{staticClass:"avatorClass",attrs:{decoding:"async",loading:"lazy",src:n.modelInfo.author.head,alt:""}}):o("div",{staticClass:"avatorClass"},[n._v("\n                        "+n._s(n.initials(n.modelInfo.author.name||n.modelInfo.author.id))+"\n                      ")]),n._v(" "),o("span",[n._v(n._s(n.modelInfo.author.name||n.modelInfo.author.id))])]),n._v(" "),o("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t.id&&1==n.modelInfo.status?o("div",{staticClass:"login-waterFall-btn-icon",on:{click:function(e){return n.imgHandleClick(t,"收藏")}}},[o("i",{staticClass:"iconfont",class:n.setCollectData(t)})]):n._e()])])]):n._e()])])])})),1):n._e()],1),n._v(" "),o("SwipeableList",{attrs:{scrollChange:n.imgScroll,iconBntWidth:24,top:"23px"}},[o("div",{ref:"imglistBox",staticClass:"imgNav"},n._l(null===(e=n.modelInfo)||void 0===e?void 0:e.samples,(function(t,e){var r;return o("div",{key:e,ref:"imgList",refInFor:!0,staticClass:"imgItem",class:{imgActivate:(null===(r=n.showImg)||void 0===r?void 0:r.id)==t.id},on:{click:function(o){return n.selectImg(t,e)}}},[o("div",[o("img",{attrs:{src:n.replaceImageType(t.url,"low"),alt:""}})])])})),0)])],1),n._v(" "),o("div",{staticClass:"mainRight"},[o("div",{staticClass:"rightTitle"},[n._v(n._s(n.$t("ModelParameters")))]),n._v(" "),o("div",{staticClass:"modelInfos"},[o("div",{staticClass:"infoItem"},[o("div",{staticClass:"keys"},[n._v(n._s(n.$t("ModelSource"))+":")]),n._v(" "),o("div",{staticClass:"vals"},[n.isLink(n.modelInfo.refer)?o("a",{staticClass:"link",attrs:{href:n.modelInfo.refer,target:"_blank"}},[n._v("\n              "+n._s(n.showLink(n.modelInfo.refer))+"\n            ")]):o("span",[n._v(n._s(n.modelInfo.refer||"-"))])])]),n._v(" "),o("div",{staticClass:"infoItem"},[o("div",{staticClass:"keys"},[n._v(n._s(n.$t("Type"))+":")]),n._v(" "),o("div",{staticClass:"vals"},[n.modelInfo.type?o("span",{staticClass:"tag-item"},[n._v(n._s(n.modelInfo.type))]):n._e()])]),n._v(" "),o("div",{staticClass:"infoItem"},[o("div",{staticClass:"keys"},[n._v(n._s(n.$t("UsageCount"))+":")]),n._v(" "),o("div",{staticClass:"vals"},[n._v(n._s(n.modelInfo.stat?n.modelInfo.stat.num_of_task:0))])]),n._v(" "),o("div",{staticClass:"infoItem"},[o("div",{staticClass:"keys"},[n._v(n._s(n.$t("Versions"))+":")]),n._v(" "),o("div",{staticClass:"vals"},[n._v(n._s(n.modelInfo.version_name))])]),n._v(" "),o("div",{staticClass:"infoItem"},[o("div",{staticClass:"keys"},[n._v(n._s(n.$t("BaseModel"))+":")]),n._v(" "),o("div",{staticClass:"vals"},[n._v(n._s(n.modelInfo.base_model))])]),n._v(" "),o("div",{staticClass:"infoItem"},[o("div",{staticClass:"keys"},[n._v(n._s(n.$t("TriggerWords"))+":")]),n._v(" "),o("div",{staticClass:"vals"},n._l(n.modelInfo.trained_words,(function(t,e){return o("span",{key:e,staticClass:"tag-item"},[n._v(n._s(t))])})),0)])]),n._v(" "),n.modelInfo.refer?n._e():o("div",{staticClass:"rightTitle",staticStyle:{"margin-top":"20px"}},[n._v(n._s(n.$t("ModelLicenseScope")))]),n._v(" "),n.modelInfo.refer?n._e():o("div",{staticClass:"authority"},[o("div",[o("i",{class:1==n.modelInfo.commercial?"el-icon-check":"el-icon-close",style:{color:1==n.modelInfo.commercial?"#22D19D":"#FF3D3D"}}),n._v(" "),o("span",[n._v(n._s(n.$t("commercialSupport")))])]),n._v(" "),o("div",[o("i",{class:1==n.modelInfo.mix?"el-icon-check":"el-icon-close",style:{color:1==n.modelInfo.mix?"#22D19D":"#FF3D3D"}}),n._v(" "),o("span",[n._v(n._s(n.$t("modelMerge")))])])])])])])}),[],!1,null,"572368a8",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},1163:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);n(19);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=n(14),d=n(3),h=n(120),f=(n(20),n(32),n(50),n(16),n(22),n(21),n(26),n(900)),m=n(594),v=n(3255),_=n(3257),y=n(208),w=n(3258),C=n(3259),x=n(1),O=n(29),k=n(9),j=n(302),I=n(35),S=n.n(I),P=["art_model_no","art_model_ver_no"];function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var T={inject:["top"],props:{source:{type:String,default:"popup"}},components:{Header:f.a,GRechargeBanner:m.default,ImagePanel:v.default,PromptPanel:_.default,LineLoading:y.default,ModelPanel:w.default,SettingPanel:C.default,TaskImageViewer:j.default},data:function(){return{generateLoading:0,generateInfo:{process:0},pollTaskTimer:null,quickTaskFlag:1,modelList:{Checkpoint:[],LORA:[]},params:{action:1,art_model_no:"",art_model_ver_no:"",category:1,speed_type:this.top.isVip?2:1,source:11,meta:{cfg_scale:7,steps:20,lcm_mode:0,sampler_name:"DPM++ 2M Karras",width:683,height:1024,prompt:k.n.prompt,negative_prompt:k.n.negative_prompt,imageSize:2,n_iter:1,clip_skip:1,restore_faces:!1,prompt_magic:!0,vae:"vae-ft-mse-840000-ema-pruned",lora_models:[]}},defaultParams:{},costList:[{min:0,max:512,value:1},{min:512,max:768,value:2},{min:768,max:1024,value:4},{min:1024,max:1e7,value:10}],dialogVisible:!1,imageInfo:{},hoverBtnList:[{code:"chat",icon:"a-home-top-personl1",useText:!1,order:0,tips:"createChartacterToChat",show:!0,showTypeOptions:[]},{code:"animGen",icon:"AnimGenIcon",useText:!1,order:1,tips:"AnimGen",show:!0,showTypeOptions:[]},{code:"upscale",icon:"task-upscale-icon",useText:!0,text:"U",order:2,tips:"WorkUpscale",show:!0,showTypeOptions:[]},{code:"variations",icon:"task-variations-icon",useText:!0,text:"V",order:3,tips:"WorkVariations",show:!0,showTypeOptions:[]},{code:"extraUpscale",icon:"upload-image-icon",useText:!1,order:1,tips:"ExtraUpscale",show:!0,showTypeOptions:[]},{code:"post",icon:"post-icon2",useText:!1,order:5,tips:"GraphicSubmission",show:!0,showTypeOptions:[]}]}},mounted:function(){this.initparams(),this.getModelList()},watch:{"params.art_model_no":function(t){this.changeModel(t)}},computed:L(L({},Object(x.c)("creation",["size_billing_rule"])),{},{isFluxModel:function(){var t,e=this.params.art_model_no;return null===(t=this.modelList.Checkpoint.find((function(t){return t.model_no===e})))||void 0===t?void 0:t.isFlux},modelInfo:function(){var t,e=this.params.art_model_no,n=this.modelList.Checkpoint;return null!=n&&n.length&&(null===(t=n.find((function(t){return t.model_no===e})))||void 0===t?void 0:t.config)||[]},paddingTop:function(){var t=20;return this.top.isShowSubBanner&&(t+=40),t+"px"},defaultCost:function(){var t,e=this.size_billing_rule.baselines||this.costList,n=Math.max(this.params.meta.width,this.params.meta.height),o=1;(e||[]).forEach((function(t){n>t.min&&n<=t.max&&(o=t.value)}));var r=null!==(t=this.params)&&void 0!==t&&null!==(t=t.meta)&&void 0!==t&&t.lcm_mode?.5:1;return this.isFluxModel?6:o*r},viewImageList:function(){var t,e=this.params.meta,n=e.width,o=e.height;return[{url:null===(t=this.generateInfo)||void 0===t||null===(t=t.img_uris[0])||void 0===t?void 0:t.url,width:n,height:o,operateNumber:1}]},btnList:function(){var t=this.isFluxModel?["chat","animGen","extraUpscale"]:[];return this.hoverBtnList.filter((function(e){return!t.includes(e.code)}))}}),methods:{handleClick:function(t){var e=L(L({},this.params),this.imageInfo);this.operate({info:e,type:"A",btnInfo:{btnType:"A",id:1}})},closeViewBigImage:function(){this.dialogVisible=!1},handleImageOperate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=data.operateNumber,n=data.url,o=L(L({},this.params),this.imageInfo);switch(t){case"extraUpscale":this.$EventBus.$emit("openGenerate",{action:6,data:{imageUrl:n,art_work_no:o.pub_artwork_no,meta:Object.assign({},S()(o.meta),{channel:o.category})}});break;case"upscale":this.operate({info:o,type:"U",btnInfo:{btnType:"U",id:e}});break;case"variations":this.operate({info:o,type:"V",btnInfo:{btnType:"V",id:e}});break;case"removeBackground":this.operate({info:o,type:"removeBackground",imageUrl:n});break;case"animGen":this.operate({info:o,type:"A",btnInfo:{btnType:"A",id:e}})}this.closeViewBigImage()},operate:function(t){var e=["U","V"].includes(t.type);this.$EventBus.$emit("TaskListHandle",t),e&&(this.top.menuIndex="textToImage",this.top.changeHandle({creativeMode:this.isFluxModel?"studio":"normal"})),this.top.taskViewScrollToBottom()},viewImage:function(){this.dialogVisible=!0},uploadMate:function(t){this.imageInfo=t},setParams:function(t){if(t){var e=JSON.parse(JSON.stringify(t)),n=t.art_model_no,o=t.art_model_ver_no,data=Object(h.a)(t,P),r=(null==data?void 0:data.meta)||{},l=r.negative_prompt,c=r.prompt;delete e.isFlux,this.defaultParams={art_model_no:n,art_model_ver_no:o,prompt:c,negative_prompt:l},Object.assign(this.params,e),this.generateTask(t)}},changeModel:function(){var t=arguments,e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:e.params.art_model_no,l=t.length>1?t[1]:void 0,c=e.modelList.Checkpoint,d=c.findIndex((function(t){return t.model_no===r})),h=c[d]){n.next=7;break}return n.abrupt("return");case 7:if(null!=h&&null!==(o=h.config)&&void 0!==o&&o.length&&!l){n.next=12;break}return n.next=10,e.getModelInfo(h.model_no,l);case 10:f=n.sent,e.$set(e.modelList.Checkpoint[d],"config",f);case 12:case"end":return n.stop()}}),n)})))()},getModelList:function(){var t=this;this.generateLoading=-1,Object(O.getSimpleModelList)().then((function(e){t.generateLoading=0;var n=e.data,o=n.recommend_loras,r=n.default_flux,l=n.recommend_flux_models,c=t.defaultParams,d=c.art_model_no,h=c.art_model_ver_no,f=c.prompt,m=c.negative_prompt;t.modelList.Checkpoint=t.combineModelList(e.data);var v=r?0:l.length;t.modelList.LORA=o;var _=d||t.modelList.Checkpoint[v].model_no;t.params.art_model_no=_,t.params.art_model_ver_no=h||t.modelList.Checkpoint[0].model_ver_no,t.changeModel(_),d&&(t.defaultParams={prompt:f,negative_prompt:m})})).catch((function(t){}))},combineModelList:function(data){var t=data.recommend_models,e=data.recommend_flux_models;return e=e.map((function(t){return L({isFlux:!0},t)})),[].concat(Object(c.a)(e),Object(c.a)(t)).map((function(t){return t.config="",t}))},getModelInfo:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.art_model_no,n=arguments.length>1?arguments[1]:void 0;return new Promise((function(o,r){var l,c=t.modelList.Checkpoint,d=c.findIndex((function(t){return t.model_no===e}));""===(null===(l=c[d])||void 0===l?void 0:l.config)||n?Object(O.getSimpleModelInfo)({id:e}).then((function(e){var n=e.data.config;n.forEach((function(e){var n=e.seed,o=e.sampler_name,r=e.cfg_scale,l=e.steps,c=e.negative_prompt;if(n||t.$set(e,"seed",-1),o||t.$set(e,"sampler_name","DPM++ 2M Karras"),r||t.$set(e,"cfg_scale",5),l||t.$set(e,"steps",30),!c){t.$set(e,"negative_prompt","verybadimagenegative_v1.3, ng_deepnegative_v1_75t, (ugly face:0.8),cross-eyed,sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, bad anatomy, DeepNegative, facing away, tilted head, {Multiple people}, lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worstquality, low quality, normal quality, jpegartifacts, signature, watermark, username, blurry, bad feet, cropped, poorly drawn hands, poorly drawn face, mutation, deformed, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, extra fingers, fewer digits, extra limbs, extra arms,extra legs, malformed limbs, fused fingers, too many fingers, long neck, cross-eyed,mutated hands, polar lowres, bad body, bad proportions, gross proportions, text, error, missing fingers, missing arms, missing legs, extra digit, extra arms, extra leg, extra foot, ((repeating hair))")}})),o(n)})).catch((function(t){r(t)})):o([])}))},generateTask:function(t){var e=this,n=t||this.changeParams();if(!this.top.token&&"page"!==this.source)return this.$EventBus.$emit("openLoginDialog",{callBack:function(){localStorage.setItem("isSetSIMPLE","1111")}}),!1;if(!(this.generateLoading>0))if(n.meta.prompt){if(this.init(),"page"===this.source)return localStorage.setItem("isSetSIMPLE","2222"),void this.toGerenatePopup(L(L({},this.params),{},{isFlux:this.isFluxModel}));this.generateLoading=1,(n.isFlux||this.isFluxModel?O.studioTextToImageTask:O.createTask)(n).then((function(t){var o,data=t.data;e.$message.success(e.$t("CreateSuccess")),e.generateInfo.task_id=null==data?void 0:data.id,e.pollTask(null==data?void 0:data.id),"popup"===e.source&&(null===(o=e.top)||void 0===o||o.updateTask(L(L({},data),{},{status:1,art_model_no:(null==n?void 0:n.art_model_no)||""})))})).catch((function(t){e.generateLoading=0}))}else this.$message.error(this.$t("PromptNotEmpty"))},toGerenatePopup:function(t){this.$EventBus.$emit("openGenerate",{action:1,data:{source:L(L({},t),{},{openType:"SIMPLE"})}})},pollTask:function(t){var e=this;this.generateLoading=2,this.generateInfo.process=0,this.pollTaskTimer=setInterval(Object(d.a)(regeneratorRuntime.mark((function n(){var o,r,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.batchFetchTaskProcess)({task_ids:[t]});case 3:o=n.sent,r=o.data.items,l=r[0],c=l.process,e.generateInfo.process=c,e.handleTaskStatus(r[0]),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])}))),3e3)},handleTaskStatus:function(t){var e=t.status;return 1===e&&1===this.quickTaskFlag?(this.quickTaskFlag=2,void this.handleGenerateInfo(t)):2===e&&2===this.quickTaskFlag?(this.handleGenerateInfo(t),void(this.quickTaskFlag=1)):void([3,4].includes(e)&&(clearInterval(this.pollTaskTimer),this.pollTaskTimer=null,this.generateLoading=0,this.$EventBus.$emit("shareToNetworks",{imageTask:t,from:"SIMPLE"}),this.handleGenerateInfo(t)))},handleGenerateInfo:function(t){this.$set(this,"generateInfo",t)},changeParams:function(){var t=JSON.parse(JSON.stringify(this.params));![-1,"-1"].includes(t.meta.seed)&&t.meta.seed||(t.meta.seed=Math.floor(4294967294*Math.random())+1);var e=t.meta.lora_models;return delete t.meta.imageSize,t.meta.lora_models=e.map((function(t){return L(L({},t),{},{model_id:t.id,weight:.7})})),t.speed_type=this.top.isVip?2:1,"page"===this.source&&(t.source=17100),this.isFluxModel?(delete t.meta.lora_models,t.meta.lab_base={prompt_magic:t.meta.prompt_magic}):delete t.meta.prompt_magic,t.category=this.isFluxModel?11:1,t},cancelTask:function(){var t=this;this.generateInfo.id=this.generateInfo.task_id,this.$EventBus.$emit("TaskListHandle",{info:this.generateInfo,type:"cancelTask",callback:function(){t.init(!0)}})},init:function(t){var e=this.generateInfo.img_uris;this.generateInfo=L(L({},this.generateInfo),{},{img_uris:t?e:[],process:0}),this.generateLoading=0,clearInterval(this.pollTaskTimer),this.pollTaskTimer=null},scrollTo:function(){var t=this;this.$logEvent("log_actions",{operation:"click_advanced_setting",behavior_info:"creative_flow_starter"}),this.$refs.setting.panelZoom=!1;var e=document.querySelector(".simple-generate");setTimeout((function(){if("page"!==t.source)e.scrollTop=e.scrollHeight;else{var n=document.getElementById("settingPanel").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:n-100,behavior:"smooth"})}}),300)},handleTask:function(t){if("Cancel"===t)this.cancelTask();else this.upscale()},upscale:function(){var t=this;this.generateLoading=1,"page"!==this.source?this.$EventBus.$emit("TaskListHandle",{info:L(L({},this.generateInfo),{},{id:this.generateInfo.task_id}),type:"U",btnInfo:{btnType:"U",id:1},callback:function(data){t.generateInfo.task_id=data.id,t.pollTask(data.id)}}):this.UHandle()},UHandle:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,o,r,data,l,c,d,h,f,m,meta,v,_,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.generateInfo.task_id,e.next=3,Object(O.getMetaInfo)({id:o});case 3:r=e.sent,data=r.data,c=(l=data||{}).art_model_no,d=l.art_model_ver_no,h=l.art_work_no,f=l.id,m=l.category,meta=l.meta,v=l.img_uris,(_=JSON.parse(JSON.stringify(meta))).controlnet_units=[],_.init_images=[null===(n=v[0])||void 0===n?void 0:n.url],y={action:2,art_model_no:c,art_model_ver_no:d,art_work_no:h,category:m,channel_id:"",operate_number:1,parent_task_id:f,speed_type:t.top.isVip?2:1,meta:_,source:17100},Object(O.createTask)(y).then((function(e){var data=e.data;t.generateInfo.task_id=data.id,t.pollTask(data.id)}));case 11:case"end":return e.stop()}}),e)})))()},changeList:function(t,e){this.modelList[e].unshift(t),this.$set(this.modelList,e,this.modelList[e])},saveSAMPLE:function(t){localStorage.setItem("cacheSAMPLE",JSON.stringify(t))},initparams:function(){var t=null;try{t=localStorage.getItem("cacheSAMPLE")||null}catch(t){}if(t){var e=JSON.parse(t),n=e.seed||-1,o=e.tag||"random";this.$set(this.params.meta,"seedMode",o),this.$set(this.params.meta,"seed",n)}else this.params.meta.seed=-1,this.params.meta.seedMode="random"}}},$=T,A=(n(4151),n(0)),component=Object(A.a)($,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"simple-generate",class:{"page-generate":"page"===n.source},style:{paddingTop:n.paddingTop}},["page"===n.source?o("div",{staticClass:"head-panel"},[o("i",{staticClass:"iconfont icon-simple_icon"}),n._v(" "),o("h1",[n._v(n._s(n.$t("Text2imgTitle")))]),n._v(" "),o("p",[n._v(n._s(n.$t("Text2imgDesc")))])]):o("div",{staticClass:"head-panel"},[null!==(t=n.top)&&void 0!==t&&t.isShowSubBanner?o("g-recharge-banner",{on:{close:function(t){var e;null===(e=n.top)||void 0===e||e.closeSubBanner}}}):n._e()],1),n._v(" "),o("div",{staticClass:"simple-main"},[o("div",{staticClass:"generate-panel"},[o("image-panel",{attrs:{generateLoading:n.generateLoading,info:n.generateInfo},on:{handle:n.handleTask,viewImage:n.viewImage}}),n._v(" "),o("prompt-panel",{attrs:{modelInfo:n.modelInfo,isFluxModel:n.isFluxModel,defaultParams:n.defaultParams},model:{value:n.params.meta,callback:function(t){n.$set(n.params,"meta",t)},expression:"params.meta"}},[o("div",{staticClass:"generate-btn"},[o("div",{staticClass:"gen-btn",class:{loading:n.generateLoading},attrs:{tips:"(".concat(n.$t("PhysicalExertion"),": ").concat(n.defaultCost,")")},on:{click:function(t){return n.generateTask("")}}},[n._v("\n            "+n._s(n.generateLoading?"":n.$t("Generate"))+"\n            "),o("line-loading",{directives:[{name:"show",rawName:"v-show",value:n.generateLoading,expression:"generateLoading"}]})],1),n._v(" "),o("span",{staticClass:"set-btn",on:{click:n.scrollTo}},[o("i",{staticClass:"iconfont icon-setting1"})])])])],1),n._v(" "),o("model-panel",{attrs:{modelList:n.modelList.Checkpoint},on:{changeList:function(t){return n.changeList(t,"Checkpoint")}},model:{value:n.params,callback:function(t){n.params=t},expression:"params"}}),n._v(" "),o("model-panel",{directives:[{name:"show",rawName:"v-show",value:!n.isFluxModel,expression:"!isFluxModel"}],attrs:{type:"LORA",modelList:n.modelList.LORA},on:{changeList:function(t){return n.changeList(t,"LORA")}},model:{value:n.params,callback:function(t){n.params=t},expression:"params"}}),n._v(" "),o("setting-panel",{ref:"setting",attrs:{isFluxModel:n.isFluxModel},on:{saveSeed:function(t){return n.saveSAMPLE(t)}},model:{value:n.params.meta,callback:function(t){n.$set(n.params,"meta",t)},expression:"params.meta"}})],1),n._v(" "),n.dialogVisible?o("task-image-viewer",{staticClass:"message-img-viewer",staticStyle:{"z-index":"9999"},attrs:{"on-close":n.closeViewBigImage,"show-operate-btn":!0,"initial-index":0,msgId:null===(e=n.generateInfo)||void 0===e?void 0:e.task_id,loraModels:{},message:l(l({},n.params),n.imageInfo),hoverBtnRenderList:n.btnList,"url-list":n.viewImageList},on:{uploadMate:n.uploadMate,imageOperate:n.handleImageOperate,handleAnimate:function(t){return n.handleClick("animGen")}}}):n._e()],1)}),[],!1,null,"7671e768",null);e.default=component.exports},1178:function(t,e,n){"use strict";n.r(e);n(24);var o=n(34),r={name:"TextFlip",props:{isActive:{type:Boolean,default:!1},duration:{type:Number,default:2},timingFunction:{type:String,default:"cubic-bezier(0.34, 1.56, 0.64, 1)"},perspective:{type:Number,default:1500}}},l=function(){Object(o.useCssVars)((function(t,e){return{"4f96382f":t.duration+"s","354c14f7":t.timingFunction}}))},c=r.setup;r.setup=c?function(t,e){return l(),c(t,e)}:l;var d=r,h=(n(4520),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flip-container",style:{perspective:t.perspective+"px"}},[e("div",{staticClass:"text-flip",class:{"smooth-flip-active-fast":t.isActive}},[t._t("default")],2)])}),[],!1,null,"11923218",null);e.default=component.exports},1180:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(3),r=n(2);n(20),n(19),n(24);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var c={name:"ScrollLoadMore",props:{offset:{type:Number,default:100},containerStyle:{type:Object,default:function(){return{height:"400px",overflowY:"auto"}}},loadData:{type:Function,required:!0},useWindow:{type:Boolean,default:!1},params:{type:Object,default:function(){return{page:1,limit:30}}}},data:function(){return{list:[],dataForm:this.getMergedForm(this.params),loading:!1,hasMore:!0}},computed:{isShowLoading:function(){return 1!==this.dataForm.page},pageLoading:function(){return 1===this.dataForm.page&&this.loading},loadingText:function(){return this.hasMore?this.loading?this.$t("Loading")+"...":"":this.$t("NoMoreData")}},methods:{getMergedForm:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({page:1,limit:30},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},reset:function(){this.innerForm=this.getMergedForm(this.params),this.list=[],this.hasMore=!0,this.loading=!1,this.loadMore()},loadMore:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading&&t.hasMore){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,t.loadData(t.dataForm);case 6:o=e.sent,r=null!==(n=o.data)&&void 0!==n?n:{},l=r.items,c=void 0===l?[]:l,d=r.has_more,t.list=t.list.concat(c),t.hasMore=d,d&&t.dataForm.page++,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("加载数据失败",e.t0);case 16:return e.prev=16,t.$emit("loadEnd",t.list),t.loading=!1,e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[3,13,16,20]])})))()},onScroll:function(){if(!this.loading&&this.hasMore){var t,e,n;if(this.useWindow)t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=window.innerHeight,e=document.documentElement.scrollHeight;else{var o=this.$refs.scrollContainer;t=o.scrollTop,n=o.clientHeight,e=o.scrollHeight}e-(t+n)<=this.offset&&this.loadMore()}}},watch:{params:{deep:!0,handler:function(){this.reset()}}},mounted:function(){this.useWindow&&window.addEventListener("scroll",this.onScroll),this.loadMore()},beforeDestroy:function(){this.useWindow&&window.removeEventListener("scroll",this.onScroll)}},d=c,h=(n(4862),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return t.useWindow?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"scroll-container"},[t._t("default",null,{list:t.list}),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoading,expression:"isShowLoading"}],staticClass:"loading"},[t._v(t._s(t.loadingText))])],2):e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],ref:"scrollContainer",staticClass:"scroll-container",style:t.containerStyle,on:{scroll:t.onScroll}},[t._t("default",null,{list:t.list}),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoading,expression:"isShowLoading"}],staticClass:"loading"},[t._v(t._s(t.loadingText))])],2)}),[],!1,null,"365997c3",null);e.default=component.exports},1183:function(t,e,n){"use strict";n.r(e);n(31),n(18),n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(14),r=n(2),l=(n(19),n(69),n(24),n(40),n(26),n(526)),c=n(58),d=n(1);n(25);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={name:"RatingReview",props:{AIAppInfo:{type:Object,default:function(){return{id:"",name:"",type:"",samples:[],nsfw:0}}},comeForm:{type:String,default:"comfyui"},score:{type:Number,default:0},list:{type:Array,default:function(){return[]}}},computed:f(f({},Object(d.c)(["isLoggedIn","userInfo"])),{},{combinedList:function(){return[].concat(Object(o.a)(this.list),Object(o.a)(this.mockList))},comfyuitType:function(){var t;return 2===(null===(t=this.AIAppInfo)||void 0===t?void 0:t.type)?"workflow":"app"}}),data:function(){return{mockList:[],loading:!1,reviewText:""}},created:function(){console.log(this.evaluateData)},methods:{handleScroll:function(){var t=this.$refs.scrollWrapper;try{t&&t.scrollTop+t.clientHeight>=t.scrollHeight-30&&this.getList()}catch(t){}},changeRate:function(t){var e,n=this;if(!this.isLoggedIn)return this.$EventBus.$emit("openLoginDialog"),void(this.score=0);"comfyuiAppDetail"==this.from&&this.$logEvent("log_actions",{operation:"click_stars",behavior_info:"on_comfyui_app_page"}),Object(l.a)({obj_account_id:null===(e=this.userInfo)||void 0===e?void 0:e.id,obj_id:this.evaluateData.id,obj_type:this.obj_type,rating:t}).then((function(t){1e4===t.status.code&&(n.$message.success(n.$t("evaluate_success")),setTimeout((function(){n.getList(!0)}),500))}))},handleDate:function(t){return Object(c.d)(t,Date.now())},submitReview:function(){if(!this.isLoggedIn)return this.$EventBus.$emit("openLoginDialog"),void(this.score=0);console.log(this.reviewText)}}},v=(n(4960),n(0)),component=Object(v.a)(m,(function(){var t,e,o,r,l,c,d,h,f,m,v,_,y,w=this,C=w._self._c;return C("div",{staticClass:"rating-review"},[C("div",{staticClass:"score-play"},["comfyui"===w.comeForm?C("div",{staticClass:"models flex flex-wrap"},[C("div",{staticClass:"review-title"},[C("div",{staticClass:"review-title-text"},[w._v(w._s(w.$t("write_your_review2")))]),w._v(" "),C("div",{staticClass:"review-title-desc"},[w._v(w._s(w.$t("write_your_review3")))])]),w._v(" "),C("div",{staticClass:"model-item flex items-center"},[C("img",{staticClass:"model-cover",attrs:{src:null===(t=w.AIAppInfo)||void 0===t||null===(t=t.samples[0])||void 0===t?void 0:t.url,alt:null===(e=w.AIAppInfo)||void 0===e?void 0:e.name}}),w._v(" "),C("div",{staticClass:"model-cont flex flex-col"},[C("div",{staticClass:"model-type"},[C("span",[w._v("\n              "+w._s(w.comfyuitType)+"\n            ")])]),w._v(" "),C("div",{staticClass:"model-name text-no-wrap-2"},[w._v(w._s(null===(o=w.AIAppInfo)||void 0===o?void 0:o.name))])])])]):C("div",{staticClass:"models flex flex-wrap"},[C("a",{key:"model_".concat(null===(r=w.AIAppInfo)||void 0===r?void 0:r.id),staticClass:"model-item flex items-center",attrs:{href:w.localePath("/models/detail/".concat(w.AIAppInfo.id))},on:{click:function(t){return t.preventDefault(),w.goModelDtl(w.AIAppInfo.id)}}},[null!==(l=w.AIAppInfo)&&void 0!==l&&null!==(l=l.samples[0])&&void 0!==l&&l.url&&1!==(null===(c=w.AIAppInfo)||void 0===c?void 0:c.nsfw)?C("img",{ref:"modelCover".concat(null===(d=w.AIAppInfo)||void 0===d?void 0:d.id),staticClass:"model-cover",attrs:{src:(null===(h=w.AIAppInfo)||void 0===h||null===(h=h.samples[0])||void 0===h?void 0:h.url)||"",alt:null===(f=w.AIAppInfo)||void 0===f?void 0:f.name},on:{error:function(t){var e,n;return w.imgError(null===(e=w.AIAppInfo)||void 0===e?void 0:e.samples[0],w.$refs["modelCover".concat(null===(n=w.AIAppInfo)||void 0===n?void 0:n.id)])}}}):C("img",{staticClass:"model-cover",attrs:{src:n(217),alt:""}}),w._v(" "),C("div",{staticClass:"model-cont flex flex-col"},[C("div",{staticClass:"model-type"},[C("span",{class:{isLora:"Checkpoint"!==(null===(m=w.AIAppInfo)||void 0===m?void 0:m.type)}},[w._v(w._s("TextualInversion"===(null===(v=w.AIAppInfo)||void 0===v?void 0:v.type)?w.$t("embedding1"):null===(_=w.AIAppInfo)||void 0===_?void 0:_.type))])]),w._v(" "),C("div",{staticClass:"model-name text-no-wrap-2"},[w._v(w._s(null===(y=w.AIAppInfo)||void 0===y?void 0:y.name))])])])]),w._v(" "),C("el-rate",{attrs:{"void-icon-class":"el-icon-star-on",colors:["#FFC224","#FFC224","#FF9900"]},on:{change:w.changeRate},model:{value:w.score,callback:function(t){w.score=t},expression:"score"}}),w._v(" "),C("div",{staticClass:"review-input"},[C("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:w.$t("write_your_review1"),rows:3,resize:"none"},model:{value:w.reviewText,callback:function(t){w.reviewText=t},expression:"reviewText"}}),w._v(" "),C("el-button",{staticClass:"submit-btn",attrs:{type:"primary"},on:{click:w.submitReview}},[w._v(w._s(w.$t("Submit")))])],1)],1),w._v(" "),C("div",{directives:[{name:"loading",rawName:"v-loading",value:w.loading,expression:"loading"}],ref:"scrollWrapper",staticClass:"user-score",on:{scroll:w.handleScroll}},w._l(w.combinedList,(function(t,e){var n,o,r,l;return C("div",{key:e,staticClass:"list"},[C("el-rate",{attrs:{"void-icon-class":"el-icon-star-on",disabled:"",colors:["#FFC224","#FFC224","#FFC224"],"score-template":String(t.rating)},model:{value:t.rating,callback:function(e){w.$set(t,"rating",e)},expression:"item.rating"}}),w._v(" "),C("div",{staticClass:"info"},[null!==(n=t.account)&&void 0!==n&&n.head?C("img",{staticClass:"avatar",attrs:{src:null===(r=t.account)||void 0===r?void 0:r.head}}):C("div",{staticClass:"avatar-name"},[w._v("\n          "+w._s(null===(o=t.account)||void 0===o?void 0:o.name.slice(0,1).toUpperCase())+"\n        ")]),w._v(" "),C("div",{staticClass:"info-detail"},[C("span",{staticClass:"name"},[w._v(w._s(null===(l=t.account)||void 0===l?void 0:l.name))]),w._v(" "),C("span",{staticClass:"date"},[w._v(w._s(w.handleDate(null==t?void 0:t.update_at)))])])])],1)})),0)])}),[],!1,null,"2493df6e",null);e.default=component.exports},1184:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(13),n(7);var o=n(2),r=(n(19),n(6),n(18),n(8),n(4),n(28),n(44),n(139)),l=n(1);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var d={data:function(){var t;return{zoom:!1,review:null===(t=this.$route.query)||void 0===t?void 0:t.review}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(l.e)("user",["adminOff"])),methods:{reviewHandle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=this.$route,l=o.params.id,c=o.query.tag,d="ArtWorkDetail"===o.name?4:5;Object(r.p)({obj_id:l,obj_type:d,show_in:n,status:t,tag_id:c}).then((function(t){e.$message.success(e.$t("OperateSuccess")),e.nextHandle(l)}))},nextHandle:function(t){var e,n=localStorage.getItem("reviewList");if(null!==(e=n=(n=n?JSON.parse(n):[]).filter((function(e){return e.id!==t})))&&void 0!==e&&e.length){localStorage.setItem("reviewList",JSON.stringify(n));var o=n[0],r=o.id,l=o.obj_type,c=this.$route.query,path=(4===l?"/artWorkDetail/":"/video/")+"".concat(r,"?review=1&tag=").concat(null==c?void 0:c.tag);this.$router.replace(path)}else this.$router.back()}}},h=d,f=(n(4976),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.review&&t.adminOff,expression:"review && adminOff"}],staticClass:"review-post",class:{"close-post":t.zoom}},[e("div",{staticClass:"btn",on:{click:function(e){return t.reviewHandle(1,1)}}},[t._v(t._s(t.$t("Pass")))]),t._v(" "),e("div",{staticClass:"btn not",on:{click:function(e){return t.reviewHandle(2,1)}}},[t._v(t._s(t.$t("NOTPass")))]),t._v(" "),e("div",{staticClass:"btn",on:{click:function(e){return t.reviewHandle(1,2)}}},[t._v(t._s(t.$t("PassToPost")))]),t._v(" "),e("span",{staticClass:"zoom",on:{click:function(e){t.zoom=!t.zoom}}})])}),[],!1,null,"0cbc538e",null);e.default=component.exports},119:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=n(1),l=n(102);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={data:function(){return{trailBtnLoading:!1,hasAccelerated:!1}},props:{quickOptions:{type:Object,default:function(){return{}}},quickStyle:{type:Object,default:function(){return{}}}},computed:d(d(d({isShow:function(){var t=this.quickOptions,e=1==t.status,n=1===t.speed_type;return!this.isVip&&e&&n&&!this.hasAccelerated}},Object(r.e)("payment",["paymentInfo"])),Object(r.c)("user",["isCompanyAccount"])),{},{isVip:function(){var t,e;return(null===(t=this.paymentInfo)||void 0===t?void 0:t.activeState)||(null===(e=this.paymentInfo)||void 0===e?void 0:e.liteActiveState)||this.isCompanyAccount}}),methods:{handleTrialFastQueue:function(){var t=this,e=this.quickOptions,n=e.id,o=void 0===n?"":n,r=e.task_id,c=void 0===r?"":r;this.trailBtnLoading=!0,Object(l.c)({id:c||o}).then((function(e){var n,code=null==e||null===(n=e.status)||void 0===n?void 0:n.code;70010===code?(t.$emit("showDialog"),t.$EventBus.$emit("showBreakDialog","FastQueueTipWeb","basic")):1e4===code&&(t.hasAccelerated=!0,t.$message.success(t.$t("AccelerateSuccess")),t.$emit("success")),t.trailBtnLoading=!1}))}}},f=(n(4142),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return t.isShow?e("el-button",{staticClass:"message-process-operate-btn-common fast-queue",style:t.quickStyle,attrs:{size:"mini",loading:t.trailBtnLoading},on:{click:t.handleTrialFastQueue}},[e("i",{staticClass:"iconfont icon-trail-fast-queue"}),t._v(" "),e("span",{staticClass:"words"},[t._v(t._s(t.$t("TrialFastQueue")))])]):t._e()}),[],!1,null,"5115f9e3",null);e.default=component.exports},124:function(t,e,n){"use strict";n.r(e);n(19),n(18),n(11),n(12),n(13),n(8);var o=n(2),r=(n(6),n(16),n(22),n(24),n(4),n(21),n(7),n(27)),l=n(10),c=n(35),d=n.n(c),h=n(1),f=n(45),m=n(249),v=n(102),_=n(46);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={name:"SaveTo",mixins:[f.a],props:{showArrowIcon:{type:Boolean,default:!0},popperClass:{type:String,default:"folderList save-to-popover"},width:{type:Number,default:309},disabled:{type:Boolean,default:!1},placement:{type:String,default:"bottom-start"},visibleArrow:{type:Boolean,default:!1},title:{type:String,default:""},trigger:{type:String,default:"click"},category:{type:Boolean,default:!0},type:{type:String,default:"artwork"},checkList:{type:Object,default:function(){return{ids:[],collectIds:[]}}},message:{type:Object,default:function(){}},operateNumber:{type:Number,default:1},isBatchSave:{type:Boolean,default:!1},batchSaveParams:{type:Array,default:function(){return[]}},allowCreateCollect:{type:Boolean,default:!0},isColorBtn:{type:Boolean,default:!1}},components:{CollectionCreate:m.default},data:function(){return{replaceImageType:l.K,dialogVisible:!1,isLoding:!1,keyword:"",onloading:!1,folderlist:[],createShow:!1}},computed:w(w({},Object(h.e)("user",["userInfo"])),{},{filteredList:function(){var t=this;return this.folderlist.filter((function(e){return e.name.includes(t.keyword)&&"all"!=e.id&&"default"!=e.id&&e.name!==t.$route.query.name}))},getBannerUrl:function(){var t=this.message.img_uris,e=(void 0===t?[]:t)[this.operateNumber-1].url;return(void 0===e?"":e)||""}}),watch:{dialogVisible:{handler:function(t){this.keyword="",t?(this.onloading=!0,this.getCollectionList()):this.folderlist=[]}}},methods:{openModal:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},doShow:function(){try{this.$refs.popover.doShow()}catch(t){}},handleClickCreate:function(){var t;this.createShow=!0,null!==(t=this.batchSaveParams)&&void 0!==t&&t.length&&this.isColorBtn&&this.$logEvent("log_actions",{operation:"click_create_folder",behavior_info:"on_new_create_flow_page"})},getCollectionList:function(){var t=this;Object(r.J)({type:1,category:2}).then((function(e){t.onloading=!1;var n=d()(e.data.items);n.forEach((function(element){element.imgList=[];var e=element.artwork_items?element.artwork_items:null;if(e){var n={url:1==e.status&&(2==e.primary||e.account_no==t.userInfo.id)&&e.banner&&e.banner.url?e.banner.url:null,nsfw:e.nsfw,id:e.id};element.imgList.push(n)}})),t.folderlist=n}))},moveCollect:function(t){var e=this;if(this.isBatchSave)this.batchMoveCollect(t);else{this.isLoding=!0;var n=this.message,o=n.id,r=void 0===o?"":o,l=n.img_uris,c=(void 0===l?[]:l)[this.operateNumber-1].index,d=void 0===c?"":c;Object(v.a)({folder_no:(null==t?void 0:t.id)||"default",id:r,index:d}).then((function(){e.$emit("saveSuccess",d),e.dialogVisible=!1,["",null,void 0].includes(null==t?void 0:t.name)?e.$message.success(e.$t("SaveSuccess")):e.$message.success(e.$t("collectCreate5",{name:null==t?void 0:t.name}))})).finally((function(){e.isLoding=!1}))}},batchMoveCollect:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isLoding=!0;var n={};n.items=(this.batchSaveParams||[]).map((function(t){return{folder_no:(null==e?void 0:e.id)||"default",id:null==t?void 0:t.id,index:null==t?void 0:t.index}})),Object(_.easyBatchSaveParams)(n).then((function(){t.$emit("saveSuccess"),["",null,void 0].includes(e.name)?t.$message.success(t.$t("SaveSuccess")):t.$message.success(t.$t("collectCreate5",{name:null==e?void 0:e.name}))})).finally((function(){t.isLoding=!1}))},newCreate:function(t){this.dialogVisible=!1,this.moveCollect(t),this.$emit("newCreate")}}},x=C,O=(n(4058),n(0)),component=Object(O.a)(x,(function(){var t=this,e=t._self._c;return e("el-popover",{ref:"popover",attrs:{"popper-class":"".concat(t.popperClass," ").concat(t.createShow?"display_none":""),width:t.width,disabled:t.disabled,placement:t.placement,"visible-arrow":t.visibleArrow,title:t.title,trigger:t.trigger},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[e("div",{staticClass:"cltpop-cent"},[e("div",{staticStyle:{padding:"0 10px"}},[e("div",{staticClass:"search"},[e("i",{staticClass:"iconfont icon-folder-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:t.$t("Search")},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),t.onloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.onloading,expression:"onloading"}],staticClass:"loadbox"}):t._e(),t._v(" "),e("div",{staticClass:"list"},[e("div",{staticClass:"popTitle"},[t._v(t._s(t.$t("collectCreate1")))]),t._v(" "),e("div",{staticClass:"itembox",on:{click:function(e){return t.moveCollect()}}},[e("div",{staticClass:"itemboxinfo"},[e("div",{staticClass:"itemboxinfoleft"},[e("i",{staticClass:"iconfont icon-deff-mycollect"})]),t._v(" "),e("span",[t._v(t._s(t.$t("DefaultFolder")))])]),t._v(" "),e("el-button",{attrs:{loading:t.isLoding}},[t._v(t._s(t.$t("Save")))])],1),t._v(" "),e("div",{staticClass:"popTitle"},[t._v(t._s(t.$t("collectCreate3")))]),t._v(" "),t._l(t.filteredList,(function(n,o){return e("div",{key:o,staticClass:"itembox",on:{click:function(e){return t.moveCollect(n)}}},[e("div",{staticClass:"itemboxinfo"},[e("div",{staticClass:"itemboxinfoleft"},[n.imgList&&n.imgList[0]&&n.imgList[0].url?e("img",{attrs:{decoding:"async",loading:"lazy",src:t.replaceImageType(n.imgList[0].url,"high")}}):e("i",{staticClass:"iconfont icon-deff-collect"})]),t._v(" "),e("span",[t._v(t._s(n.name))])]),t._v(" "),e("el-button",{attrs:{loading:t.isLoding}},[t._v(t._s(t.$t("Save")))])],1)}))],2)]),t._v(" "),t.allowCreateCollect?e("div",{staticClass:"create"},[e("div",{staticClass:"itembox",on:{click:t.handleClickCreate}},[e("div",{staticClass:"itemboxinfo"},[e("div",{staticClass:"itemboxinfoleft"},[e("i",{staticClass:"el-icon-plus"})]),t._v(" "),e("span",[t._v(t._s(t.$t("createPortfolio")))])])])]):t._e()]),t._v(" "),e("div",{staticClass:"save-to-btn",attrs:{slot:"reference"},slot:"reference"},[t._t("default"),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showArrowIcon,expression:"showArrowIcon"}],staticClass:"el-icon-arrow-down",style:{transform:t.dialogVisible?"rotate(180deg)":null}})],2),t._v(" "),t.allowCreateCollect?e("collection-create",{attrs:{category:t.category,width:"718px",checkList:t.checkList,type:t.type,banner:t.getBannerUrl,"from-page":"saveModal",isColorBtn:!0},on:{create:t.newCreate},model:{value:t.createShow,callback:function(e){t.createShow=e},expression:"createShow"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CollectionCreate:n(249).default})},129:function(t,e,n){"use strict";n.r(e);var o={name:"NoData",props:{imgSrc:{type:String,default:n(1519)},tips:{type:String,default:"no_data"}}},r=(n(4270),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-data"},[e("img",{attrs:{src:t.imgSrc,alt:"empty"}}),t._v(" "),e("div",{staticClass:"desc"},[t._v(t._s(t.$t(t.tips)))])])}),[],!1,null,"7df5e8bb",null);e.default=component.exports},144:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(12),n(13),n(8),n(7);var o=n(2),r=(n(19),n(6),n(4),n(28),n(113),n(44),n(26),n(10)),l=n(1),c=n(39),d=n(147);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={name:"ShareDialog",props:{type:{type:String,default:""},workId:{type:String,default:""},showDownload:{type:Boolean,default:!0}},data:function(){return{saveImg:r.M,copyTextToClipboard:r.g,isShowDialog:!1,shareUrl:"",posterImage:"",fileUrl:"",shareText:"",shareHashTag:"SeaArt,AIart,AIイラスト,stablediffusion",pageName:"work_detail_page",filename:"share",objId:"",objType:0,config:[{name:"Pinterest",icon:"icon-pinpin",color:"#111",bgColor:"#fff"},{name:"Facebook",icon:"icon-facebook",color:"#111",bgColor:"#fff"},{name:"X",icon:"icon-X1",color:"#111",bgColor:"#fff"},{name:"WhatsApp",icon:"icon-whatsapp",color:"#111",bgColor:"#fff"},{name:"Download",icon:"icon-Download",color:"#111",bgColor:"#fff"}]}},computed:f(f({},Object(l.c)("user",["userInfo","isLoggedIn"])),{},{getPosterBgStyle:function(){return{backgroundImage:"url("+this.posterImage+")"}},getIconStyle:function(){return function(t){return{color:t.color,backgroundColor:t.bgColor}}},connectConfig:function(){return this.$isChinaSite?this.config.filter((function(t){return"Download"===t.name})):this.config}}),methods:f(f({},Object(l.b)("user",["getAccountInfo"])),{},{show:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";this.shareText=this.$t("HomeTitle"),this.isShowDialog=!0,this.shareUrl=t,this.fileUrl=e,this.posterImage=this.videoToImage(e),this.filename=n||this.filename,this.pageName=o||this.pageName,this.objId=r||this.objId,this.objType=l||this.objType},close:function(){this.isShowDialog=!1},resetData:function(){this.shareUrl="",this.posterImage=""},handleCopyLink:function(){this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_"+this.pageName,behavior_info_sub:"click_copyLink"}),this.copyTextToClipboard(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},downloadImg:function(){this.isLoggedIn?this.fileUrl&&this.saveImg(this.fileUrl,this.filename):this.$EventBus.$emit("openLoginDialog")},handleClick:function(t){switch(Object(c.i)({items:[{action:"share",obj_no:this.objId,obj_type:this.objType}]}),this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_"+this.pageName,behavior_info_sub:"click_".concat(t.name)}),t.name){case"Pinterest":case"Facebook":case"X":case"WhatsApp":this.handleShare(t.name);break;case"Download":this.downloadImg()}},handleShare:function(t){var e=this,n={Pinterest:"https://www.pinterest.com/pin/create/button/?url=",Facebook:"https://www.facebook.com/sharer/sharer.php?u=",X:"https://twitter.com/intent/tweet?",WhatsApp:"https://web.whatsapp.com/send?"};switch(t){case"Pinterest":var o=window.open(n[t]+encodeURIComponent(this.shareUrl)+"&media="+encodeURIComponent(this.posterImage)+"&description="+encodeURIComponent(this.shareText),"share","width=600,height=700,menubar=no,toolbar=no"),r=setInterval((function(){o.closed&&(clearInterval(r),1!==e.userInfo.is_pinterest_share_award&&Object(d.m)().then((function(){e.getAccountInfo()})))}),500);break;case"Facebook":window.open(n[t]+encodeURIComponent(this.shareUrl),"_blank");break;case"X":window.open(n[t]+"url="+encodeURIComponent(this.shareUrl)+"&text="+encodeURIComponent(this.shareText)+"&hashtags="+encodeURIComponent(this.shareHashTag),"_blank");break;case"WhatsApp":var text=encodeURIComponent("".concat(this.shareText," ").concat(this.shareUrl));window.open(n[t]+"text="+text,"_blank")}},videoToImage:function(t){return t.endsWith(".mp4")?t.replace(".mp4","_low.webp"):t}})},v=m,_=(n(3902),n(0)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"share-dialog custom-dialog",attrs:{visible:t.isShowDialog,"append-to-body":"","show-close":!1,"destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},closed:t.resetData}},[e("div",{staticClass:"close-icon",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{staticClass:"container",attrs:{id:"capture"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"slogan"},[t._v(t._s(t.$t("ShareLink")))])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"desc"},[t._v("\n        "+t._s(t.$t("shareDlgTitleSub"))+"\n      ")]),t._v(" "),e("div",{staticClass:"share-networks"},t._l(t.connectConfig,(function(o,r){var l;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDownload||"Download"!==o.name,expression:"showDownload || item.name !== 'Download'"}],key:"network_"+r,staticClass:"network",on:{click:function(e){return t.handleClick(o)}}},[e("i",{class:"iconfont icon-"+o.icon,style:t.getIconStyle(o)}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"Pinterest"===o.name&&1!==(null===(l=t.userInfo)||void 0===l?void 0:l.is_pinterest_share_award),expression:"item.name === 'Pinterest' && userInfo?.is_pinterest_share_award !== 1"}],staticClass:"indicator"},[e("div",{staticClass:"indicator-content"},[e("img",{staticClass:"indicator-icon",attrs:{src:n(160)}}),t._v(" "),e("span",{staticClass:"indicator-text"},[t._v("+20")])]),t._v(" "),e("div",{staticClass:"indicator-arrow"})])])})),0)]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("workLink")))]),t._v(" "),e("div",{staticClass:"link-holder flex_m"},[e("p",{staticClass:"link line-one"},[t._v(t._s(t.shareUrl))]),t._v(" "),e("div",{staticClass:"btn flex_c_m",on:{click:t.handleCopyLink}},[e("i",{staticClass:"iconfont icon-fuzhi2"}),t._v("\n          "+t._s(t.$t("OPS_copy"))+"\n        ")])])])])])}),[],!1,null,"19e5e319",null);e.default=component.exports},1551:function(t,e,n){t.exports={}},1557:function(t,e,n){t.exports={}},1559:function(t,e,n){t.exports={}},1560:function(t,e,n){t.exports={}},1561:function(t,e,n){t.exports={}},1562:function(t,e,n){t.exports={}},1563:function(t,e,n){t.exports={}},1572:function(t,e,n){t.exports={}},1578:function(t,e,n){t.exports={}},1579:function(t,e,n){t.exports={}},1580:function(t,e,n){t.exports={}},1585:function(t,e,n){t.exports={}},1586:function(t,e,n){t.exports={}},1587:function(t,e,n){t.exports={}},1588:function(t,e,n){t.exports={}},1589:function(t,e,n){t.exports={}},1590:function(t,e,n){t.exports={}},1592:function(t,e,n){t.exports={}},1593:function(t,e,n){t.exports={}},1594:function(t,e,n){t.exports={}},1599:function(t,e,n){t.exports={}},1600:function(t,e,n){t.exports={}},1601:function(t,e,n){t.exports={}},1603:function(t,e,n){t.exports={}},1604:function(t,e,n){t.exports={}},1605:function(t,e,n){t.exports={}},1606:function(t,e,n){t.exports={}},1607:function(t,e,n){t.exports={}},1609:function(t,e,n){t.exports={}},1610:function(t,e,n){t.exports={}},1611:function(t,e,n){t.exports={}},1612:function(t,e,n){t.exports={}},1642:function(t,e,n){t.exports={}},1643:function(t,e,n){t.exports={}},1644:function(t,e,n){t.exports={}},1646:function(t,e,n){t.exports={}},1647:function(t,e,n){t.exports={}},1648:function(t,e,n){t.exports={}},1649:function(t,e,n){t.exports={}},1650:function(t,e,n){t.exports={}},1653:function(t,e,n){t.exports={}},1654:function(t,e,n){t.exports={}},1655:function(t,e,n){t.exports={}},1656:function(t,e,n){t.exports={}},1657:function(t,e,n){t.exports={}},1666:function(t,e,n){t.exports={}},1690:function(t,e,n){t.exports={}},1699:function(t,e,n){t.exports={}},1711:function(t,e,n){t.exports={}},1718:function(t,e,n){t.exports={}},1721:function(t,e,n){t.exports={}},1722:function(t,e,n){t.exports={}},1731:function(t,e,n){t.exports={}},1784:function(t,e,n){t.exports={}},1785:function(t,e,n){t.exports={}},1786:function(t,e,n){t.exports={}},1787:function(t,e,n){t.exports={}},1789:function(t,e,n){t.exports={}},1790:function(t,e,n){t.exports={}},1791:function(t,e,n){t.exports={}},1792:function(t,e,n){t.exports={}},1793:function(t,e,n){t.exports={}},180:function(t,e,n){"use strict";n.r(e);n(152),n(24);var o={props:{item:{type:Object,default:function(){return{}}},leftName:{type:String,default:""},rightName:{type:String,default:"more"},link:{type:String,default:""},indexes:{type:Number,default:1},marginBottom:{type:String,default:"10px"}},data:function(){return{}},methods:{goPage:function(){window.open(this.link)}}},r=(n(5534),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return t.leftName?e("div",{staticClass:"title-box flex_m",style:{marginBottom:t.marginBottom}},[e("div",{staticClass:"left"},[0===t.indexes?e("h1",{staticClass:"line-one title"},[t._v("\n      "+t._s(t.leftName)+"\n    ")]):t._e(),t._v(" "),t.indexes>0?e("h2",{staticClass:"line-one title"},[t._v("\n      "+t._s(t.leftName)+"\n    ")]):t._e(),t._v(" "),t.item.sub_title?e("p",{staticClass:"sub-title"},[t._v(t._s(t.item.sub_title))]):t._e()]),t._v(" "),t.link?e("div",{staticClass:"more flex_m"},[e("a",{staticClass:"text",attrs:{href:t.link},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goPage.apply(null,arguments)}}},[t._v(t._s(t.$t("more")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})]):t._e()]):t._e()}),[],!1,null,"1a252922",null);e.default=component.exports},1820:function(t,e,n){t.exports={}},1821:function(t,e,n){t.exports={}},1822:function(t,e,n){t.exports={}},1823:function(t,e,n){t.exports={}},1824:function(t,e,n){t.exports={}},1831:function(t,e,n){t.exports={}},1832:function(t,e,n){t.exports={}},1833:function(t,e,n){t.exports={}},1834:function(t,e,n){t.exports={}},1835:function(t,e,n){t.exports={}},1836:function(t,e,n){t.exports={}},1842:function(t,e,n){t.exports={}},1843:function(t,e,n){t.exports={}},1844:function(t,e,n){t.exports={}},1846:function(t,e,n){t.exports={}},1854:function(t,e,n){t.exports={}},1855:function(t,e,n){t.exports={}},1860:function(t,e,n){t.exports={}},1861:function(t,e,n){t.exports={}},1946:function(t,e,n){t.exports={}},1947:function(t,e,n){t.exports={}},1973:function(t,e,n){t.exports={}},2009:function(t,e,n){t.exports={}},2030:function(t,e,n){t.exports={}},2031:function(t,e,n){t.exports={}},2032:function(t,e,n){t.exports={}},2033:function(t,e,n){t.exports={}},2034:function(t,e,n){t.exports={}},2035:function(t,e,n){t.exports={}},2036:function(t,e,n){t.exports={}},2037:function(t,e,n){t.exports={}},2038:function(t,e,n){t.exports={}},2039:function(t,e,n){t.exports={}},2040:function(t,e,n){t.exports={}},2041:function(t,e,n){t.exports={}},2076:function(t,e,n){t.exports={}},2077:function(t,e,n){t.exports={}},2082:function(t,e,n){t.exports={}},2088:function(t,e,n){t.exports={}},212:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=n(30),d=n(3),h=(n(20),n(16),n(24),n(3892),n(28),n(21),n(40),n(140),n(41),n(26),n(83)),f=n(51),m=(n(4012),n(3109)),v={model:{prop:"htmlStr",event:"onChange"},props:{customFileSelect:{type:Boolean,default:!1},uploadCategory:{type:Number,default:19},htmlStr:{type:String,default:""},height:{type:String,default:"200px"},toolbarConfig:{type:Object,default:function(){return{toolbarKeys:m.toolbarKeys}}},editorConfig:{type:Object,default:function(){return{}}},isErr:{type:Boolean,default:!1},defaultProps:{type:Object,default:function(){return{}}},placeholder:{type:String,default:""}},components:{HyUploadMoald:h.default},computed:{editorConfigBase:function(){var t=this,e=this.customFileSelect?{customBrowseAndUpload:function(e){t.openUploadModal(e,"image")}}:{customUpload:function(e,n){t.uploadImageFn(e,n)}},n=this.customFileSelect?{customBrowseAndUpload:function(e){t.openUploadModal(e,"video")}}:{customUpload:function(e,n){t.uploadImageFn(e,n)}};return{placeholder:this.placeholder,MENU_CONF:{uploadImage:e,uploadVideo:n}}}},data:function(){return{currentInsertFn:null,fileTypes:["image","video"],editor:null,toolBarComponent:null,editorComponent:null}},mounted:function(){this.loadEditor()},methods:{checkFileSize:function(t){for(var e=!0,n=this.fileTypes.includes("image")?"image":"video",o=0;o<t.length;o++){var element=t[o];if("video"===n&&element.size>10485760){this.$message.error(this.$t("maxUploadMaterialSize",{size:10})),e=!1;break}if("image"===n&&element.size>52428800){this.$message.error(this.$t("maxUploadMaterialSize",{size:50})),e=!1;break}}return e},checkMediaCount:function(t){try{var e=this.editor?this.editor.getHtml():this.htmlStr||"",n=this.countMediaInContent(e).totalCount,o=n+t;return console.log("当前编辑器媒体数量:",n,"待插入数量:",t,"总数:",o),!(o>5)||(this.$message.error(this.$t("characterFirstMsgUploadMax")||"媒体文件总数不能超过5个"),!1)}catch(t){return console.error("检查媒体总数时出错:",t),!0}},countMediaInContent:function(){var content=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!content)return{imgCount:0,videoCount:0,totalCount:0};var t=content.match(/<img[^>]*>/g)||[],e=content.match(/<video[^>]*>/g)||[],n=t.length,o=e.length;return{imgCount:n,videoCount:o,totalCount:n+o}},handleBeforeUpload:function(t){var e=t.file,n=t.fileList;return console.log("handleBeforeUpload--",e,n),!!this.checkFileSize(n)&&!!this.checkMediaCount(n.length)},openUploadModal:function(t,e){this.fileTypes="image"===e?["image","gif"]:["video"],this.currentInsertFn=t,this.$refs.hyUploadMoald.openModal(e)},loadEditor:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var o,r,l,d,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([n.e(2),n.e(4),n.e(1),n.e(15),n.e(11),n.e(10),n.e(13),n.e(0),n.e(7),n.e(14),n.e(3),n.e(5),n.e(6),n.e(12),n.e(9),n.e(8),n.e(16)]).then(n.t.bind(null,5716,7));case 3:return e.next=5,Promise.all([n.e(28).then(n.bind(null,6344)),Promise.all([n.e(28),n.e(158)]).then(n.bind(null,6364))]);case 5:o=e.sent,r=Object(c.a)(o,2),l=r[0],d=r[1],h=["zhTW","zhCN"].includes(t.$i18n.locale),f=h?"zh-CN":"en",t.editorComponent=d.Editor,t.toolBarComponent=d.Toolbar,l.i18nChangeLanguage(f),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()},onCreated:function(t){this.editor=Object.seal(t)},onChange:function(t){t.isEmpty()?this.$emit("onChange",""):this.$emit("onChange",t.getHtml())},setHtml:function(html){var t=this;setTimeout((function(){t.editor&&t.editor.setHtml(html)}),500)},handleConfirmResult:function(t){var e=this;console.log("处理上传确认结果",t),this.currentInsertFn&&this.checkMediaCount(t.length)&&(t.forEach((function(t){var n,o;if(t.url)if(1===(null===(n=t.info)||void 0===n?void 0:n.obj_type)&&7===(null===(o=t.info)||void 0===o?void 0:o.sub_obj_type)){var r,l=t.url||(null===(r=t.info)||void 0===r||null===(r=r.stream)||void 0===r?void 0:r.url3);e.currentInsertFn(l)}else e.currentInsertFn(t.url)})),this.currentInsertFn=null)},uploadImageFn:function(t,e){new f.a({type:this.uploadCategory}).startUpload(t).then((function(t){e(t),console.log(t)}))}}},_=v,y=(n(4013),n(0)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"editor-box",class:t.isErr&&"editor-box-err"},[e(t.toolBarComponent,t._b({tag:"component",staticClass:"tools-bar",attrs:{editor:t.editor,"default-config":t.toolbarConfig}},"component",t.defaultProps,!1)),t._v(" "),e(t.editorComponent,t._b({tag:"component",staticClass:"edit-works",style:{height:t.height},attrs:{value:t.htmlStr,"default-config":l({editorConfig:t.editorConfig},t.editorConfigBase)},on:{onCreated:t.onCreated,onChange:t.onChange}},"component",t.defaultProps,!1))],1),t._v(" "),e("HyUploadMoald",{ref:"hyUploadMoald",attrs:{isMultiSelect:"",category:t.uploadCategory,"file-types":t.fileTypes,uploadObj:{limit:5,multiple:!0},"before-upload":t.handleBeforeUpload},on:{onConfirm:t.handleConfirmResult}})],1)}),[],!1,null,"521c109b",null);e.default=component.exports},2155:function(t,e,n){t.exports={}},2210:function(t,e,n){t.exports={}},2220:function(t,e,n){t.exports={}},2226:function(t,e,n){t.exports={}},2231:function(t,e,n){t.exports={}},2261:function(t,e,n){t.exports={}},2278:function(t,e,n){t.exports={}},2281:function(t,e,n){t.exports={}},2285:function(t,e,n){t.exports={}},2286:function(t,e,n){t.exports={}},2300:function(t,e,n){t.exports={}},2353:function(t,e,n){t.exports={}},239:function(t,e,n){"use strict";n.r(e);var o=n(2),r=(n(11),n(6),n(22),n(12),n(13),n(8),n(4),n(7),n(24),n(98)),l=n(82),c=n(423),d=n(9);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={model:{prop:"keyword",event:"onChange"},components:{LenovoPanel:c.default},props:{keyword:{type:String,default:""},isLoca:{type:String,default:""},width:{type:Number,default:228},screen:{type:Object,default:function(){return{}}},sourceType:{type:Number,default:2},beType:{type:String,default:""}},data:function(){return{associateList:[],isFocus:!1,searchNoDataImg:n(669),debounceGetRelatedList:Object(r.a)(this.getRelatedList,500)}},computed:{showAssociate:function(){return this.isFocus&&this.keyword}},methods:{inputText:function(t){t?this.debounceGetRelatedList(t):this.associateList=[],this.$emit("onChange",t)},getRelatedList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.keyword;if(""!==e){var n=this.screen,o=n.activeTab,r=n.baseModelSelect,c=n.modelType,h=n.isStudioMode,m=n.isSimpleMode,v=n.model_types,_="mine"===o?[]:[o],y="creative"===this.isLoca,w={prefix:e,source_type:this.sourceType,except_num:10,type:c,model_types:v,tag:y?void 0:_,sub_type:y?void 0:r,list_a:y?r:void 0,list_b:y?_:void 0,input_types:this.beType?[this.beType]:[],output_types:this.beType?[this.beType]:[]};y&&(w.ss=d.e.GenerateSearch),(h||m)&&(w.mode="lab"),Object(l.e)(w).then((function(e){var n,o=(null==e||null===(n=e.data)||void 0===n?void 0:n.items)||[];t.associateList=o.map((function(t){return f(f({},t),{},{active:!1})}))}))}else this.associateList=[]},handAssoriateItem:function(t){this.$emit("onChange",t.title),this.$emit("onScreen",t.title),this.$refs.inputRef.blur()},findMore:function(){this.$emit("onScreen",this.keyword),this.$refs.inputRef.blur()},onFocusFn:function(){this.isFocus=!0,this.keyword&&this.debounceGetRelatedList()},onBlurFn:function(){this.isFocus=!1},onEnter:function(){this.$emit("onScreen",this.keyword),this.$refs.inputRef.blur()},clearFn:function(){this.$emit("onScreen","")}}},v=m,_=(n(4081),n(0)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"lenovo-inbox"},[e("el-input",t._g(t._b({ref:"inputRef",staticClass:"my-lenovo-input",class:t.isFocus&&"input-act",style:{width:t.width+"px"},attrs:{value:t.keyword},on:{focus:t.onFocusFn,blur:t.onBlurFn,input:t.inputText,clear:t.clearFn},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter.apply(null,arguments)}}},"el-input",t.$attrs,!1),t.$listeners),[e("template",{slot:"prefix"},[e("i",{staticClass:"iconfont icon-search"})])],2),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAssociate,expression:"showAssociate"}],staticClass:"lenovo-bard"},[e("div",{staticClass:"item-list",attrs:{id:"associateListId"}},[e("LenovoPanel",{ref:"LenovoPanelRef",attrs:{list:t.associateList,keyword:t.keyword,showType:2},on:{onClick:t.handAssoriateItem,mousedown:function(t){t.preventDefault()}}})],1),t._v(" "),t.associateList.length>0?e("div",{staticClass:"more-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.findMore.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[t._v("\n      "+t._s(t.$t("viewMore"))+"\n    ")]):t._e(),t._v(" "),0===t.associateList.length?[e("div",{staticClass:"no-search-box"},[e("el-image",{staticStyle:{width:"90px",height:"66px"},attrs:{src:t.searchNoDataImg}}),t._v(" "),e("p",[t._v(t._s(t.$t("NoSearchData")))])],1)]:t._e()],2)],1)}),[],!1,null,"124fbea5",null);e.default=component.exports;installComponents(component,{LenovoPanel:n(423).default})},2397:function(t,e,n){t.exports={}},2413:function(t,e,n){t.exports={}},2443:function(t,e,n){t.exports={}},2458:function(t,e,n){t.exports={}},251:function(t,e,n){"use strict";n.r(e);n(32),n(24),n(4);var o={name:"FlagItem",props:{type:{type:Number,default:1}},data:function(){return{list:[{value:1,label:"exclusive",icon:"icon-Frame3",bgcolor:"bg-exclusive"},{value:2,label:"debut",icon:"icon-PaperPlaneTilt",bgcolor:"bg-debut"},{value:3,label:"Hot",icon:"icon-FireSimple",bgcolor:"bg-hot"},{value:4,label:"upNew",icon:"icon-Star",bgcolor:"bg-upnew"},{value:5,label:"superValue",icon:"icon-Shield",bgcolor:"bg-super-value"},{value:6,label:"balanced",icon:"icon-Lightning",bgcolor:"bg-balanced"},{value:7,label:"OPS_quality",icon:"icon-a-Frame1010108446",bgcolor:"bg-quality"},{value:8,label:"Specialties",icon:"icon-CrownSimple",bgcolor:"bg-specialties"}]}},computed:{flagItem:function(){var t=this;return this.list.find((function(e){return e.value===t.type}))||{}}}},r=(n(3895),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("el-tooltip",{attrs:{effect:"dark",content:t.$t(t.flagItem.label),placement:"bottom"}},[t.flagItem.value?e("div",{staticClass:"flag-item",class:t.flagItem.bgcolor},[e("i",{staticClass:"iconfont",class:t.flagItem.icon}),t._v(" "),e("span",{staticClass:"flag-text line-one"},[t._v(t._s(t.$t(t.flagItem.label)))])]):t._e()])}),[],!1,null,"03b92c92",null);e.default=component.exports},252:function(t,e,n){"use strict";n.r(e);var o=n(10),r={inject:["CardApp"],props:{item:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{imgUrl:function(){var t,e=this.item,n=e.nsfw,o=e.obj_type;return 1===n&&9===o?"https://image.cdn2.seaart.ai/static/upload/20231207/39b3e881-ae85-415d-b7aa-74182b3b6267.webp":(null===(t=this.item)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.url)||""},logExposureParams:function(){var t=this.CardApp,e=t.getPosition,n=t.logData,o=void 0===n?{}:n,r=o.index,l=o.mIndex,c=o.entity_name,d={type:this.item.obj_type,id:this.item.id,pt:this.item.pt||"",position:e||"",index:r,mIndex:l,entity_name:c};return JSON.stringify(d)}},methods:{imgErrfn:function(t){t.target.style.display="none",Object(o.a)(this.imgUrl),Object(o.y)().length>=10&&(Object(o.P)("imgerr",Object(o.y)()||[]),Object(o.l)())}}},l=(n(3911),n(0)),component=Object(l.a)(r,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"image-item-box"},[o("img",{staticClass:"bg-image gl-exposure-node",attrs:{src:n.imgUrl,alt:(null===(t=n.item)||void 0===t?void 0:t.title)||"",loading:(null===(e=n.CardApp)||void 0===e||null===(e=e.logData)||void 0===e?void 0:e.index)>7?"lazy":"eager","log-exposure":n.logExposureParams},on:{error:n.imgErrfn}})])}),[],!1,null,"dd342bb2",null);e.default=component.exports},2571:function(t,e,n){t.exports={}},276:function(t,e,n){"use strict";n.r(e);var o={props:{isShowNsfwIcon:{type:Boolean,default:!1},isNsfw:{type:Boolean,default:!0},imgInfo:{type:Object,default:function(){}},isShowReport:{type:Boolean,default:!0}},methods:{settingViewNsfw:function(){this.$emit("settingViewNsfw")},deleteSingleImg:function(){this.$emit("deleteSingleImg")},handleAppeal:function(){this.$emit("handleAppeal")},handleReport:function(){this.$message.success(this.$t("ReportSuccess"))}}},r=(n(4376),n(4377),n(0)),component=Object(r.a)(o,(function(){var t,e=this,n=e._self._c;return e.isShowNsfwIcon?n("div",{staticClass:"generate-view-nsfw-icon"},[e.isNsfw?n("div",{staticClass:"generate-view-nsfw-plus",on:{click:function(t){return t.stopPropagation(),e.settingViewNsfw.apply(null,arguments)}}},[n("i",{staticClass:"iconfont",class:null!==(t=e.imgInfo)&&void 0!==t&&t.canViewNsfw?"icon-work-hide":"icon-work-show"})]):e._e(),e._v(" "),n("div",{staticClass:"generate-view-nsfw-plus"},[n("el-popover",{attrs:{placement:"bottom",width:"167",trigger:"hover"}},[n("div",{staticClass:"filter-content-nsfw"},[n("div",{staticClass:"filter-content-item flex_m",on:{click:e.deleteSingleImg}},[n("i",{staticClass:"iconfont icon-postDelete"}),e._v(" "+e._s(e.$t("Delete"))+"\n        ")]),e._v(" "),n("div",{staticClass:"filter-content-item flex_m",on:{click:e.handleAppeal}},[n("i",{staticClass:"iconfont icon-icon_wenjuan"}),e._v(" "+e._s(e.$t("appeal"))+"\n        ")]),e._v(" "),e.isShowReport?n("div",{staticClass:"filter-content-item flex_m",on:{click:e.handleReport}},[n("i",{staticClass:"iconfont icon-jubao"}),e._v(" "+e._s(e.$t("Report"))+"\n        ")]):e._e()]),e._v(" "),n("i",{staticClass:"iconfont icon-Ellipsis",staticStyle:{"font-size":"13px",color:"#fff"},attrs:{slot:"reference"},slot:"reference"})])],1)]):e._e()}),[],!1,null,"4e8d9ca6",null);e.default=component.exports},278:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(20),n(3276)),l=n(3277),c=n(173),d=n(70),h=n(371),f={name:"HyJewelryModal",components:{FrameList:r.default,EffectPreview:l.default},props:{value:{type:Boolean,default:!1},artwork:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,goodsList:[],selectedFrame:null}},computed:{dialogVisible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},created:function(){this.model=new c.a},watch:{dialogVisible:function(t){if(t){var e;if(!this.model)return;this.initData(),this.$xyLogEvent({front_operation:"exposure",entity_type:"hy_jewelry_modal",entity_name:"hy_jewelry_modal_show",obj_id:null===(e=this.artwork)||void 0===e?void 0:e.id})}}},methods:{initData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,null===(n=t.model)||void 0===n?void 0:n.getDecorationsList({type:d.i.productionBox,is_self:!0});case 4:t.goodsList=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.goodsList=[];case 10:return e.prev=10,t.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()},closeModal:function(){var t;null===(t=this.$refs.frameListRef)||void 0===t||t.resetActiveIndex(),this.$emit("input",!1)},onSelectFrame:function(t){this.selectedFrame=t},onUseSuccess:function(data){this.$emit("useSuccess",data)},handleShopClick:function(){this.closeModal(),this.$router.push({path:this.localePath(h.a.decorations)})}},beforeDestroy:function(){this.model&&"function"==typeof this.model.destroy&&this.model.destroy(),this.model=null}},m=(n(4259),n(4260),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":"","modal-append-to-body":"",modal:"",center:"","show-close":!1,"custom-class":"hy-jewelry-modal-box",width:"858px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"hy-jewelry-content",attrs:{"dot-group":""}},[e("div",{staticClass:"header-box"},[e("h1",{staticClass:"title-box"},[t._v(t._s(t.$t("addContentDecoration")))]),t._v(" "),e("div",{staticClass:"close-box",attrs:{"data-event":"hy_jewelry_modal_close_click"},on:{click:t.closeModal}},[e("i",{staticClass:"iconfont icon-guanbi2"})])]),t._v(" "),e("div",{staticClass:"content-box flex"},[e("div",{staticClass:"c-left"},[e("div",{staticClass:"shop-btn flex_c_m",attrs:{"data-event":"hy_jewelry_modal_shop_btn_click"},on:{click:t.handleShopClick}},[e("i",{staticClass:"iconfont icon-ic_shop"}),t._v(" "),e("span",[t._v(t._s(t.$t("shop")))])]),t._v(" "),e("FrameList",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"frameListRef",attrs:{goodsList:t.goodsList,artwork:t.artwork},on:{select:t.onSelectFrame}})],1),t._v(" "),e("div",{staticClass:"c-right"},[e("EffectPreview",{attrs:{artwork:t.artwork,decoration:t.selectedFrame},on:{useSuccess:t.onUseSuccess,close:t.closeModal}})],1)])])])}),[],!1,null,"5ff39276",null);e.default=component.exports},2790:function(t,e,n){t.exports={}},2791:function(t,e,n){t.exports={}},2832:function(t,e,n){t.exports={}},2951:function(t,e,n){t.exports={}},2952:function(t,e,n){t.exports={}},2953:function(t,e,n){t.exports={}},2954:function(t,e,n){t.exports={}},2955:function(t,e,n){t.exports={}},2956:function(t,e,n){t.exports={}},2957:function(t,e,n){t.exports={}},2958:function(t,e,n){t.exports={}},2959:function(t,e,n){t.exports={}},2963:function(t,e,n){t.exports={}},2964:function(t,e,n){t.exports={}},2965:function(t,e,n){t.exports={}},2966:function(t,e,n){t.exports={}},2967:function(t,e,n){t.exports={}},2971:function(t,e,n){t.exports={}},2972:function(t,e,n){t.exports={}},2973:function(t,e,n){t.exports={}},2974:function(t,e,n){t.exports={}},2975:function(t,e,n){t.exports={}},2976:function(t,e,n){t.exports={}},3022:function(t,e,n){t.exports={}},3023:function(t,e,n){t.exports={}},3024:function(t,e,n){t.exports={}},3025:function(t,e,n){t.exports={}},3029:function(t,e,n){t.exports={}},3030:function(t,e,n){t.exports={}},3031:function(t,e,n){t.exports={}},3032:function(t,e,n){t.exports={}},3033:function(t,e,n){t.exports={}},3034:function(t,e,n){t.exports={}},3035:function(t,e,n){t.exports={}},3036:function(t,e,n){t.exports={}},3037:function(t,e,n){t.exports={}},3038:function(t,e,n){t.exports={}},3043:function(t,e,n){t.exports={}},3044:function(t,e,n){t.exports={}},3045:function(t,e,n){t.exports={}},3046:function(t,e,n){t.exports={}},3047:function(t,e,n){t.exports={}},3048:function(t,e,n){t.exports={}},3049:function(t,e,n){t.exports={}},3055:function(t,e,n){t.exports={}},3061:function(t,e,n){t.exports={}},3062:function(t,e,n){t.exports={}},3063:function(t,e,n){t.exports={}},3064:function(t,e,n){t.exports={}},3065:function(t,e,n){t.exports={}},3074:function(t,e,n){t.exports={}},3076:function(t,e,n){t.exports={}},317:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(16),n(31),n(1)),l=n(10);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=n(505),f={name:"InviteDialog",props:{type:{type:String,default:""},workId:{type:String,default:""}},data:function(){return{copyTextToClipboard:l.g,isShowDialog:!1,qrCode:null,shareUrl:"",posterImage:"",qrCodeUrl:""}},computed:d(d({},Object(r.e)("user",["userInfo"])),{},{getPosterBgStyle:function(){return{backgroundImage:"url("+this.posterImage+")"}},convertUsername:function(){var t=this.userInfo?this.userInfo.name||this.userInfo.id:"";return t=["",null,void 0].includes(t)?"V":t.length?t.slice(0,1).toUpperCase():"V"}}),methods:{show:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.isShowDialog=!0,this.shareUrl=t,this.posterImage=e,this.qrCodeUrl=n},close:function(){this.isShowDialog=!1},resetData:function(){this.qrCode=null,this.shareUrl="",this.posterImage="",this.qrCodeUrl=""},appendQrCode:function(){var t=this;this.qrCodeUrl&&!this.qrCode&&this.$nextTick((function(){var e=t.$refs.QRCodeContainer;t.qrCode=new h(e,{text:t.qrCodeUrl,width:83,height:83})}))},handleCopyLink:function(){var t={};switch(this.type){case"artwork":t={operation:"click_copy_link_on_share",behavior_info:this.workId};break;case"task":t={operation:"share_invite_link"}}console.log("this.shareUrl: "+this.shareUrl),this.$logEvent("log_actions",t),this.copyTextToClipboard(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},handleDownloadImg:function(){var t={};switch(this.type){case"artwork":t={operation:"click_download_images_on_share",behavior_info:this.workId};break;case"task":t={operation:"share_invite_image"}}this.$logEvent("log_actions",t);var element=document.querySelector("#capture");n(634)(element,{width:400,height:626,useCORS:!0,allowTaint:!1}).then((function(canvas){var link=document.createElement("a");link.href=canvas.toDataURL(),link.download="poster.png",link.click()}))}}},m=f,v=(n(4049),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"invite-dialog custom-dialog",attrs:{visible:t.isShowDialog,"append-to-body":"","show-close":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.appendQrCode,closed:t.resetData}},[e("div",{staticClass:"close-icon",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{staticClass:"container",attrs:{id:"capture"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"slogan"},[t._v(t._s(t.$t("SeaArt")))]),t._v(" "),e("div",{staticClass:"desc"},[t._v("\n        "+t._s(t.$t("InviteDialogDesc"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"poster",style:t.getPosterBgStyle}),t._v(" "),e("div",{staticClass:"personal"},[e("div",{staticClass:"personal-info"},[e("div",{staticClass:"avatar"},[t.userInfo.head?e("img",{staticClass:"img",attrs:{alt:"avatar",src:t.userInfo.head}}):e("span",{staticClass:"initials"},[t._v("\n              "+t._s(t.convertUsername)+"\n            ")])]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v("\n              "+t._s(t.userInfo?t.userInfo.name?t.userInfo.name:t.userInfo.id:t.$t("Visitor"))+"\n            ")]),t._v(" "),e("div",{staticClass:"text",attrs:{title:t.$t("Invitation")}},[t._v("\n              "+t._s(t.$t("Invitation"))+"\n            ")])])]),t._v(" "),e("div",{ref:"QRCodeContainer",staticClass:"QR-code"})])])]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"copy-link",on:{click:t.handleCopyLink}},[t._v("\n      "+t._s(t.$t("CopyLink"))+"\n    ")]),t._v(" "),e("div",{staticClass:"download-img",on:{click:t.handleDownloadImg}},[t._v("\n      "+t._s(t.$t("DownloadImg"))+"\n    ")])])])}),[],!1,null,"42b5d352",null);e.default=component.exports},318:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(7);var o=n(2),r=(n(24),n(8),n(4),n(1602)),l=n(304),c=(n(3912),n(10)),d=n(3104),h=n(3105),f=n(3106),m=n(3213),v=n(1);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={components:{VotherModal:m.default},provide:function(){return{VMAX:this}},props:{config:{type:Object,default:function(){return{}}},expandField:{type:Object,default:function(){return{durationNum:8e3,videoProdType:15,relatedWh:{w:146,h:198}}}},onReady:{type:Function,default:function(){return{}}},loading:{type:Boolean,default:!1}},data:function(){return{player:null,playerInfo:{},expandAttrs:{updateDefinitionList:this.updateDefinitionList,nextPlayVideo:this.nextPlayVideo,hideVideoPop:this.hideVideoPop,destroyMyPlayer:this.destroyMyPlayer},showTitle:!0,timeUpdatteFn:Object(c.S)(this.timeUpdatte,this.config.throttleTime||1e4),showSound:!1,tracksList:[]}},computed:y(y({},Object(v.c)(["videoHasVoice"])),{},{vwidth:function(){var t=this.config.width||600;return"number"==typeof t?t+"px":t}}),watch:{videoHasVoice:function(t){this.player&&(this.player.volume=t?.8:0)}},mounted:function(){this.initVideo()},beforeDestroy:function(){this.destroyMyPlayer()},methods:{initVideo:function(){var t=this,e={autoplayMuted:!1,titleSlot:!0,inactive:1e4,commonStyle:{playedColor:"#fff",volumeColor:"#fff"},controls:{mode:"normal"},replay:{disable:!0}};Object(c.I)("https://image.cdn2.seaart.ai/static/web/shaka-player.compiled.js").then((function(){t.player=new r.a(y(y(y({},e),t.config),{},{volume:t.videoHasVoice?.8:0,plugins:[d.default,f.default,h.default]})),t.useVideoAction()}))},useVideoAction:function(){var t=this;this.player.addClass("my-player-style"),this.player.on(l.a.READY,(function(){var param={player:t.player,Events:l.a,expandAttrs:t.expandAttrs};t.onReady&&t.onReady(param)})),this.player.on(l.a.PLAYER_FOCUS,(function(){t.showTitle=!0})),this.player.on(l.a.PLAYER_BLUR,(function(){var e;t.showTitle=!1,null!==(e=t.player)&&void 0!==e&&e.paused&&(t.showTitle=!0)})),this.player.on(l.a.USER_ACTION,(function(data){var e=data.action;t["on_"+e]&&t["on_"+e](data)})),this.player.on(l.a.TIME_UPDATE,(function(data){t.timeUpdatteFn(data)})),this.player.on(l.a.LOADED_DATA,(function(data){if(!data.hlsEnd){var e=data.player.config.url.split(".").pop(),n=t.player.plugins,o=n.shakaplugin,r=n.usedefinitionplugin,l=n.hlsplayerplugin,c=Number(localStorage.getItem("definitionLevel")||"1");"mpd"===e&&r&&(r.changeDefinitionList({plugin:o,type:"mpd"}),r.changeTrackItem({level:c})),"m3u8"===e&&r&&(r.changeDefinitionList({plugin:l,type:"m3u8"}),r.changeTrackItem({level:c}))}})),this.player.on(l.a.AUTOPLAY_PREVENTED,(function(data){t.player.muted=!0})),this.player.on(l.a.AUTOPLAY_STARTED,(function(data){var e=JSON.parse(localStorage.getItem("mutedAction")||"{}"),n=e.curNum,o=void 0===n?0:n,r=e.maxNum;o<(void 0===r?1:r)&&(t.showSound=t.player.muted)}))},on_switch_play_pause:function(data){data.to&&(this.showTitle=!0)},on_change_definition:function(data){var t=data.to;this.playerInfo.definition=t||{}},timeUpdatte:function(data){this.$emit("onTimeUpdate",y(y({},data),{},{vinfo:this.getPlayerInfo()}))},getPlayerInfo:function(){var t=this;return["currentTime","duration","currentSrc","volume","playbackRate"].forEach((function(e){t.playerInfo[e]=t.player[e]})),this.playerInfo},soundPlay:function(){this.player.muted=!1,this.showSound=!1;var t=JSON.parse(localStorage.getItem("mutedAction")||"{}"),e=t.curNum,n=void 0===e?0:e,o=t.maxNum,r=void 0===o?1:o,l=n<r?n+1:r;localStorage.setItem("mutedAction",JSON.stringify({curNum:l,maxNum:r}))},handRelatedItem:function(data){this.$emit("onRelatedItem",data)},updateDefinitionList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.plugin,n=t.list,o=t.type,r=void 0===o?"other":o;this.player.plugins.usedefinitionplugin.changeDefinitionList({plugin:e,list:n,type:r})},nextPlayVideo:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$refs.VotherModalRef.showVideoPop(data)},hideVideoPop:function(){this.$refs.VotherModalRef.hideVideoPop()},destroyMyPlayer:function(){this.player&&(this.player.destroy(),this.player=null)}}},C=w,x=(n(3920),n(0)),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-player-box",style:{width:t.vwidth}},[e("div",{attrs:{id:t.config.id}}),t._v(" "),t.config.titleSlot?[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showTitle,expression:"showTitle"}],staticClass:"title-box"},[t._t("title")],2)]:t._e(),t._v(" "),t.loading?e("div",{staticClass:"loading-box flex_c_m"},[e("img",{staticClass:"loading-gif",attrs:{src:n(1055),alt:"loading image"}})]):t._e(),t._v(" "),e("el-dialog",{staticClass:"my-video-tips-dialog",attrs:{title:t.$t("photography6"),visible:t.showSound,width:"413px"},on:{"update:visible":function(e){t.showSound=e}}},[e("p",{staticClass:"tips-text"},[t._v(t._s(t.$t("noOpenMuted")))]),t._v(" "),e("div",{staticClass:"sound-btn flex_c_m",on:{click:t.soundPlay}},[t._v("\n      "+t._s(t.$t("openNow"))+"\n    ")])]),t._v(" "),e("VotherModal",{ref:"VotherModalRef",attrs:{config:t.config},on:{onRelatedItem:t.handRelatedItem}})],2)}),[],!1,null,"06b1a218",null);e.default=component.exports},3192:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(24);var o=n(52),r=n(180),l=(n(19),n(16),n(8),n(21),n(252)),c=n(405),d=n(108),h=n(251),f=n(155),m={provide:function(){return{CardApp:this}},components:{ImageItem:l.default,LeftUpMark:c.default,HyColorfulBorder:d.default,FlagItem:h.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{isWorkflow:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=["1",1,"2",2].includes(n);return 13===e&&o},isAiApp:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=[3,"3",4,"4"].includes(n);return 13===e&&o},isModel:function(){var t=this.item,e=t.obj_type,n=t.channel,o=![1,"1"].includes(n);return 2===e&&o},isLoraTrain:function(){var t=this.item,e=t.obj_type,n=t.channel,o=[1,"1"].includes(n);return 2===e&&o},cardLink:function(){var t=this.item,e=t.obj_type,n=t.id,o=t.sub_channel,r={1:"/explore/detail/".concat(n),2:"/models/detail/".concat(n),5:"/video/".concat(n),9:"/aiChat/".concat(n),14:"/workFlowAppDetail/".concat(n),15:"/ai-video/detail/".concat(n),11:"/editBoard/detail/".concat(n),16:"/ai-audio/detail/".concat(n),60:"/ai-tools/".concat(n)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(n)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(n)):4===e&&"article"===o?this.localePath("/articleDetail/".concat(n)):4===e&&"picture"===o?this.localePath("/artWorkDetail/".concat(n)):61===e?n.includes("https://")?n:this.localePath(n)||"/":this.localePath(r[e]||"/")},getPosition:function(){var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(f.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}},methods:{goCardDetail:function(){if(!(0===Object.keys(this.maxHomeData).length)){var t,e=this.getPosition;this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:e,behavior_info_sub:(null===(t=this.item)||void 0===t?void 0:t.pt)||""})}this.$emit("onView",this.item),this.cardLink.includes("https://")?window.open(this.cardLink,"_blank"):this.$router.push(this.cardLink)}}},v=(n(5536),n(0)),component=Object(v.a)(m,(function(){var t,e,n=this,o=n._self._c;return o("HyColorfulBorder",{attrs:{showBorder:n.item.edging,borderColor:n.borderColor}},[o("div",{staticClass:"banner-item",attrs:{"data-id":null===(t=n.item)||void 0===t?void 0:t.id,"data-type":null===(e=n.item)||void 0===e?void 0:e.obj_type}},[o("a",{staticClass:"wh100 banalink",attrs:{href:n.cardLink,target:"_blank","data-event":"module-box-click","data-id":n.item.id,"data-pt":n.item.pt,"data-type":n.item.obj_type,"data-index":n.logData.index,"data-position":n.getPosition,"data-mindex":n.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.goCardDetail.apply(null,arguments)}}},[o("div",{staticClass:"img-cover wh100"},[o("ImageItem",{attrs:{item:n.item}})],1),n._v(" "),o("div",{staticClass:"left-marker flex_c_m"},[o("LeftUpMark",{attrs:{item:n.item}})],1),n._v(" "),o("div",{staticClass:"footer-box"},[o("div",{staticClass:"flex"},[o("FlagItem",{directives:[{name:"show",rawName:"v-show",value:n.item.corner_mark,expression:"item.corner_mark"}],attrs:{type:n.item.corner_mark}}),n._v(" "),o("p",{staticClass:"title line-one"},[n._v("\n            "+n._s(n.item.title)+"\n          ")])],1),n._v(" "),o("div",{staticClass:"dosc-info flex"},[o("div",{staticClass:"text line-two"},[n._v("\n            "+n._s(n.item.sub_title)+"\n          ")]),n._v(" "),o("div",{staticClass:"btn"},[n._v(n._s(n.$t("attempt")))])])])])])])}),[],!1,null,"2e9198c6",null),_=component.exports,y={components:{SwipeableList:o.default,HyPlateTitle:r.default,BannerCard:_},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n}},data:function(){return{}}},w=Object(v.a)(y,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"265px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"0px",areaPtop:8,areaPbot:8,list:t.cardRunderList}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(n,o){return e("BannerCard",{key:(n.id||"-")+o,attrs:{item:n,maxHomeData:t.maxHomeData,logData:{id:t.temp.id,title:t.temp.title,index:o,mIndex:t.indexes}}})})),1)],1)],1)}),[],!1,null,"fed53fa4",null);e.default=w.exports;installComponents(w,{SwipeableList:n(52).default})},3200:function(t,e,n){"use strict";n.r(e);n(16),n(31),n(18),n(24),n(8);var o=n(10),r={mixins:[n(145).a],props:{item:{type:Object,default:function(){return{}}},keyword:{type:String,default:""},showType:{type:Number,default:1},index:{type:Number,default:0}},data:function(){return{formatNumberForeign:o.p,timeFormat:o.U,seseimg:n(1072)}},computed:{payload:function(){var t=this.item.payload||"{}";return JSON.parse(t)},dataInfo:function(){var t=this.item;return{id:t.source_id,type:t.type,cindex:this.index,resp_type:"landing_page",info:{resp_type:"landing_page"},entity_name:"associate_word",entity_type:"associate_word_box"}}},methods:{handClick:function(){this.$emit("onClick",this.item)}}},l=(n(3874),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibility,expression:"handleVisibility"}],staticClass:"big-item flex",class:t.item.active&&"item-active",attrs:{"data-info":JSON.stringify(t.dataInfo)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handClick.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"left"},[e("el-image",{staticClass:"img",attrs:{src:t.item.cover||t.seseimg}},[e("div",{staticClass:"image-err-slot flex_c_m",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"iconfont icon-image-load-error"}),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(t.$t("loadErr")))])])]),t._v(" "),t.item.type&&"portfolio"===t.item.type||t.payload.num?e("div",{staticClass:"img-num flex_c_m"},[e("i",{staticClass:"iconfont icon-imgNum"}),t._v(" "),e("span",[t._v(t._s(t.payload.num||0))])]):t._e(),t._v(" "),t.item.type&&"lookbook"===t.item.type&&t.payload.dur?e("div",{staticClass:"video-time flex_c_m"},[e("span",[t._v(t._s(t.timeFormat(t.payload.dur||0)))])]):t._e()],1),t._v(" "),e("div",{staticClass:"right"},[e("div",{directives:[{name:"hword",rawName:"v-hword",value:{str:t.item.title,target:t.keyword,color:"#000",bgcolor:"#FCC419"},expression:"{\n        str: item.title,\n        target: keyword,\n        color: '#000',\n        bgcolor: '#FCC419',\n      }"}],staticClass:"word-text"}),t._v(" "),e("div",{staticClass:"user-info flex_m"},[e("div",{staticClass:"head"},[e("el-image",{staticClass:"img",attrs:{fit:"contain",src:t.item.account.cover}},[e("b",{attrs:{slot:"error"},slot:"error"},[t._v(t._s(t.item.account.name.slice(0,1)))])])],1),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(t.item.account.name))]),t._v(" "),t.item.type&&2===t.showType?e("div",{staticClass:"type-model flex_c_m"},[t._v("\n        "+t._s("TextualInversion"===t.item.type?"Embedding":t.item.type)+"\n      ")]):t._e()]),t._v(" "),e("div",{staticClass:"look-data flex"},[[15,21].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-browse"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_view)))])]):t._e(),t._v(" "),[7,15].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-like"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_like)))])]):t._e(),t._v(" "),[2,7,13,14,11,16].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-icon-collect1"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_collection)))])]):t._e(),t._v(" "),[2,13,14,11,16].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-creation-center-icon"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_task)))])]):t._e(),t._v(" "),[13].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-icon_jiedian"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.payload.node_num)))])]):t._e(),t._v(" "),[9].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-a-home-top-personl1"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_token)))])]):t._e(),t._v(" "),[2].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-icon-Download"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_download)))])]):t._e()])])])}),[],!1,null,"701f9a69",null);e.default=component.exports},3201:function(t,e,n){"use strict";n.r(e);n(16),n(24),n(8);var o=n(10),r={components:{BaseAvatar:n(53).default},props:{item:{type:Object,default:function(){return{}}},keyword:{type:String,default:""},showType:{type:Number,default:1}},data:function(){return{formatNumberForeign:o.p,seseimg:n(1072)}},computed:{payload:function(){var t=this.item.payload||"{}";return JSON.parse(t)}},methods:{handClick:function(){this.$emit("onClick",this.item)}}},l=(n(3876),n(0)),component=Object(l.a)(r,(function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"big-item flex",class:e.item.active&&"item-active",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handClick.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"left"},[null!==(t=e.item.account)&&void 0!==t&&t.avatar_frame?n("BaseAvatar",{attrs:{size:46,avatarUrl:e.item.cover||e.seseimg,"user-data":e.item.account}}):n("el-image",{staticClass:"img",attrs:{src:e.item.cover||e.seseimg}},[n("div",{staticClass:"image-err-slot flex_c_m",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"iconfont icon-image-load-error"})])])],1),e._v(" "),n("div",{staticClass:"right"},[n("div",{directives:[{name:"hword",rawName:"v-hword",value:{str:e.item.title,target:e.keyword,color:"#000",bgcolor:"#FCC419"},expression:"{\n        str: item.title,\n        target: keyword,\n        color: '#000',\n        bgcolor: '#FCC419',\n      }"}],staticClass:"word-text"}),e._v(" "),n("div",{staticClass:"look-data flex"},[[6].includes(e.showType)?[n("div",{staticClass:"item flex_c_m"},[n("b",[e._v(e._s(e.formatNumberForeign(e.item.stat.num_of_artwork)))]),e._v(" "),n("span",[e._v(e._s(e.$t("Explore")))])]),e._v(" "),n("div",{staticClass:"item flex_c_m"},[n("b",[e._v(e._s(e.formatNumberForeign(e.item.stat.num_of_model)))]),e._v(" "),n("span",[e._v(e._s(e.$t("AIModel")))])]),e._v(" "),n("div",{staticClass:"item flex_c_m"},[n("b",[e._v(e._s(e.formatNumberForeign(e.item.stat.num_of_post)))]),e._v(" "),n("span",[e._v(e._s(e.$t("Post")))])])]:e._e(),e._v(" "),[8].includes(e.showType)?[n("div",{staticClass:"item flex_c_m"},[n("b",[e._v(e._s(e.formatNumberForeign(e.item.stat.num_of_collected)))]),e._v(" "),n("span",[e._v(e._s(e.$t("Collects")))])]),e._v(" "),n("div",{staticClass:"item flex_c_m"},[n("b",[e._v(e._s(e.formatNumberForeign(e.item.stat.num_of_follower)))]),e._v(" "),n("span",[e._v(e._s(e.$t("Follower")))])])]:e._e()],2)])])}),[],!1,null,"65a0178e",null);e.default=component.exports;installComponents(component,{BaseAvatar:n(53).default})},3202:function(t,e,n){"use strict";n.r(e);var o={name:"WordTxt",props:{item:{type:Object,default:function(){return{}}},keyword:{type:String,default:""}},methods:{handClick:function(){this.$emit("onClick",this.item)}}},r=(n(3877),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"word-txt-box flex_m",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handClick.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[e("i",{staticClass:"iconfont icon-sousuo3"}),t._v(" "),e("div",{directives:[{name:"hword",rawName:"v-hword",value:{str:t.item.text,target:t.keyword,color:"#000",bgcolor:"#FCC419"},expression:"{\n      str: item.text,\n      target: keyword,\n      color: '#000',\n      bgcolor: '#FCC419',\n    }"}],staticClass:"word-text"})])}),[],!1,null,"5aec668c",null);e.default=component.exports},3205:function(t,e,n){"use strict";n.r(e);var o=n(2),r=(n(19),n(11),n(6),n(398),n(73),n(22),n(399),n(8),n(12),n(13),n(4),n(7),n(27)),l=n(64),c=n(148);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"PersonalWorks",inject:["HyUploadMoaldApp"],components:{HyWaterfallFlowList:l.default},props:{verId:{type:String,default:""},isSingleSelect:{type:Boolean,default:!0},isMultiSelect:{type:Boolean,default:!1},uploadObj:{type:Object,default:function(){return{}}},queryObj:{type:Object,default:function(){return{}}},scene:{type:String,default:""},openType:{type:String,default:""}},data:function(){return{pageObj:{page:1,page_size:35},formData:{folder_no:"",model_ver_nos:[]},list:[],curVerId:"",waterLoading:!1}},mounted:function(){this.getList()},methods:{getList:function(){var t,e=this,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).afterCall;if(!this.waterLoading){var o=JSON.parse(localStorage.getItem("maxUploadModal"));"model-edit"===this.openType?(this.formData.folder_no="",this.formData.model_ver_nos=[this.curVerId?"all"===this.curVerId?"":this.curVerId:this.verId]):(this.formData.folder_no=null==o?void 0:o.folder_no,this.formData.model_ver_nos=[]),this.waterLoading=!0;var l={image:[1,2,3,4],video:[7],gif:[6]},c=null===(t=this.HyUploadMoaldApp)||void 0===t?void 0:t.fileTypes.flatMap((function(t){return l[t]})),d=h(h(h(h({},this.pageObj),this.formData),this.queryObj),{},{scene:this.scene});"model-edit"===this.openType&&(d.scene=""),c.length&&(d.artwork_types=c),Object(r.ab)(d).then((function(t){n&&n(),e.pageObj.page+=1,e.list=e.list.concat(t.data.items||[]),e.waterLoading=!1})).catch((function(){e.waterLoading=!1}))}},handleFilter:function(t){var e=this;this.pageObj.page=1,this.waterLoading=!1,"model-edit"===this.openType&&(this.curVerId=t),document.getElementById("uploadBodyWraper").scrollTop=0,this.getList({afterCall:function(){e.list=[]}})},changeChoose:function(t,e){for(var n=this.uploadObj||{},o=n.minWh,r=n.maxWh,l=n.minProportion,d=void 0===l?[]:l,f=n.maxProportion,m=void 0===f?[]:f,v=e.cover||{},_=v.width,y=v.height,w=(e||{}).id,C=0,x=[{check:function(){return Object(c.checkMinWh)(o,_,y)},errorKey:"imageRuleMinWh",params:{w:null==o?void 0:o[0],h:null==o?void 0:o[1]}},{check:function(){return Object(c.checkMaxWh)(r,_,y)},errorKey:"imageRuleMaxWh",params:{w:null==r?void 0:r[0],h:null==r?void 0:r[1]}},{check:function(){return Object(c.checkMinProportion)(d,_,y)},errorKey:"imagEaspectRatio",params:{num1:null==d?void 0:d.join(":"),num2:null==m?void 0:m.join(":")}},{check:function(){return Object(c.checkMaxProportion)(m,_,y)},errorKey:"imagEaspectRatio",params:{num1:null==m?void 0:m.join(":"),num2:null==d?void 0:d.join(":")}}];C<x.length;C++){var O=x[C];if(O.check())return this.$message.error(this.$t(O.errorKey,O.params)),void this.$refs.HyWaterfallFlowListRef.clearSelectCard(w)}var k=t.map((function(t){return h(h({},t),{},{channel:"artwork",obj_parent_no:t.id})}));this.$emit("onChangeChoose",k)}}},m=f,v=(n(4004),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{ref:"wraper",staticClass:"personal-works"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.list,container:"wraper",rollBox:"uploadBodyWraper",logGroupName:"waterfall-list",waterAllListFn:function(){return t.list},isSingleSelect:t.isSingleSelect,isMultiSelect:t.isMultiSelect,isPureImg:""},on:{load:t.getList,onChangeChoose:t.changeChoose}}),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waterLoading,expression:"waterLoading"}],staticClass:"water-loadBox"}),t._v(" "),0!==t.list.length||t.waterLoading?t._e():e("div",{staticClass:"water-no"},[e("img",{attrs:{src:"https://image.cdn2.seaart.me/static/upload/20250613/d2399f5b-79b7-4cd5-a6f5-06f9924689b7.png",alt:"no"}}),t._v(" "),e("p",[t._v(t._s(t.$t("no_data")))])])],1)}),[],!1,null,"11d3cb31",null);e.default=component.exports},3206:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);n(16);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(18),n(24),n(21);var c=n(10),d=n(1),h=n(39),f=n(27),m=n(256),v=n(53),_=n(251),y=n(107),w=(n(155),n(98)),C=n(93);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={inject:["CardApp"],components:{AudioPlayer:m.a,BaseAvatar:v.default,FlagItem:_.default},props:{item:{type:Object,default:function(){return{}}},haseat:{type:Boolean,default:!1}},data:function(){return{formatEvaluation:C.e,headVisible:!0,formatNumberForeign:c.p,isCollection:!1,debounceSetLike:Object(w.a)(this.setLike,500),debounceSetCollect:Object(w.a)(this.setCollect,500)}},watch:{"item.collect":{handler:function(t){var e=Boolean(t&&t.id);this.isCollection=e},deep:!0,immediate:!0}},computed:O(O(O({},Object(d.c)("user",["isLoggedIn","userInfo"])),Object(d.e)("payment",["paymentInfo"])),{},{renderTitle:function(){return 9===this.item.obj_type?Object(C.i)(this,this.item):this.item.title||this.item.sub_title||""},authorName:function(){var t,e,n=(null===(t=this.item)||void 0===t?void 0:t.author)||{},o=n.name,r=n.id;return o||r||(null===(e=this.item)||void 0===e?void 0:e.id)||""},theConfig:function(){return this.CardApp.theConfig},ktype:function(){return Object(y.d)(this.item.obj_type)},audioItem:function(){var t,i=this.item;return{id:i.id,timbre_id:i.id,author_id:null==i||null===(t=i.author)||void 0===t?void 0:t.id,text:""}},likeNum:function(){var t;return Number(null===(t=this.item)||void 0===t||null===(t=t.stat)||void 0===t?void 0:t.num_of_like)||0},collectionNum:function(){var t;return Number(null===(t=this.item)||void 0===t||null===(t=t.stat)||void 0===t?void 0:t.num_of_collection)||0},isShowTitle:function(){this.item.obj_type,this.$route.params.ptype},isSearchPage:function(){return this.$route.path.includes("/search")}}),methods:{headLoaderr:function(t){t.target.style.display="none"},logAction:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$logEvent("log_actions",{operation:e,behavior_info:this.item.id,obj_type:this.item.obj_type,position:this.CardApp.getPosition,behavior_info_sub:(null===(t=this.item)||void 0===t?void 0:t.pt)||""})},handTask:function(){this.CardApp.isSelectMode||this.$emit("onHandTask")},setLike:function(){var t,e=this;if(!this.CardApp.isSelectMode){var n=this.item,o=n.obj_type,r=n.id,l=n.stat,c=n.pt,d=n.obj_filter;if(this.isLoggedIn){var f=this.CardApp.getNegativeIds(),m=this.CardApp.getViewDomain(),v=null==this||null===(t=this.paymentInfo)||void 0===t?void 0:t.productLevel,_={action:this.item.liked?"dislike":"like",obj_no:r,obj_type:o,stat:l,batch_id:c,category:"default",negative_ids:f,view_domain:m,vip:v,filter_category:d};Object(h.i)({items:[_]}).then((function(){e.item.liked=!e.item.liked,e.item.liked?e.item.stat.num_of_like=Number(e.item.stat.num_of_like)+1:e.item.stat.num_of_like=Number(e.item.stat.num_of_like)-1,e.setOriginalListItem(),e.$emit("onLike",e.item)}));var y=this.item.liked?"cancel_like":"like";this.logAction(y),this.CardApp.handleAllAction({atype:y})}else this.$EventBus.$emit("openLoginDialog")}},setCollect:function(){var t=this;if(!this.CardApp.isSelectMode){var e=this.item;e.id,e.obj_type;this.isLoggedIn?this.isCollection?this.unFavorite((function(){t.item.stat.num_of_collection=Number(t.item.stat.num_of_collection)-1,t.logAction("cancel_collect"),t.setOriginalListItem(),t.$emit("onCollect",t.item),t.CardApp.handleAllAction({atype:"cancelCollect"})})):this.addFavorite((function(){t.item.stat.num_of_collection=Number(t.item.stat.num_of_collection)+1,t.logAction("collect"),t.setOriginalListItem(),t.$emit("onCollect",t.item),t.CardApp.handleAllAction({atype:"collect"})})):this.$EventBus.$emit("openLoginDialog")}},addFavorite:function(t){var e=this,n=this.item.id,r=y.b[this.ktype],l={artwork:"artwork_no",model:"art_model_no",lookbook:"post_no",gallery:"post_no",post:"post_no",palette:"tpl_no",swtft_app:"comfy_ui_no",workflow:"comfy_ui_no",character:"character_no",ai_video:"video_no",ai_audio:"timbre_no"}[r],c=Object(o.a)({},l,n);Object(f.k)(c).then((function(n){var o=n.data.id;e.item.collect={id:o},e.isCollection=!0,e.$EventBus.$emit("setCollectMsgBox",e.item,r),e.CardApp.dotPushReport({action:"collection"}),t&&t()}))},unFavorite:function(t){var e,n=this,o={id:null===(e=this.item)||void 0===e||null===(e=e.collect)||void 0===e?void 0:e.id};Object(f.m)(o).then((function(){n.item.collect={},n.isCollection=!1,n.CardApp.dotPushReport({action:"cancel_collection"}),t&&t()}))},updateCollectData:function(data){this.isCollection||(this.item.stat.num_of_collection=Number(this.item.stat.num_of_collection)+1,this.isCollection=!0,this.item.collect={id:data.id})},setOriginalListItem:function(){if(this.CardApp.isWater){var t=this.item,e=t.id,n=t.liked,o=t.stat,r=t.collect;this.CardApp.waterAllListFn().forEach((function(t){e===t.id&&(t.liked=n,t.stat.num_of_like=o.num_of_like,t.collect=r,t.stat.num_of_collection=o.num_of_collection)}))}},handlePlayTry:function(){this.CardApp.isSelectMode||(this.$refs.AudioPlayerRef.handleClickPlay(),this.CardApp.dotPushReport({action:"listen_timbre"}))},otherUser:function(t){var e,n;if(!this.CardApp.isSelectMode){var path="/user/"+encodeURIComponent(null==t||null===(e=t.author)||void 0===e?void 0:e.id);this.userInfo.id==(null==t||null===(n=t.author)||void 0===n?void 0:n.id)&&(path="/personal"),window.open(this.localePath(path),"_blank")}},handTitle:function(){this.CardApp.isSelectMode||this.$emit("onHandTitle")}}},j=k,I=(n(3896),n(3897),n(0)),component=Object(I.a)(j,(function(){var t,e,n,o,r,c,d,h,f=this,m=f._self._c;return m("div",{class:["card-info-box",f.haseat&&"card-seat"],on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[m("div",{staticClass:"title-name flex_m"},[m("FlagItem",{directives:[{name:"show",rawName:"v-show",value:f.item.corner_mark,expression:"item.corner_mark"}],staticClass:"flag-item",attrs:{type:f.item.corner_mark}}),f._v(" "),![1].includes(f.item.obj_type)&&f.renderTitle?m("div",{staticClass:"left-text line-one",style:{fontSize:f.CardApp.c_isInward?"18px":"14px"},attrs:{"data-id":null===(t=f.item)||void 0===t?void 0:t.id,"data-type":null===(e=f.item)||void 0===e?void 0:e.obj_type,"data-desc":"瀑布流标题点击","data-index":f.CardApp.logData.index,"data-position":f.CardApp.getPosition,"data-info":JSON.stringify(l({},f.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),f.handTitle.apply(null,arguments)}}},[f._v("\n      "+f._s(f.renderTitle)+"\n    ")]):f._e(),f._v(" "),16===f.item.obj_type?m("div",{staticClass:"right-btn flex_m",attrs:{"data-event":"audition","data-id":null===(n=f.item)||void 0===n?void 0:n.id,"data-type":null===(o=f.item)||void 0===o?void 0:o.obj_type,"data-desc":"瀑布流音频试听","data-index":f.CardApp.logData.index,"data-position":f.CardApp.getPosition,"data-info":JSON.stringify(l({},f.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),f.handlePlayTry.apply(null,arguments)}}},[m("AudioPlayer",{ref:"AudioPlayerRef",attrs:{modelPlay:"",item:f.audioItem,playIconCustomStyle:{},customClass:"try-class",playInitIcon:"icon-icon-listen",logParams:{operation:"click_broadcast",behavior_info:"on_ai_audio_waterfall_flow",behavior_info_sub:null===(r=f.item)||void 0===r?void 0:r.id}}}),f._v(" "),m("span",[f._v(f._s(f.$t("audition")))])],1):f._e()],1),f._v(" "),f.item.sub_title&&![1,5,15,16].includes(f.item.obj_type)?[m("el-tooltip",{attrs:{effect:"dark",content:f.item.sub_title,placement:"bottom","popper-class":"card-text-tooltip"}},[9===f.item.obj_type?m("div",{staticClass:"desc-text line-two",domProps:{innerHTML:f._s(f.formatEvaluation(f.item.sub_title))}}):m("div",{staticClass:"desc-text line-two"},[f._v("\n        "+f._s(f.item.sub_title)+"\n      ")])])]:f._e(),f._v(" "),[60,61].includes(f.item.obj_type)?f._e():m("div",{staticClass:"user-info-box flex_m"},[m("div",{staticClass:"user-head flex_m",attrs:{"data-event":"author","data-id":null===(c=f.item)||void 0===c?void 0:c.id,"data-type":null===(d=f.item)||void 0===d?void 0:d.obj_type,"data-desc":"瀑布流作者点击","data-index":f.CardApp.logData.index,"data-position":f.CardApp.getPosition,"data-eventname":f.isSearchPage?"log_action_front_search":"","data-info":JSON.stringify(l({},f.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),f.otherUser(f.item)}}},[m("div",{staticClass:"user-head-box"},[m("BaseAvatar",{attrs:{userData:null===(h=f.item)||void 0===h?void 0:h.author,size:24,theme:"dark"}})],1),f._v(" "),m("span",{staticClass:"head-name line-one"},[f._v(f._s(f.authorName))])]),f._v(" "),m("div",{staticClass:"info-btns-box flex_m"},f._l(f.theConfig.statList,(function(t){var e,n,o,r,c,d,h,v,_,y,w,C,x,O,k,j;return m("div",{key:t.type,staticClass:"item flex_m"},["view"===t.type?m("div",{staticClass:"flex"},[m("i",{staticClass:"iconfont icon-browse"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(null===(e=f.item)||void 0===e||null===(e=e.stat)||void 0===e?void 0:e.num_of_view)))])]):f._e(),f._v(" "),"play"===t.type?m("div",{staticClass:"flex"},[m("i",{staticClass:"iconfont icon-icon_Views"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(null===(n=f.item)||void 0===n||null===(n=n.stat)||void 0===n?void 0:n.num_of_view)))])]):f._e(),f._v(" "),"like"===t.type?m("div",{staticClass:"flex",attrs:{"data-id":null===(o=f.item)||void 0===o?void 0:o.id,"data-type":null===(r=f.item)||void 0===r?void 0:r.obj_type,"data-pt":null===(c=f.item)||void 0===c?void 0:c.pt,"data-event":null!==(d=f.item)&&void 0!==d&&d.liked?"cancelLike":"like","data-desc":"瀑布流点赞","data-index":f.CardApp.logData.index,"data-position":f.CardApp.getPosition,"data-info":JSON.stringify(l({isLiked:!(null!==(h=f.item)&&void 0!==h&&h.liked)},f.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),f.debounceSetLike(f.item)}}},[m("i",{directives:[{name:"show",rawName:"v-show",value:!f.item.liked,expression:"!item.liked"}],staticClass:"iconfont icon-dianzan"}),f._v(" "),m("i",{directives:[{name:"show",rawName:"v-show",value:f.item.liked,expression:"item.liked"}],staticClass:"iconfont icon-dianzanhou"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(f.likeNum)))])]):f._e(),f._v(" "),"task"===t.type?m("div",{staticClass:"flex",attrs:{"data-id":null===(v=f.item)||void 0===v?void 0:v.id,"data-type":null===(_=f.item)||void 0===_?void 0:_.obj_type,"data-event":"click_task","data-desc":"瀑布流创作","data-index":f.CardApp.logData.index,"data-position":f.CardApp.getPosition,"data-info":JSON.stringify(l({},f.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),f.handTask.apply(null,arguments)}}},[m("i",{staticClass:"iconfont icon-icon-play"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(null===(y=f.item)||void 0===y||null===(y=y.stat)||void 0===y?void 0:y.num_of_task)))])]):f._e(),f._v(" "),"token"===t.type?m("div",{staticClass:"flex"},[m("i",{staticClass:"iconfont icon-users-solid",style:{fontSize:"20px"}}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(null===(w=f.item)||void 0===w||null===(w=w.stat)||void 0===w?void 0:w.num_of_token)))])]):f._e(),f._v(" "),"collection"===t.type?m("div",{staticClass:"flex",attrs:{"data-id":null===(C=f.item)||void 0===C?void 0:C.id,"data-type":null===(x=f.item)||void 0===x?void 0:x.obj_type,"data-pt":null===(O=f.item)||void 0===O?void 0:O.pt,"data-event":f.isCollection?"cancelCollect":"collect","data-index":f.CardApp.logData.index,"data-position":f.CardApp.getPosition,"data-info":JSON.stringify(l({},f.CardApp.logDataInfo)),"data-desc":"瀑布流收藏"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),f.debounceSetCollect(f.item)}}},[m("i",{directives:[{name:"show",rawName:"v-show",value:!f.isCollection,expression:"!isCollection"}],staticClass:"iconfont icon-icon-collect1"}),f._v(" "),m("i",{directives:[{name:"show",rawName:"v-show",value:f.isCollection,expression:"isCollection"}],staticClass:"iconfont icon-icon-collect-selected"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(f.collectionNum)))])]):f._e(),f._v(" "),"count"===t.type?m("div",{staticClass:"flex"},[m("i",{staticClass:"iconfont icon-icon_jiedian"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(null===(k=f.item)||void 0===k?void 0:k.count)))])]):f._e(),f._v(" "),"download"===t.type&&f.CardApp.isWater?m("div",{staticClass:"flex"},[m("i",{staticClass:"iconfont icon-icon-Download"}),f._v(" "),m("span",[f._v(f._s(f.formatNumberForeign(null===(j=f.item)||void 0===j||null===(j=j.stat)||void 0===j?void 0:j.num_of_download)))])]):f._e()])})),0)])],2)}),[],!1,null,"11bd331e",null);e.default=component.exports;installComponents(component,{BaseAvatar:n(53).default})},3207:function(t,e,n){"use strict";n.r(e);n(16),n(11),n(6),n(12),n(13),n(4),n(7);var o=n(2),r=(n(19),n(18),n(8),n(21),n(1)),l=n(9),c=n(174),d=n(63),h=n(3208),f=n(107);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={inject:["CardApp"],components:{CollectPopover:d.default,WorkPhoto:h.default},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{cardTypeNameOld:f.b,collectDotReportInfo:{}}},computed:v(v(v({},Object(r.c)("user",["isLoggedIn"])),Object(r.e)("user",["userInfo"])),{},{ktype:function(){return Object(f.d)(this.item.obj_type)},theConfig:function(){return this.CardApp.theConfig},showCollect:function(){var t=this.item.obj_type,e=[1,2,11].includes(t),n=this.isPlayDoor,o=this.CardApp.isAiApp;return e||n&&o},showRightBtn:function(){var t=this.item.obj_type;return[1,13,16,2,13,11,9,14].includes(t)&&!this.isPlayDoor},collectItem:function(){var t,e=JSON.parse(JSON.stringify(this.item)),n=(null==e||null===(t=e.collect)||void 0===t?void 0:t.id)||"";return e.collect=v(v({},e.collect||{}),{},{collection_id:n}),e},isVideo:function(){return this.CardApp.isVideo},isPlayDoor:function(){return this.CardApp.$attrs.isDoor}}),methods:{logAction:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$logEvent("log_actions",{operation:e,behavior_info:this.item.id,obj_type:this.item.obj_type,position:this.CardApp.getPosition,behavior_info_sub:(null===(t=this.item)||void 0===t?void 0:t.pt)||""})},hidePop:function(t){var e;null===(e=this.$refs.WorkPhotoRef)||void 0===e||e.hidePop(t)},handleClick:function(){var t=this.CardApp.$attrs.beforeRemix;if((void 0===t?function(){return!0}:t)(this.item)){var e=this.item.obj_type,n=[1,2,11].includes(e),o=[13,14,16].includes(e);n&&this.createRemix(),o&&this.createTry(),9===e&&this.userChart(),this.CardApp.dotPushReport({action:"task"}),this.logAction("same_create"),this.CardApp.handleAllAction({atype:"taskRemix"})}},createRemix:function(){var t=this.item.obj_type;this.CardApp.isLoraTrain&&this.loraTrainRemix(),this.CardApp.isModel&&this.modelRemix(),[1].includes(t)&&this.artworkRemix(),[11].includes(t)&&this.paletteRemix()},createTry:function(){var t=this.item.obj_type,e=[13,14].includes(t),audio=[16].includes(t);e&&this.createComfyui(),audio&&this.createAudio()},artworkRemix:function(){var t=this.item,e=t.channel,n=t.id,o=this.getRouteBaseName();if("comfyui"===e&&"workFlowAppDetail"===o){var path="/workFlowAppDetail/".concat(this.$route.params.id,"?task=mix-").concat(n);this.$router.push(this.localePath(path))}else{var r=Object.assign({},this.item);r.taskSource=4,r.logEventSource=Object(l.Y)(this.$route.name);var c=Object(f.l)(r);this.$EventBus.$emit("openGenerate",{action:1,data:{source:c},taskVersion:this.isVideo?"v2":""})}},paletteRemix:function(){var t=this.item,e=t.id,n=t.publish_status;this.$router.push(this.localePath("/editBoard?remix_id=".concat(e,"&publish_type=").concat(n)))},loraTrainRemix:function(){var t=this,e=this.item,n=e.id,o=e.content_type;["Checkpoint","LORA","TextualInversion","DoRA","LoCon"].includes(o)?Object(c.c)({model_id:n}).then((function(e){var n=e.data,o=n.ver_id,r=n.train_model_id,link="/loraTrainingEdit?dataSetNo=".concat(r,"&modelVerNo=").concat(o);t.$router.push(t.localePath(link))})):this.$message(this.$t("theTypeNocreate"))},modelRemix:function(){var t,e=this.item,n=(e.id,e.content_type),o=e.content_sub_type;if(["Checkpoint","LORA","TextualInversion","DoRA","LoCon"].includes(n)){var r=Object.assign({},this.item);r.taskSource=1,r.logEventSource=Object(l.Y)(this.$route.name),r.banner={url:r.cover.url},r.model_ver_no=null===(t=r.art_model)||void 0===t?void 0:t.ver_id;var c=Object(f.l)(r),d=this.isVideo||l.u.includes(o);this.$EventBus.$emit("openGenerate",{action:1,data:{source:c},taskVersion:d?"v2":""})}else this.$message(this.$t("theTypeNocreate"))},createComfyui:function(){var t=this.item,e=t.id,n=t.sub_obj_type,o=t.author;if(14!==n)if([1,2].includes(n)){var r,source=this.userInfo&&(null===(r=this.userInfo)||void 0===r?void 0:r.id)==(null==o?void 0:o.id)?3:4;this.$router.push(this.localePath("/workflow?id="+e+"&source=".concat(source)))}else this.$router.push(this.localePath("/workFlowAppDetail/"+e));else this.$router.push(this.localePath("/workFlowAppDetail/"+e))},createAudio:function(){var t=this.item.id,e=this.localePath("/ai-audio/create/".concat(t));this.$router.push(e)},userChart:function(){var t=this.item.id,e=this.localePath("/aiChat/".concat(t));this.$router.push(e)},collectionOk:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$emit("onCollectionOk",t),this.CardApp.handleAllAction({atype:"quicklyCollect"})},goDetail:function(){var t=this.item.id;window.open(this.localePath("/workFlowAppDetail/".concat(t)),"_blank")}}},y=_,w=(n(3904),n(0)),component=Object(w.a)(y,(function(){var t,e,n,o,r,l,c,d=this,h=d._self._c;return h("div",{staticClass:"prower-box"},[h("client-only",[d.isLoggedIn&&null!==(t=d.theConfig)&&void 0!==t&&null!==(t=t.hoverLeftUpArea)&&void 0!==t&&t.show&&!d.isVideo?[h("div",{staticClass:"left-up-area"},[d.showCollect?[h("CollectPopover",{staticClass:"CollectPop",attrs:{type:d.cardTypeNameOld[d.ktype],from:"waterfall",folder:d.collectItem,"data-event":"click_quick_collect","data-id":null===(e=d.item)||void 0===e?void 0:e.id,"data-type":null===(n=d.item)||void 0===n?void 0:n.obj_type,"data-info":JSON.stringify({position:d.CardApp.getPosition})},on:{onCollectionOk:d.collectionOk}})]:d._e()],2)]:d._e(),d._v(" "),null!==(o=d.theConfig)&&void 0!==o&&null!==(o=o.hoverRightUpArea)&&void 0!==o&&o.show||d.isVideo?[h("div",{staticClass:"right-up-area"},[d.showRightBtn?h("div",{staticClass:"waterfall-hover-try",attrs:{"data-event":"click_same_create","data-id":null===(r=d.item)||void 0===r?void 0:r.id,"data-type":null===(l=d.item)||void 0===l?void 0:l.obj_type,"data-info":JSON.stringify({position:d.CardApp.getPosition})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),d.handleClick.apply(null,arguments)}}},[d._v("\n          "+d._s(d.$t(null===(c=d.theConfig)||void 0===c||null===(c=c.hoverRightUpArea)||void 0===c?void 0:c.text))+"\n        ")]):d._e(),d._v(" "),d.isPlayDoor&&d.CardApp.isAiApp?h("div",{staticClass:"play-door-btn",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),d.goDetail.apply(null,arguments)}}},[d._v("\n          "+d._s(d.$t("Details"))+"\n        ")]):d._e()])]:d._e(),d._v(" "),![1,"1"].includes(d.item.obj_type)||this.CardApp.c_isInward||d.isVideo?d._e():[h("WorkPhoto",{ref:"WorkPhotoRef",attrs:{item:d.item}})]],2)],1)}),[],!1,null,"21084a7a",null);e.default=component.exports;installComponents(component,{CollectPopover:n(63).default})},3208:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(16),n(28),n(21),n(140),n(10)),l=n(39),c=n(1);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={inject:["CardApp"],components:{ShareDialog:n(144).default},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{showPop:!1}},computed:h(h({},Object(c.c)("user",["isLoggedIn"])),Object(c.e)("user",["userInfo"])),methods:h(h({},Object(c.d)("user",["setWaterFallDeleteLits"])),{},{hidePop:function(t){if(t.toElement){var e=!(t.toElement.className||"").includes("el-popover"),n="button"!==t.toElement.localName;e&&n&&(this.showPop=!1)}},handleType:function(t){var e=t.sub_obj_type,n=t.channel;return 2===e&&"sdxl"===n||4===e&&"sdxl"===n?"/cell":6===e?"/animate":"/upscale"},reportArtwork:function(data){var t=this;this.showPop=!1,Object(l.r)({id:data.id}).then((function(e){1e4==e.status.code&&t.$message({message:t.$t("ReportSuccess"),type:"success"})}))},getImageExtensionFromUrl:function(t){var e=t.match(/\/([^/]+)$/);return e&&e[1].includes(".")?"."+e[1].split(".").pop().toLowerCase():".jpeg"},downloadImg:function(data){var t;this.showPop=!1;var e=null==data||null===(t=data.cover)||void 0===t?void 0:t.url,n=this.getImageExtensionFromUrl(e),o=(data.author?data.id:"image")+"".concat(n);Object(r.M)(e,o)},shareWork:function(data){var t;this.showPop=!1;var path="".concat(window.location.origin,"/")+"explore/detail/".concat(data.id,"?source=share_link")+(this.inviteCode?"&u_code=".concat(this.inviteCode):""),image=null==data||null===(t=data.cover)||void 0===t?void 0:t.url;this.$refs.shareDialog.show(path,image,"share","waterfall_flow")},uninterested:function(data){var t=this;this.showPop=!1,Object(l.i)({items:[{action:"not_interested",obj_no:data.id,obj_type:1,filter_category:data.obj_filter}]}).then((function(e){var n,o;1e4==(null==e||null===(n=e.status)||void 0===n?void 0:n.code)?(t.$message({message:t.$t("reduceWork"),type:"success"}),t.setWaterFallDeleteLits(data.id),t.CardApp.handFns.resizeFn()):t.$message({message:(null==e||null===(o=e.status)||void 0===o?void 0:o.msg)||t.$t("ServerError"),type:"error"})}))}})},m=(n(3903),n(0)),component=Object(m.a)(f,(function(){var t,e=this,n=e._self._c;return n("div",[n("div",{staticClass:"waterfall-hover-photo"},[n("div",{staticClass:"hoverTop"},[n("span",[e._v(e._s(e.handleType(e.item)))]),e._v(" "),e.isLoggedIn?n("div",{staticClass:"moreEdit"},[n("el-popover",{ref:"myPopover",attrs:{placement:"top-end","popper-class":"water-fall-popover","append-to-body":!0,"visible-arrow":!1,"popper-options":{boundariesElement:"body"},width:"100",trigger:"manual","data-hover":"no"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[n("div",{staticClass:"pop-btns flex",attrs:{"data-hover":"no"}},[n("button",{attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.reportArtwork(e.item)}}},[e._v("\n              "+e._s(e.$t("Report"))+"\n            ")]),e._v(" "),n("button",{attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.downloadImg(e.item)}}},[e._v("\n              "+e._s(e.$t("Download"))+"\n            ")]),e._v(" "),n("button",{attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.shareWork(e.item)}}},[e._v("\n              "+e._s(e.$t("ShareLink"))+"\n            ")]),e._v(" "),e.CardApp.isWater?[n("button",{directives:[{name:"show",rawName:"v-show",value:(null===(t=e.item)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.id)!==e.userInfo.id,expression:"item?.author?.id !== userInfo.id"}],attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.uninterested(e.item)}}},[e._v("\n                "+e._s(e.$t("dislike"))+"\n              ")])]:e._e()],2),e._v(" "),n("div",{staticClass:"login-waterFall-btn-icon",attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showPop=!e.showPop}},slot:"reference"},[n("i",{staticClass:"iconfont icon-more"})])])],1):e._e()]),e._v(" "),n("div",{staticClass:"hoverMiddle"},[e._v("\n      "+e._s(e.item.sub_title)+"\n    ")])]),e._v(" "),n("ShareDialog",{ref:"shareDialog",attrs:{type:"artwork"}})],1)}),[],!1,null,"25115f62",null);e.default=component.exports;installComponents(component,{ShareDialog:n(144).default})},3209:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=n(30),d=n(3),h=(n(20),n(19),n(16),n(18),n(21),n(1)),f=n(9),m=n(174),v=n(29),_=n(107),y=n(3210),w=n(301),C=n(10);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={inject:["CardApp"],components:{MoreBtn:y.default,SelectVideoModelModal:w.default},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{collectDotReportInfo:{},reMixLoagin:!1}},computed:O(O(O(O(O({},Object(h.c)("user",["isLoggedIn"])),Object(h.e)("user",["userInfo"])),Object(h.e)("app",["ABInfo"])),Object(h.c)(["videoHasVoice"])),{},{ktype:function(){return Object(_.d)(this.item.obj_type)},theConfig:function(){return this.CardApp.theConfig},isAudioVideo:function(){var t;return-1===this.item.count||-1===(null===(t=this.item)||void 0===t||null===(t=t.child)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.count)},showRightBtn:function(){var t=this.item.obj_type;return[1,4,13,16,2,13,11,9,14].includes(t)},isVideo:function(){return this.CardApp.isVideo},isGif:function(){return this.CardApp.isGif},hideRemixBtn:function(){var t=this.item,e=t.obj_type,n=t.content_sub_type,o=[4].includes(e),r=[5,"5",3,"3"].includes(n);return o&&r},artWorkNo:function(){var t,e=this.item,n=e.id,o=e.child;return(null==o||null===(t=o[0])||void 0===t?void 0:t.id)||n},artWorkUrl:function(){var t=this.item,e=t.cover,n=t.stream,o=(null==n?void 0:n.url)||(null==n?void 0:n.url2)||(null==n?void 0:n.url3);return(this.isVideo?o:null==e?void 0:e.url)||""}}),methods:{logAction:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$logEvent("log_actions",{operation:e,behavior_info:this.item.id,obj_type:this.item.obj_type,position:this.CardApp.getPosition,behavior_info_sub:(null===(t=this.item)||void 0===t?void 0:t.pt)||""})},handleSound:function(){this.$logEvent("log_actions",{operation:this.videoHasVoice?"click_mute":"click_unmute",behavior_info:"on_video_create_flow_page"}),this.$store.commit("app/SET_VIDEO_HAS_VOICE",!this.videoHasVoice)},handleClick:function(){var t=this.item.obj_type,e=[1,2,4,11].includes(t),n=[13,14,16].includes(t);e&&this.createRemix(),n&&this.createTry(),9===t&&this.userChart(),this.CardApp.dotPushReport({action:"task"}),this.logAction("same_create"),this.CardApp.handleAllAction({atype:"taskRemix"})},createRemix:function(){var t=this.item.obj_type;this.CardApp.isLoraTrain&&this.loraTrainRemix(),this.CardApp.isModel&&this.modelRemix(),[1].includes(t)&&this.artworkRemix(),[11].includes(t)&&this.paletteRemix(),[4].includes(t)&&this.postRemix()},createTry:function(){var t=this.item.obj_type,e=[13,14].includes(t),audio=[16].includes(t);e&&this.createComfyui(),audio&&this.createAudio()},aiappMix:function(){var t=this,data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},data);this.reMixLoagin=!0,Object(v.getTaskConfig)({art_work_no:data.id,source:4}).then((function(n){var o;e.activeCategory="aiApp",e.creativity=null==n||null===(o=n.data)||void 0===o?void 0:o.creativity,e.reMixId=data.id,t.reMixLoagin=!1,t.$EventBus.$emit("openGenerate",{action:1,data:{source:e},taskVersion:t.isVideo?"v2":""})})).catch((function(e){t.reMixLoagin=!1,console.error("获取任务信息失败",e)}))},aiFaceSwapRemix:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.channel,n=t.sub_channel,o=t.id;if("swift_tool"===e&&"face_swap"===n){var path="/ai-tools/ai-face-swap?artWorkNo=".concat(o);return this.$router.push(this.localePath(path)),!0}return!1},artworkRemix:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c,d,path,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.item,o=n.channel,r=n.id,l=t.getRouteBaseName(),d="workFlowAppDetail"===l,!(c="comfyui"===o)||!d){e.next=8;break}return path="/workFlowAppDetail/".concat(t.$route.params.id,"?task=mix-").concat(r),t.$router.push(t.localePath(path)),e.abrupt("return");case 8:if(!t.aiFaceSwapRemix(t.item)){e.next=10;break}return e.abrupt("return");case 10:if((h=Object.assign({},t.item)).taskSource=4,h.logEventSource=Object(f.Y)(t.$route.name),m=Object(_.l)(h),!c){e.next=17;break}return t.aiappMix(m),e.abrupt("return");case 17:t.$EventBus.$emit("openGenerate",{action:1,data:{source:m},taskVersion:t.isVideo||c?"v2":""});case 18:case"end":return e.stop()}}),e)})))()},postRemix:function(){var t=Object.assign({},this.item);t.taskSource=4,t.logEventSource=Object(f.Y)(this.$route.name);var e=(null==t?void 0:t.child)||[],n=Object(c.a)(e,1)[0],o=void 0===n?{}:n,r=Object(_.l)(t);r.id=(null==o?void 0:o.id)||"",r.model_ver_no="",r.art_model=void 0,"comfyui"!==o.channel?this.aiFaceSwapRemix(o)||this.$EventBus.$emit("openGenerate",{action:1,data:{source:r},taskVersion:this.isVideo?"v2":""}):this.aiappMix(r)},paletteRemix:function(){var t=this.item,e=t.id,n=t.publish_status;this.$router.push(this.localePath("/editBoard?remix_id=".concat(e,"&publish_type=").concat(n)))},loraTrainRemix:function(){var t=this,e=this.item,n=e.id,o=e.content_type;["Checkpoint","LORA","TextualInversion","DoRA","LoCon"].includes(o)?Object(m.c)({model_id:n}).then((function(e){var n=e.data,o=n.ver_id,r=n.train_model_id,link="/loraTrainingEdit?dataSetNo=".concat(r,"&modelVerNo=").concat(o);t.$router.push(t.localePath(link))})):this.$message(this.$t("theTypeNocreate"))},modelRemix:function(){var t,e=this.item,n=(e.id,e.content_type),o=e.content_sub_type,r=["Checkpoint","LORA","TextualInversion","DoRA","LoCon"].includes(n),l=f.G.includes(o);if(r){var c=Object.assign({},this.item);c.taskSource=1,c.logEventSource=Object(f.Y)(this.$route.name),c.banner={url:c.cover.url},c.model_ver_no=null===(t=c.art_model)||void 0===t?void 0:t.ver_id;var d=Object(_.l)(c);this.$EventBus.$emit("openGenerate",{action:1,data:{source:d},taskVersion:l?"v2":""})}else this.$message(this.$t("theTypeNocreate"))},createComfyui:function(){var t=this.item,e=t.id,n=t.sub_obj_type,o=t.author;if(14!==n)if([1,2].includes(n)){var r,source=this.userInfo&&(null===(r=this.userInfo)||void 0===r?void 0:r.id)==(null==o?void 0:o.id)?3:4;this.$router.push(this.localePath("/workflow?id="+e+"&source=".concat(source)))}else this.$router.push(this.localePath("/workFlowAppDetail/"+e));else this.$router.push(this.localePath("/workFlowAppDetail/"+e))},createAudio:function(){var t=this.item.id,e=this.localePath("/ai-audio/create/".concat(t));this.$router.push(e)},userChart:function(){var t=this.item.id,e=this.localePath("/aiChat/".concat(t));this.$router.push(e)},handleAiGenerateVideo:function(){var t,e=((null===(t=this.item)||void 0===t?void 0:t.cover)||{}).url,n=void 0===e?"":e;this.handleSelectVideoModel({},n),this.logAction("imgToVideo")},handPlayDoor:function(){var t,e=this;this.$logEvent("log_actions",{operation:"click_play_around",behavior_info:"on_waterfall_flow",page_location:null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href}),this.$EventBus.$emit("showDialog",{name:"HyAssembleModal",data:{doorCode:this.isVideo?"aiVideoApp":"aiImageApp",artWorkNo:this.artWorkNo,workUrl:this.artWorkUrl,source:4,objType:this.item.obj_type,onAfterAction:function(){e.$EventBus.$emit("hideDialog","HyAssembleModal")}}})},handleSelectVideoModel:function(t,e){if(this.isLoggedIn){var n=Object.assign({},t,{imageToVideoUrl:e});this.$EventBus.$emit("openGenerate",{action:0,taskVersion:"v2",data:{source:n}}),this.CardApp.handleAllAction({atype:"imgToVideo"})}else this.$EventBus.$emit("openLoginDialog")},handleDownload:function(){var t;if(this.isLoggedIn){var e=(null===(t=this.item)||void 0===t?void 0:t.stream)||{},n=e.url,o=e.url2,r=e.url3,path=n||o||r,l=this.item,c=l.obj_type,d=l.sub_obj_type,h=l.id,f="".concat(c,"_").concat(d,"_").concat(h,"_").concat((new Date).getTime());Object(C.M)(path,f),this.logAction("click_download"),this.CardApp.dotPushReport({action:"download"}),this.CardApp.handleAllAction({atype:"download"})}else this.$EventBus.$emit("openLoginDialog")}}},j=k,I=(n(3909),n(0)),component=Object(I.a)(j,(function(){var t,e,n,o,r,c,d,h,f,m,v,_,y,w,C,x,O,k=this,j=k._self._c;return j("div",{staticClass:"prower-box"},[j("client-only",[k.isLoggedIn&&null!==(t=k.theConfig)&&void 0!==t&&null!==(t=t.hoverLeftUpArea)&&void 0!==t&&t.show?[j("div",{staticClass:"left-up-area"},[k.isAudioVideo?[j("div",{staticClass:"voice-btn-item"},[j("i",{class:["iconfont",k.videoHasVoice?"icon-icon-home-voice":"icon-icon-home-mute"],attrs:{"data-event":k.videoHasVoice?"click_mute":"click_unmute","data-id":null===(e=k.item)||void 0===e?void 0:e.id,"data-type":null===(n=k.item)||void 0===n?void 0:n.obj_type,"data-index":k.CardApp.logData.index,"data-position":k.CardApp.getPosition,"data-info":JSON.stringify(l({},k.CardApp.logDataInfo)),"data-desc":"瀑布流音频按钮点击"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),k.handleSound.apply(null,arguments)}}})])]:k._e()],2)]:k._e(),k._v(" "),null!==(o=k.theConfig)&&void 0!==o&&null!==(o=o.hoverRightUpArea)&&void 0!==o&&o.show?[j("div",{staticClass:"right-up-area"},[j("MoreBtn",{attrs:{item:k.item}})],1)]:k._e(),k._v(" "),j("div",{staticClass:"bottom-btn-area"},[j("div",{staticClass:"content-box"},[null===(r=k.theConfig)||void 0===r||null===(r=r.hoverRightUpArea)||void 0===r||!r.imgToVideo||k.isVideo||k.isGif?k._e():j("div",{staticClass:"btn-item flex_c_m",attrs:{"data-event":"click_img_to_video","data-id":null===(c=k.item)||void 0===c?void 0:c.id,"data-type":null===(d=k.item)||void 0===d?void 0:d.obj_type,"data-pt":null===(h=k.item)||void 0===h?void 0:h.pt,"data-desc":"瀑布流图片转视频按钮点击","data-index":k.CardApp.logData.index,"data-position":k.CardApp.getPosition,"data-info":JSON.stringify(l({},k.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),k.handleAiGenerateVideo.apply(null,arguments)}}},[k._v("\n          "+k._s(k.$t(null===(f=k.theConfig)||void 0===f||null===(f=f.hoverRightUpArea)||void 0===f?void 0:f.imgToVideo))+"\n        ")]),k._v(" "),k.isVideo?j("div",{staticClass:"btn-item flex_c_m",attrs:{"data-event":"play_around","data-id":null===(m=k.item)||void 0===m?void 0:m.id,"data-type":null===(v=k.item)||void 0===v?void 0:v.obj_type,"data-pt":null===(_=k.item)||void 0===_?void 0:_.pt,"data-desc":"瀑布流玩一玩按钮点击","data-index":k.CardApp.logData.index,"data-position":k.CardApp.getPosition,"data-info":JSON.stringify(l({},k.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),k.handPlayDoor.apply(null,arguments)}}},[k._v("\n          "+k._s(k.$t(null===(y=k.theConfig)||void 0===y||null===(y=y.hoverRightUpArea)||void 0===y?void 0:y.play))+"\n        ")]):k._e(),k._v(" "),k.hideRemixBtn?k._e():j("div",{directives:[{name:"loading",rawName:"v-loading",value:k.reMixLoagin,expression:"reMixLoagin"}],staticClass:"btn-item flex_c_m",attrs:{"data-event":"click_same_create","data-id":null===(w=k.item)||void 0===w?void 0:w.id,"data-type":null===(C=k.item)||void 0===C?void 0:C.obj_type,"data-pt":null===(x=k.item)||void 0===x?void 0:x.pt,"data-index":k.CardApp.logData.index,"data-position":k.CardApp.getPosition,"data-desc":"瀑布流创同款按钮点击","data-info":JSON.stringify(l({},k.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),k.handleClick.apply(null,arguments)}}},[k._v("\n          "+k._s(k.$t(null===(O=k.theConfig)||void 0===O||null===(O=O.hoverRightUpArea)||void 0===O?void 0:O.text))+"\n        ")])])])],2),k._v(" "),j("SelectVideoModelModal",{ref:"selectVideoModelModal",attrs:{changeBtnColor:!0},on:{confirm:k.handleSelectVideoModel}})],1)}),[],!1,null,"2ecdca50",null);e.default=component.exports},3210:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(19),n(16),n(28),n(21),n(140);var c=n(10),d=n(1),h=n(144),f=n(404),m=n(361);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={inject:["CardApp"],components:{ShareDialog:h.default,NoLike:f.default,Report:m.default},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{showPop:!1}},computed:_(_(_({},Object(d.c)("user",["isLoggedIn"])),Object(d.e)("user",["userInfo"])),{},{isVideo:function(){return this.CardApp.isVideo},targetItem:function(){var t=this.item||{},e=t.id,n=void 0===e?"":e,o=t.obj_type;return{id:n,obj_type:void 0===o?1:o}}}),methods:_(_({},Object(d.d)("user",["setWaterFallDeleteLits"])),{},{hidePop:function(t){if(t.toElement){var e=!(t.toElement.className||"").includes("el-popover"),n="button"!==t.toElement.localName;e&&n&&(this.showPop=!1)}},reportArtwork:function(data){this.$logEvent("log_actions",{operation:"click_report",behavior_info:data.id}),this.showPop=!1},getImageExtensionFromUrl:function(t){var e=t.match(/\/([^/]+)$/);return e&&e[1].includes(".")?"."+e[1].split(".").pop().toLowerCase():".jpeg"},downloadImg:function(data){var t;this.$logEvent("log_actions",{operation:"click_download",behavior_info:data.id}),this.showPop=!1;var e=null==data||null===(t=data.cover)||void 0===t?void 0:t.url,n=this.getImageExtensionFromUrl(e),o=(data.author?data.id:"image")+"".concat(n);Object(c.M)(e,o),this.CardApp.dotPushReport({action:"download"})},shareWork:function(data){var t;this.$logEvent("log_actions",{operation:"click_share_link",behavior_info:data.id}),this.showPop=!1;var e={1:"explore/detail",4:"artWorkDetail"}[data.obj_type],path="".concat(window.location.origin,"/")+"".concat(e,"/").concat(data.id,"?source=share_link")+(this.inviteCode?"&u_code=".concat(this.inviteCode):""),image=null==data||null===(t=data.cover)||void 0===t?void 0:t.url;this.$refs.shareDialog.show(path,image,"share","waterfall_flow")},uninterested:function(data){this.$logEvent("log_actions",{operation:"click_not_interested",behavior_info:data.id}),this.showPop=!1}})},w=(n(3907),n(0)),component=Object(w.a)(y,(function(){var t,e,n,o,r,c,d,h,f,m=this,v=m._self._c;return m.isLoggedIn?v("div",[v("el-popover",{ref:"myPopover",attrs:{placement:"bottom-end","popper-class":"water-fall-popover","append-to-body":!0,"visible-arrow":!1,"popper-options":{boundariesElement:"body"},"open-delay":200,width:"100",trigger:"hover","data-hover":"no"},model:{value:m.showPop,callback:function(t){m.showPop=t},expression:"showPop"}},[v("div",{staticClass:"pop-btns flex",attrs:{"data-hover":"no"}},[v("Report",{attrs:{targetItem:m.targetItem},on:{onClick:m.reportArtwork}},[v("button",{attrs:{"data-event":"click_report","data-id":null===(t=m.item)||void 0===t?void 0:t.id,"data-type":null===(e=m.item)||void 0===e?void 0:e.obj_type,"data-desc":"瀑布流举报按钮点击","data-hover":"no","data-index":m.CardApp.logData.index,"data-position":m.CardApp.getPosition,"data-info":JSON.stringify(l({},m.CardApp.logDataInfo))}},[m._v("\n          "+m._s(m.$t("Report"))+"\n        ")])]),m._v(" "),m.isVideo?m._e():v("button",{attrs:{"data-event":"download","data-id":null===(n=m.item)||void 0===n?void 0:n.id,"data-type":null===(o=m.item)||void 0===o?void 0:o.obj_type,"data-desc":"瀑布流下载按钮点击","data-index":m.CardApp.logData.index,"data-position":m.CardApp.getPosition,"data-info":JSON.stringify(l({},m.CardApp.logDataInfo)),"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),m.downloadImg(m.item)}}},[m._v("\n        "+m._s(m.$t("Download"))+"\n      ")]),m._v(" "),v("button",{attrs:{"data-event":"share","data-id":null===(r=m.item)||void 0===r?void 0:r.id,"data-type":null===(c=m.item)||void 0===c?void 0:c.obj_type,"data-desc":"瀑布流分享按钮点击","data-index":m.CardApp.logData.index,"data-position":m.CardApp.getPosition,"data-info":JSON.stringify(l({},m.CardApp.logDataInfo)),"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),m.shareWork(m.item)}}},[m._v("\n        "+m._s(m.$t("ShareLink"))+"\n      ")]),m._v(" "),m.CardApp.isWater?v("NoLike",{attrs:{targetItem:m.targetItem},on:{onClick:m.uninterested}},[v("button",{directives:[{name:"show",rawName:"v-show",value:(null===(d=m.item)||void 0===d||null===(d=d.author)||void 0===d?void 0:d.id)!==m.userInfo.id,expression:"item?.author?.id !== userInfo.id"}],attrs:{"data-event":"not_interest","data-id":null===(h=m.item)||void 0===h?void 0:h.id,"data-type":null===(f=m.item)||void 0===f?void 0:f.obj_type,"data-desc":"瀑布流不感兴趣按钮点击","data-index":m.CardApp.logData.index,"data-position":m.CardApp.getPosition,"data-info":JSON.stringify(l({},m.CardApp.logDataInfo)),"data-hover":"no"}},[m._v("\n          "+m._s(m.$t("dislike"))+"\n        ")])]):m._e()],1),m._v(" "),v("div",{staticClass:"login-waterFall-btn-icon flex_c_m",attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),m.showPop=!m.showPop}},slot:"reference"},[v("i",{staticClass:"iconfont icon-more"})])]),m._v(" "),v("ShareDialog",{ref:"shareDialog",attrs:{type:"artwork"}})],1):m._e()}),[],!1,null,"698e886e",null);e.default=component.exports;installComponents(component,{ShareDialog:n(144).default})},3211:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(24);var c=n(1),d=n(39);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={name:"ShieldMask",inject:["CardApp"],props:{item:{type:Object,default:function(){}},isReport:{type:Boolean,default:!1},isNoLike:{type:Boolean,default:!1},borderRadius:{type:Number,default:12}},computed:{imgUrl:function(){var t,e=this.item,n=e.nsfw,o=e.obj_type;return 1===n&&9===o?"https://image.cdn2.seaart.ai/static/upload/20231207/39b3e881-ae85-415d-b7aa-74182b3b6267.webp":(null===(t=this.item)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.url)||""}},methods:f(f({},Object(c.d)("user",["DELETE_NO_LIKE_LIST"])),{},{handleClick:function(){return!1},handleUndo:function(){var t=this,e=this.item,n=e.id,o=e.obj_filter;Object(d.i)({items:[{action:"not_interested_cancel",obj_no:n,obj_type:1,filter_category:o}]}).then((function(){t.$message({message:t.$t("OperateSuccess"),type:"success"})})),this.DELETE_NO_LIKE_LIST(this.item.id)}})},v=(n(3910),n(0)),component=Object(v.a)(m,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"shield-mask-box",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handleClick.apply(null,arguments)}}},[o("div",{staticClass:"mask-box"},[o("img",{staticClass:"img-box",attrs:{src:n.imgUrl,alt:""}})]),n._v(" "),n.isReport?[o("div",{staticClass:"content-box report-box",style:{borderRadius:"".concat(n.borderRadius,"px")}},[o("p",{staticClass:"title"},[n._v(n._s(n.$t("Reported_mask1")))]),n._v(" "),o("p",{staticClass:"desc"},[n._v(n._s(n.$t("Reported_mask2")))])])]:n._e(),n._v(" "),n.isNoLike?[o("div",{staticClass:"content-box no-like-box",style:{borderRadius:"".concat(n.borderRadius,"px")}},[o("p",{staticClass:"desc"},[n._v(n._s(n.$t("hide_mask1")))]),n._v(" "),o("div",{staticClass:"btn flex_m",attrs:{"data-event":"remove_not_interest","data-id":null===(t=n.item)||void 0===t?void 0:t.id,"data-type":null===(e=n.item)||void 0===e?void 0:e.obj_type,"data-desc":"瀑布流不感兴趣撤销按钮点击","data-index":n.CardApp.logData.index,"data-position":n.CardApp.getPosition,"data-info":JSON.stringify(l({},n.CardApp.logDataInfo))},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handleUndo.apply(null,arguments)}}},[n._m(0),n._v("\n        "+n._s(n.$t("fastToolsUndo"))+"\n      ")])])]:n._e()],2)}),[function(){var t=this._self._c;return t("div",{staticClass:"icon-box"},[t("i",{staticClass:"iconfont icon-ai-edit-refresh-icon"})])}],!1,null,"791cb42f",null);e.default=component.exports},3212:function(t,e,n){"use strict";n.r(e);n(26);var o={inject:["CardApp"],components:{MyPlayer:n(318).default},props:{item:{type:Object,default:function(){return{}}}},computed:{logExposureParams:function(){var t,e={type:this.item.obj_type,id:this.item.id,pt:this.item.pt||"",position:(null==this||null===(t=this.CardApp)||void 0===t?void 0:t.getPosition)||""};return JSON.stringify(e)}},data:function(){var t,e,n;return{videoConfig:{id:"ai-video-player-"+(new Date).getTime(),url:(null==this||null===(t=this.item)||void 0===t||null===(t=t.stream)||void 0===t?void 0:t.url)||(null==this||null===(e=this.item)||void 0===e||null===(e=e.stream)||void 0===e?void 0:e.url2)||(null==this||null===(n=this.item)||void 0===n||null===(n=n.stream)||void 0===n?void 0:n.url3),width:"100%",height:"100%",volume:0,loop:!0,controls:!1,titleSlot:!1,ignores:["start","loading","enter"]},isPlayOk:!1,showVideo:!1,playerRoom:null,playerEvents:null,PlayerExpandAttrs:null}},methods:{handleMouseOver:function(){this.showVideo=!0},handleMouseOut:function(){var t=this;this.isPlayOk=!1,setTimeout((function(){t.playerRoom&&(t.playerRoom.pause(),t.PlayerExpandAttrs.destroyMyPlayer()),t.showVideo=!1}),500)},playerReady:function(t){var e=this,n=t.player,o=t.Events,r=t.expandAttrs;this.playerRoom=n,this.playerEvents=o,this.PlayerExpandAttrs=r,n.on(o.LOADED_DATA,(function(data){n.play().then((function(){e.isPlayOk=!0}))}))}}},r=(n(3921),n(0)),component=Object(r.a)(o,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"video-item-box flex_c_m"},[o("img",{staticClass:"cover-img gl-exposure-node",attrs:{src:null===(t=n.item.cover)||void 0===t?void 0:t.url,alt:(null===(e=n.item)||void 0===e?void 0:e.title)||"","log-exposure":n.logExposureParams}}),n._v(" "),o("div",{staticClass:"video-mask"}),n._v(" "),n.showVideo?o("MyPlayer",{ref:"MyPlayerRef",staticClass:"player-box",style:{opacity:n.isPlayOk?1:0,transition:"all 0.5s"},attrs:{config:n.videoConfig,onReady:n.playerReady}}):n._e()],1)}),[],!1,null,"a1497872",null);e.default=component.exports;installComponents(component,{MyPlayer:n(318).default})},3213:function(t,e,n){"use strict";n.r(e);var o=n(3214),r=n(3215),l={components:{NextVideo:o.default,RelatedVideo:r.default},data:function(){return{hasShow:!1,videoInfo:{},shwoType:"NextVideo"}},methods:{showVideoPop:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hasShow=!0,this.videoInfo=data,this.shwoType="NextVideo",this.$refs.NextVideoRef.startTiming()},hideVideoPop:function(){this.hasShow=!1,this.shwoType="NextVideo",this.$refs.NextVideoRef.closeonPlay()},handCancel:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shwoType="RelatedVideo",this.$refs.RelatedVideoRef.getList(data)},handRelatedItem:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$emit("onRelatedItem",data)}}},c=l,d=(n(3919),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasShow,expression:"hasShow"}],staticClass:"vother-modal-box flex_c_m"},[e("NextVideo",{directives:[{name:"show",rawName:"v-show",value:"NextVideo"===t.shwoType,expression:"shwoType === 'NextVideo'"}],ref:"NextVideoRef",attrs:{item:t.videoInfo},on:{onCancel:t.handCancel}}),t._v(" "),e("RelatedVideo",{directives:[{name:"show",rawName:"v-show",value:"RelatedVideo"===t.shwoType,expression:"shwoType === 'RelatedVideo'"}],ref:"RelatedVideoRef",attrs:{item:t.videoInfo},on:{onRelatedItem:t.handRelatedItem}})],1)}),[],!1,null,"466c425d",null);e.default=component.exports},3214:function(t,e,n){"use strict";n.r(e);n(26);var o=n(10),r=null,l={inject:["VMAX"],props:{item:{type:Object,default:function(){return{}}}},data:function(){return{timeFormat:o.U,locDurationNum:0,progress:0}},computed:{info:function(){var t;return(null===(t=this.item)||void 0===t?void 0:t.params)||{}},tomiao:function(){var t=this.VMAX.expandField.durationNum-this.locDurationNum;return Math.ceil(t/1e3)}},beforeDestroy:function(){this.closeonPlay()},methods:{startTiming:function(){var t=this;r&&clearTimeout(r),r=setTimeout((function(){var e=t.VMAX.expandField.durationNum;t.locDurationNum+=1e3,t.progress=t.locDurationNum/e*100,t.locDurationNum<e?t.startTiming():(t.locDurationNum=0,t.progress=0,t.item.call&&t.item.call())}),1e3)},closeonPlay:function(){r&&clearTimeout(r),this.locDurationNum=0,this.progress=0},handNowPaly:function(){this.$logEvent("log_actions",{operation:"broadcast_now",behavior_info:"on_ai_video_detail_page",behavior_info_sub:this.info.id}),this.$parent.hideVideoPop(),this.item.call&&this.item.call()},handCancel:function(){this.$logEvent("log_actions",{operation:"cancel_broadcast",behavior_info:"on_ai_video_detail_page",behavior_info_sub:this.info.id}),this.closeonPlay(),this.$emit("onCancel",this.item.params)}}},c=(n(3917),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vinfo-box"},[e("p",{staticClass:"play-time"},[t._v(t._s(t.$t("nextPlayNum",{num:t.tomiao})))]),t._v(" "),e("div",{staticClass:"vimg-box"},[e("img",{staticClass:"vimage",attrs:{alt:t.$t("CoverImg"),src:t.info.cover}}),t._v(" "),e("div",{staticClass:"progress-bar",style:{width:t.progress+"%"}}),t._v(" "),t.info.duration?e("div",{staticClass:"duration"},[t._v(t._s(t.timeFormat(t.info.duration)))]):t._e()]),t._v(" "),e("div",{staticClass:"btns-box flex_c"},[e("div",{staticClass:"cancel flex_c_m",on:{click:t.handCancel}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("div",{staticClass:"submit flex_c_m",on:{click:t.handNowPaly}},[t._v("\n      "+t._s(t.$t("nowPaly"))+"\n    ")])])])}),[],!1,null,"24f43b9a",null);e.default=component.exports},3215:function(t,e,n){"use strict";n.r(e);n(22);var o=n(268),r=n(10),l={inject:["VMAX"],props:{item:{type:Object,default:function(){return{}}}},data:function(){return{timeFormat:r.U,listData:Array(6).map((function(){return{}}))}},computed:{relatedWh:function(){var t;return(null===(t=this.VMAX.expandField)||void 0===t?void 0:t.relatedWh)||{}},listW:function(){return 3*(this.relatedWh.w||221)+40}},methods:{getList:function(data){var t=this,e=this.VMAX.expandField.videoProdType,n={obj_id:data.id,obj_type:e,page:1,page_size:6};Object(o.f)(n).then((function(e){var n;t.listData=(null==e||null===(n=e.data)||void 0===n?void 0:n.items)||[]}))},durationVal:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(null==data?void 0:data.look_book)||(null==data?void 0:data.ai_video)||{};return(null==t?void 0:t.duration)||0},handRelatedItem:function(data){this.$emit("onRelatedItem",data)},hasFlip:function(data){var t=data.cover_width<data.cover_height,e=this.VMAX.expandField,n=e.relatedWh,o=e.videoProdType;if(t&&5===o)return{transform:"rotate(270deg)",width:n.h+"px",height:n.w+"px",transformOrigin:"top left",position:"absolute",top:"100%",left:0,objectFit:"fill"}}}},c=l,d=(n(3918),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"related-box"},[e("div",{staticClass:"rtitle"},[t._v(t._s(t.$t("ExploreRelated")))]),t._v(" "),e("div",{staticClass:"video-list flex",style:{width:t.listW+"px"}},t._l(t.listData,(function(n,o){return e("div",{key:(null==n?void 0:n.id)||o,staticClass:"item",style:{width:(t.relatedWh.w||221)+"px",height:(t.relatedWh.h||128)+"px"}},[null!=n&&n.cover?e("img",{staticClass:"vimage",style:t.hasFlip(n),attrs:{fit:"cover",alt:t.$t("CoverImg"),src:null==n?void 0:n.cover},on:{click:function(e){return t.handRelatedItem(n)}}}):t._e(),t._v(" "),t.durationVal(n)?e("div",{staticClass:"duration"},[t._v("\n        "+t._s(t.timeFormat(t.durationVal(n)))+"\n      ")]):t._e()])})),0)])}),[],!1,null,"b5a90660",null);e.default=component.exports},3216:function(t,e,n){"use strict";n.r(e);var o=n(107),r={inject:["CardApp"],data:function(){return{}},props:{item:{type:Object,default:function(){return{}}}},computed:{rightMarkICon:function(){var t=this.item.obj_type,e=o.a[t];return this.CardApp.isVideo?"icon-icon-tag-video":o.e[e]||""}}},l=(n(3923),n(0)),component=Object(l.a)(r,(function(){var t,e,n=this,o=n._self._c;return o("div",[2==(null===(t=n.item)||void 0===t?void 0:t.obj_type)&&7==(null===(e=n.item)||void 0===e?void 0:e.sub_obj_type)?o("div",{staticClass:"mark-box flex_c_m"},[o("i",{class:["iconfont",n.rightMarkICon]})]):n._e()])}),[],!1,null,"2a63bceb",null);e.default=component.exports},3217:function(t,e,n){"use strict";n.r(e);var o={name:"TaskAndActivityMark",props:{item:{type:Object,default:function(){}}},data:function(){return{POST_NUM_MIN:20,POST_NUM_MAX:50,RANDOM_NUM_BASE:1e4,RANDOM_NUM_MAX:5e4}},computed:{getActivityNum:function(){try{var t;return((null===(t=this.item.stat)||void 0===t?void 0:t.num_of_activity)||0)*(Math.floor(Math.random()*(this.POST_NUM_MAX-this.POST_NUM_MIN+1))+this.POST_NUM_MIN)+(Math.floor(Math.random()*(this.RANDOM_NUM_MAX-this.RANDOM_NUM_BASE+1))+this.RANDOM_NUM_BASE)}catch(t){return 0}}}},r=(n(3928),n(0)),component=Object(r.a)(o,(function(){var t,e,o,r=this,l=r._self._c;return l("div",{staticClass:"task-and-activity-mark"},[l("div",{staticClass:"item task-mark",class:{hidden:!(null!==(t=r.item.stat)&&void 0!==t&&t.num_of_task)}},[l("img",{attrs:{src:n(169),alt:"task-mark"}}),r._v(" "),l("span",{staticClass:"task-mark-text"},[r._v(r._s(r.$t("win_x_credits",{num:(null===(e=r.item.stat)||void 0===e?void 0:e.num_of_task)||0})))])]),r._v(" "),l("div",{staticClass:"item activity-mark",class:{hidden:!(null!==(o=r.item.stat)&&void 0!==o&&o.num_of_activity)}},[l("img",{attrs:{src:n(667),alt:"activity-mark"}}),r._v(" "),l("span",{staticClass:"activity-mark-text"},[r._v(r._s(r.getActivityNum))])])])}),[],!1,null,"0f0897d0",null);e.default=component.exports},3218:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this._self._c;return t("div",{staticClass:"item task-mark"},[t("img",{staticClass:"gift-btn-icon",attrs:{src:n(1035)}})])}],r=n(810),l={name:"DailyChallengeMark",props:{item:{type:Object,default:function(){}}},data:function(){return{RANDOM_NUM_MIN:3e5,RANDOM_NUM_MAX:9e5}},computed:{getActivityNum:function(){try{var t=new Date;t.setMinutes(0,0,0);var e=Math.floor(t.getTime()/1e3);return new r.a(e).randomInt(this.RANDOM_NUM_MIN,this.RANDOM_NUM_MAX)}catch(t){return 0}}}},c=(n(3929),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"daily-challenge-mark"},[e("div",{staticClass:"item daily-challenge-mark-top"},[e("img",{attrs:{src:n(169),alt:"activity-mark"}}),t._v(" "),e("span",{staticClass:"task-mark-text"},[t._v(t._s(t.$t("daily_challenge")))])]),t._v(" "),e("div",{staticClass:"daily-challenge-mark-bottom"},[t._m(0),t._v(" "),e("div",{staticClass:"item activity-mark"},[e("img",{attrs:{src:n(667),alt:"activity-mark"}}),t._v(" "),e("span",{staticClass:"activity-mark-text"},[t._v(t._s(t.getActivityNum))])])])])}),o,!1,null,"2de37ba4",null);e.default=component.exports},3219:function(t,e,n){"use strict";n.r(e);n(31),n(18),n(11),n(6),n(12),n(13),n(8),n(7);var o=n(2),r=(n(19),n(16),n(4),n(21),n(10)),l=n(27),c=n(1),d=n(53),h=n(155);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={components:{BaseAvatar:d.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}},renderList:{type:Array,default:function(){return[]}},imgW:{type:String,default:"334px"},imgH:{type:String,default:"134px"}},data:function(){return{formatNumberForeign:r.p,imgVip:n(136),flowLoad:!1}},computed:m(m({},Object(c.c)("user",["isLoggedIn"])),{},{dotEvent:function(){return this.item.author.is_follow?"unfollow":"follow"},dotEventName:function(){return this.isSearchPage?"log_action_front_search":""},isSearchPage:function(){return this.$route.path.includes("/search")},getPosition:function(){if(this.isEmptyObj)return"";var t,e,n,o,r,l=(null===(t=this.maxHomeData)||void 0===t?void 0:t.homeData)||{},c=this.logData,d=(null==this||null===(e=this.maxHomeData)||void 0===e||null===(e=e.homeConfigAllData)||void 0===e?void 0:e.items)||[],f=Object(h.getMenuIndex)({list:d,id:null==l?void 0:l.id});return this.isSearchPage?"".concat(null===(n=this.item)||void 0===n?void 0:n.id,",").concat(c.index):"home,".concat(null==l?void 0:l.id,",").concat(null==l?void 0:l.title,",").concat(f,",").concat(null==c?void 0:c.id,",").concat(null==c?void 0:c.title,",").concat(null!==(o=null==c?void 0:c.mIndex)&&void 0!==o?o:"",",").concat(null!==(r=null==c?void 0:c.index)&&void 0!==r?r:"")}}),methods:{goUserDetail:function(t){var path=this.localePath({path:"/user/".concat(t.author.id)});window.open(path,"_blank")},setFollowUser:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isLoggedIn){var n={follow_account_no:e.id||""};this.flowLoad=!0,l.Eb(n).then((function(t){1e4===t.status.code&&(e.author.is_follow=!0)})).finally((function(){t.flowLoad=!1}))}else this.$EventBus.$emit("openLoginDialog")},setCancelUser:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={follow_account_no:e.id||""};this.flowLoad=!0,l.Bb(n).then((function(t){1e4===t.status.code&&(e.author.is_follow=!1)})).finally((function(){t.flowLoad=!1})),this.$forceUpdate()}}},_=v,y=(n(3997),n(0)),component=Object(y.a)(_,(function(){var t,e,n,o,r,l,c,d,h,f,m,v,_,y,w=this,C=w._self._c;return C("div",{style:{width:w.imgW,height:w.imgH}},[C("a",{staticClass:"uitem",attrs:{href:w.localePath({path:"/user/".concat(w.item.author.id)}),target:"_blank"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),w.goUserDetail(w.item)}}},[C("div",{staticClass:"up-bard"},[C("div",{staticClass:"bgimg"},[C("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:null===(t=w.item)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.head,alt:(null===(e=w.item)||void 0===e?void 0:e.title)||"",fit:"cover"}},[C("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1),w._v(" "),C("div",{staticClass:"user-info"},[C("div",{staticClass:"user-head"},[null!==(n=w.item)&&void 0!==n&&null!==(n=n.author)&&void 0!==n&&n.avatar_frame?C("BaseAvatar",{attrs:{"user-data":null===(o=w.item)||void 0===o?void 0:o.author,size:70}}):C("div",{staticClass:"head-img"},[C("el-image",{staticStyle:{height:"70px",width:"70px"},attrs:{src:null===(r=w.item)||void 0===r||null===(r=r.author)||void 0===r?void 0:r.head}},[C("div",{attrs:{slot:"error"},slot:"error"},[C("div",{staticClass:"head-err"},[w._v("\n                  "+w._s(null===(l=w.item)||void 0===l||null===(l=l.author)||void 0===l||null===(l=l.name)||void 0===l?void 0:l.slice(0,1))+"\n                ")])])])],1)],1),w._v(" "),null!==(c=w.item)&&void 0!==c&&c.author?C("div",{staticClass:"user-name"},[C("span",[w._v(w._s(null===(d=w.item)||void 0===d||null===(d=d.author)||void 0===d?void 0:d.name))]),w._v(" "),null!==(h=w.item)&&void 0!==h&&null!==(h=h.author)&&void 0!==h&&h.is_vip&&(null===(f=w.item)||void 0===f||null===(f=f.author)||void 0===f?void 0:f.is_vip)>=0?[C("el-image",{staticStyle:{height:"20px",width:"20px"},attrs:{src:w.imgVip}})]:w._e()],2):w._e(),w._v(" "),null!==(m=w.item)&&void 0!==m&&m.author?C("div",{staticClass:"user-flow"},[C("div",{staticClass:"uf-item"},[C("p",{staticClass:"num"},[w._v(w._s((null===(v=w.item)||void 0===v||null===(v=v.stat)||void 0===v?void 0:v.num_of_collected)||0))]),w._v(" "),C("p",{staticClass:"text"},[w._v(w._s(w.$t("Collects")))])]),w._v(" "),C("div",{staticClass:"uf-item"},[C("p",{staticClass:"num"},[w._v(w._s((null===(_=w.item)||void 0===_||null===(_=_.stat)||void 0===_?void 0:_.num_of_follow)||0))]),w._v(" "),C("p",{staticClass:"text"},[w._v(w._s(w.$t("Following")))])]),w._v(" "),C("div",{staticClass:"uf-item"},[C("p",{staticClass:"num"},[w._v(w._s((null===(y=w.item)||void 0===y||null===(y=y.stat)||void 0===y?void 0:y.num_of_fans)||0))]),w._v(" "),C("p",{staticClass:"text"},[w._v(w._s(w.$t("Follower")))])])]):w._e()])]),w._v(" "),C("div",{staticClass:"action-btn-box",attrs:{"data-event":w.dotEvent,"data-eventname":w.dotEventName,"data-id":w.item.id,"data-pt":w.item.pt,"data-type":w.item.obj_type,"data-index":w.logData.index,"data-position":w.getPosition,"data-mindex":w.logData.mIndex}},[w.item.author.is_follow?w._e():C("div",{staticClass:"btn-bard no-follw",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),w.setFollowUser(w.item)}}},[C("span",[w._v(w._s(w.$t("Follows")))])]),w._v(" "),w.item.author.is_follow?C("div",{staticClass:"btn-bard yes-follw",attrs:{"data-yesflow":w.$t("Followed"),"data-unflow":w.$t("UnFollow")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),w.setCancelUser(w.item)}}}):w._e(),w._v(" "),C("div",{directives:[{name:"show",rawName:"v-show",value:w.flowLoad,expression:"flowLoad"},{name:"loading",rawName:"v-loading",value:w.flowLoad,expression:"flowLoad"}],staticClass:"btn-bard loading-btn"})])])])}),[],!1,null,"0887a5e1",null);e.default=component.exports;installComponents(component,{BaseAvatar:n(53).default})},3220:function(t,e,n){"use strict";n.r(e);n(31),n(11),n(6),n(12),n(13),n(8),n(7);var o=n(2),r=(n(4),n(10)),l=n(27),c=n(1);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var h={components:{BaseAvatar:n(53).default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}},renderList:{type:Array,default:function(){return[]}},imgW:{type:String,default:"334px"},imgH:{type:String,default:"134px"}},data:function(){return{formatNumberForeign:r.p,flowLoad:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.c)("user",["isLoggedIn"])),methods:{goTagDetail:function(t){this.$router.push(this.localePath({path:"/tagInfo/".concat(t.id)}))},setCollectUp:function(t){var e=this;if(this.isLoggedIn){var n={target_id:t.id||"",target_type:"tag"};this.flowLoad=!0,l.Db(n).then((function(e){1e4===e.status.code&&(t.collected=!0)})).finally((function(){e.flowLoad=!1}))}else this.$EventBus.$emit("openLoginDialog")},setCollectOff:function(t){var e=this,n={target_id:t.id||"",target_type:"tag"};this.flowLoad=!0,l.Cb(n).then((function(e){1e4===e.status.code&&(t.collected=!1)})).finally((function(){e.flowLoad=!1}))}}},f=h,m=(n(3998),n(0)),component=Object(m.a)(f,(function(){var t,e,n,o,r,l,c,d,h,f,m,v,_,y=this,w=y._self._c;return w("div",{style:{width:y.imgW,height:y.imgH}},[w("a",{staticClass:"uitem",attrs:{href:y.localePath({path:"/tagInfo/".concat(y.item.id)}),target:"_blank"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.goTagDetail(y.item)}}},[w("div",{staticClass:"up-bard"},[w("div",{staticClass:"bgimg"},[w("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:null===(t=y.item)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.url,alt:(null===(e=y.item)||void 0===e?void 0:e.title)||"",fit:"cover"}},[w("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1),y._v(" "),w("div",{staticClass:"user-info"},[w("div",{staticClass:"user-head"},[null!==(n=y.item)&&void 0!==n&&null!==(n=n.author)&&void 0!==n&&n.avatar_frame?w("BaseAvatar",{attrs:{"user-data":null===(o=y.item)||void 0===o?void 0:o.author,avatarUrl:null===(r=y.item)||void 0===r||null===(r=r.cover)||void 0===r?void 0:r.url,size:70}}):w("div",{staticClass:"head-img"},[w("el-image",{staticStyle:{height:"70px",width:"70px"},attrs:{src:null===(l=y.item)||void 0===l||null===(l=l.cover)||void 0===l?void 0:l.url}},[w("div",{attrs:{slot:"error"},slot:"error"},[w("div",{staticClass:"head-err"},[y._v("\n                  "+y._s(null===(c=y.item)||void 0===c||null===(c=c.title)||void 0===c?void 0:c.slice(0,1))+"\n                ")])])])],1)],1),y._v(" "),null!==(d=y.item)&&void 0!==d&&d.author?w("div",{staticClass:"user-name"},[w("span",[y._v(y._s(null===(h=y.item)||void 0===h?void 0:h.title))])]):y._e(),y._v(" "),null!==(f=y.item)&&void 0!==f&&f.author?w("div",{staticClass:"user-flow"},[w("div",{staticClass:"uf-item"},[w("p",{staticClass:"num"},[y._v("\n              "+y._s(y.formatNumberForeign((null===(m=y.item)||void 0===m||null===(m=m.stat)||void 0===m?void 0:m.num_of_artwork)||0))+"\n            ")]),y._v(" "),w("p",{staticClass:"text"},[y._v(y._s(y.$t("Explore")))])]),y._v(" "),w("div",{staticClass:"uf-item"},[w("p",{staticClass:"num"},[y._v("\n              "+y._s(y.formatNumberForeign((null===(v=y.item)||void 0===v||null===(v=v.stat)||void 0===v?void 0:v.num_of_model)||0))+"\n            ")]),y._v(" "),w("p",{staticClass:"text"},[y._v(y._s(y.$t("AIModel")))])]),y._v(" "),w("div",{staticClass:"uf-item"},[w("p",{staticClass:"num"},[y._v("\n              "+y._s(y.formatNumberForeign((null===(_=y.item)||void 0===_||null===(_=_.stat)||void 0===_?void 0:_.num_of_post)||0))+"\n            ")]),y._v(" "),w("p",{staticClass:"text"},[y._v(y._s(y.$t("Post")))])])]):y._e()])]),y._v(" "),w("div",{staticClass:"action-btn-box"},[y.item.collected?y._e():w("div",{staticClass:"btn-bard no-follw",attrs:{"data-event":"follow","data-id":y.item.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.setCollectUp(y.item)}}},[w("span",[y._v(y._s(y.$t("Stars")))])]),y._v(" "),y.item.collected?w("div",{staticClass:"btn-bard yes-follw",attrs:{"data-yesflow":y.$t("Collected"),"data-unflow":y.$t("cancelFavorite"),"data-event":"unfollow","data-id":y.item.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.setCollectOff(y.item)}}}):y._e(),y._v(" "),w("div",{directives:[{name:"show",rawName:"v-show",value:y.flowLoad,expression:"flowLoad"},{name:"loading",rawName:"v-loading",value:y.flowLoad,expression:"flowLoad"}],staticClass:"btn-bard loading-btn"})])])])}),[],!1,null,"81645aa8",null);e.default=component.exports;installComponents(component,{BaseAvatar:n(53).default})},3221:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(19),n(26),n(617)),l=n(9),c=n(10),d=n(211),h=n(1),f=n(380),m=n.n(f);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"RoleCard",components:{StarLine:r.a},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{formatNumberForeign:c.p,roleCardInfoBoxHeight:0,roleCardTagsHeight:0,roleCardTagsBoxHeight:0,roleCardDividerHeight:0,roleCardDescHeight:0,EMOJI_ENUM_ST:l.f,debouncedUpdateHeight:null,imageLoaded:!1}},computed:_(_({},Object(h.c)("user",["userInfo"])),{},{ribbonTooltip:function(){var t;return"".concat(this.$t("Total"),": ").concat(this.$t("ST_Frontpage_msgcount",{num1:(null===(t=this.item)||void 0===t||null===(t=t.stat)||void 0===t?void 0:t.num_of_token)||0}))},roleCardDescStyle:function(){var t=19,e=1;if(!(this.roleCardInfoBoxHeight>0))return{height:"auto"};var n=this.roleCardInfoBoxHeight-this.roleCardTagsBoxHeight-this.roleCardDividerHeight-40;if(this.roleCardDescHeight>n){var o=Math.floor(n/t);e=o<=3?3:o}else{var r=Math.floor(n/t),l=Math.ceil(this.roleCardDescHeight/t);e=Math.min(r,l)}var c=1===e?{minHeight:"".concat(t,"px")}:{};return this.updateRoleCardTagsHeight(),_({overflow:"hidden","-webkit-line-clamp":"".concat(e),"max-height":"".concat(e*t,"px"),"line-height":"".concat(t,"px")},c)},sortedTags:function(){var t;return(null===(t=this.item)||void 0===t?void 0:t.tags)||[]}}),watch:{sortedTags:function(){this.updateContainerHeights()}},created:function(){this.debouncedUpdateHeight=m()(function(){var t=this;this.$nextTick((function(){var e,n,o,r,l,c=(null===(e=t.$refs)||void 0===e||null===(e=e.roleCardInfoBox)||void 0===e?void 0:e.clientHeight)||0,d=(null===(n=t.$refs)||void 0===n||null===(n=n.roleCardDivider)||void 0===n||null===(n=n.$el)||void 0===n?void 0:n.clientHeight)||0,h=(null===(o=t.$refs)||void 0===o||null===(o=o.roleCardTags)||void 0===o?void 0:o.clientHeight)||0;if(!(c-d-h-((null===(r=t.$refs)||void 0===r||null===(r=r.roleCardDesc)||void 0===r?void 0:r.clientHeight)||0)-40>0)){var line=Math.ceil(h/30);line<=0||null!==(l=t.$refs)&&void 0!==l&&l.roleCardTags&&(t.$refs.roleCardTags.style.height="".concat(30*line,"px"))}}))}.bind(this),500)},mounted:function(){var t=this;this.$nextTick((function(){var e,n,o;t.resizeObserver=new ResizeObserver(t.updateContainerHeights),t.resizeObserver.observe(null===(e=t.$refs)||void 0===e?void 0:e.roleCardInfoBox),t.resizeObserver.observe(null===(n=t.$refs)||void 0===n?void 0:n.roleCardTags),t.resizeObserver.observe(null===(o=t.$refs)||void 0===o?void 0:o.roleCardDesc)}))},beforeDestroy:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},methods:{extractTextFromHtml:c.n,formatMsgForStCard:d.b,goCardDetail:function(){var t,path=this.localePath("/tavern/".concat(null===(t=this.item)||void 0===t?void 0:t.id));this.$router.push(path)},otherUser:function(t){var e,n,path="/user/"+encodeURIComponent(null==t||null===(e=t.author)||void 0===e?void 0:e.id);this.userInfo.id==(null==t||null===(n=t.author)||void 0===n?void 0:n.id)&&(path="/personal"),window.open(this.localePath(path),"_blank")},updateContainerHeights:function(){var t=this;this.$nextTick((function(){var e,n,o,r,l,c,d,h;null!==(e=t.$refs)&&void 0!==e&&e.roleCardInfoBox&&(t.roleCardInfoBoxHeight=Math.max(null===(l=t.$refs)||void 0===l||null===(l=l.roleCardInfoBox)||void 0===l?void 0:l.clientHeight,t.roleCardInfoBoxHeight));null!==(n=t.$refs)&&void 0!==n&&n.roleCardDivider&&(t.roleCardDividerHeight=Math.max(null===(c=t.$refs)||void 0===c||null===(c=c.roleCardDivider)||void 0===c||null===(c=c.$el)||void 0===c?void 0:c.clientHeight,t.roleCardDividerHeight));null!==(o=t.$refs)&&void 0!==o&&o.roleCardTagsBox&&(t.roleCardTagsBoxHeight=Math.max(null===(d=t.$refs)||void 0===d||null===(d=d.roleCardTagsBox)||void 0===d?void 0:d.clientHeight,t.roleCardTagsBoxHeight));null!==(r=t.$refs)&&void 0!==r&&r.roleCardDesc&&(t.roleCardDescHeight=Math.max(null===(h=t.$refs)||void 0===h||null===(h=h.roleCardDesc)||void 0===h?void 0:h.clientHeight,t.roleCardDescHeight))}))},updateRoleCardTagsHeight:function(){this.debouncedUpdateHeight()},getTextWidth:function(text){var span=document.createElement("span");span.style.fontSize="12px",span.style.display="inline-block",span.style.width="auto",span.style.height="auto",span.style.whiteSpace="nowrap",span.style.position="fixed",span.style.left="-9999px",span.style.top="-9999px",span.style.zIndex="-10000",document.body.appendChild(span),span.textContent=text;var t=span.offsetWidth;return document.body.removeChild(span),t},onImageLoad:function(){var t=this;setTimeout((function(){t.imageLoaded=!0}),200)},onImageError:function(){var t=this;setTimeout((function(){t.imageLoaded=!0}),200)}}},w=(n(4001),n(4002),n(0)),component=Object(w.a)(y,(function(){var t,e,n,o,r,l,c,d,h,f,m,v,_,y=this,w=y._self._c;return w("div",{ref:"roleCard",staticClass:"role-card"},[w("div",{staticClass:"role-card-token",attrs:{"data-event":"view-character-role-card","data-id":null===(t=y.item)||void 0===t?void 0:t.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.goCardDetail.apply(null,arguments)}}},[w("el-tooltip",{attrs:{effect:"dark",content:y.ribbonTooltip}},[w("div",[w("i",{staticClass:"iconfont icon-a-Component1"}),y._v(" "),w("span",[y._v(y._s(y.formatNumberForeign((null===(e=y.item)||void 0===e||null===(e=e.stat)||void 0===e?void 0:e.num_of_token)||0)))])])])],1),y._v(" "),w("div",{staticClass:"role-card-box"},[w("div",{ref:"roleCardTitle",staticClass:"role-card-title",attrs:{"data-event":"view-character-role-card","data-id":null===(n=y.item)||void 0===n?void 0:n.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.goCardDetail.apply(null,arguments)}}},[w("el-tooltip",{attrs:{effect:"dark",content:null===(o=y.item)||void 0===o?void 0:o.title,placement:"bottom-start"}},[w("p",{staticClass:"line-one"},[y._v(y._s((null===(r=y.item)||void 0===r?void 0:r.title)||""))])])],1),y._v(" "),w("a",{ref:"roleCardAvatar",staticClass:"role-card-avatar",attrs:{href:y.localePath("/tavern/".concat(null===(l=y.item)||void 0===l?void 0:l.id)),"data-event":"view-character-role-card","data-id":null===(c=y.item)||void 0===c?void 0:c.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.goCardDetail.apply(null,arguments)}}},[y.imageLoaded?y._e():w("div",{staticClass:"avatar-skeleton"},[w("div",{staticClass:"skeleton-svg-icon"},[w("svg-icon",{attrs:{"icon-class":"image-placeholder"}})],1)]),y._v(" "),w("img",{directives:[{name:"show",rawName:"v-show",value:y.imageLoaded,expression:"imageLoaded"}],staticClass:"avatar-img",class:{"nsfw-bg":1===y.item.nsfw},attrs:{src:(null===(d=y.item)||void 0===d||null===(d=d.cover)||void 0===d?void 0:d.url)||"",alt:"avatar"},on:{load:y.onImageLoad,error:y.onImageError}})]),y._v(" "),w("div",{ref:"roleCardAuthor",staticClass:"role-card-author flex_m"},[w("span",{staticClass:"name-txt line-one",attrs:{"data-event":"view-character-author","data-id":null===(h=y.item)||void 0===h||null===(h=h.author)||void 0===h?void 0:h.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),y.otherUser(y.item)}}},[y._v("\n        @"+y._s((null===(f=y.item)||void 0===f||null===(f=f.author)||void 0===f?void 0:f.name)||(null===(m=y.item)||void 0===m||null===(m=m.author)||void 0===m?void 0:m.id)||"")+"\n      ")])]),y._v(" "),w("div",{ref:"roleCardInfoBox",staticClass:"role-card-info-box"},[w("el-tooltip",{attrs:{"popper-class":"my-role-card-tooltip",effect:"dark"}},[w("div",{staticClass:"popover-desc-box",attrs:{slot:"content"},domProps:{innerHTML:y._s(y.formatMsgForStCard((null===(v=y.item)||void 0===v?void 0:v.sub_title)||"",!1,this))},slot:"content"}),y._v(" "),w("div",{ref:"roleCardDesc",staticClass:"role-card-desc",style:y.roleCardDescStyle,domProps:{innerHTML:y._s(y.formatMsgForStCard((null===(_=y.item)||void 0===_?void 0:_.sub_title)||"",!1,this))}})]),y._v(" "),w("StarLine",{ref:"roleCardDivider",staticClass:"role-card-divider",attrs:{scene:"card"}}),y._v(" "),w("div",{ref:"roleCardTags",staticClass:"role-card-tags"},[w("div",{ref:"roleCardTagsBox",staticClass:"role-card-tags-box"},y._l(y.sortedTags,(function(t,e){return w("span",{key:t.id+e,staticClass:"tag"},[y.EMOJI_ENUM_ST(t.id)?w("span",{staticClass:"tag-emoji"},[y._v(y._s(y.EMOJI_ENUM_ST(t.id))+" ")]):y._e(),y._v(" "),w("span",[y._v(y._s(t.name))])])})),0)])],1)])])}),[],!1,null,"07450048",null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default})},3222:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(13),n(8),n(7);var o=n(14),r=n(2),l=(n(19),n(6),n(73),n(22),n(31),n(24),n(4),n(113),n(27)),c=n(64),d=n(3223),h=n(155),f=n(148),m=n(1);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=[{index:0,width:100,height:100,slotName:"header"}],w={name:"RecentlyUsed",inject:["HyUploadMoaldApp"],components:{HyWaterfallFlowList:c.default,UploadBox:d.default},props:{category:{type:Number,default:2},isSingleSelect:{type:Boolean,default:!0},isMultiSelect:{type:Boolean,default:!1},uploadObj:{type:Object,default:function(){return{}}},queryObj:{type:Object,default:function(){return{}}}},data:function(){return{pageObj:{page:1,page_size:20},list:[],waterLoading:!1}},mounted:function(){this.getList(),Object(h.insertCustomContainer)(this.list,y)},computed:_({},Object(m.e)("user",["token"])),methods:{getList:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.afterCall,r=n.updateCall;if(!this.waterLoading&&this.token){this.waterLoading=!0;var c=_(_(_({},this.pageObj),this.queryObj),{},{source_types:[this.category],styles:null===(t=this.HyUploadMoaldApp)||void 0===t?void 0:t.fileTypes});Object(l.R)(c).then((function(t){o&&o(),e.list=e.list.concat(t.data.items||[]),e.waterLoading=!1,r&&r(e.list)})).catch((function(){e.waterLoading=!1}))}},initList:function(t){var e=this;this.pageObj.page=1,this.waterLoading=!1,document.getElementById("uploadBodyWraper").scrollTop=0,this.$refs.HyWaterfallFlowListRef.clearSelectList(),this.getList({afterCall:function(){var t=y[0];e.list=[t]},updateCall:function(e){t&&t(e)}})},changeChoose:function(t,e){for(var n=this.uploadObj||{},o=n.minWh,r=n.maxWh,l=n.minProportion,c=void 0===l?[]:l,d=n.maxProportion,h=void 0===d?[]:d,m=e.cover||{},v=m.width,_=m.height,y=(e||{}).id,w=0,C=[{check:function(){return Object(f.checkMinWh)(o,v,_)},errorKey:"imageRuleMinWh",params:{w:null==o?void 0:o[0],h:null==o?void 0:o[1]}},{check:function(){return Object(f.checkMaxWh)(r,v,_)},errorKey:"imageRuleMaxWh",params:{w:null==r?void 0:r[0],h:null==r?void 0:r[1]}},{check:function(){return Object(f.checkMinProportion)(c,v,_)},errorKey:"imagEaspectRatio",params:{num1:null==c?void 0:c.join(":"),num2:null==h?void 0:h.join(":")}},{check:function(){return Object(f.checkMaxProportion)(h,v,_)},errorKey:"imagEaspectRatio",params:{num1:null==h?void 0:h.join(":"),num2:null==c?void 0:c.join(":")}}];w<C.length;w++){var x=C[w];if(x.check())return this.$message.error(this.$t(x.errorKey,x.params)),void this.$refs.HyWaterfallFlowListRef.clearSelectCard(y)}this.$emit("onChangeChoose",t)},handleDeleteRecord:function(t,e){var n,o=this,r={items:[{id:null==t?void 0:t.id,url:null==t||null===(n=t.cover)||void 0===n?void 0:n.url}]};Object(l.x)(r).then((function(){o.list=o.list.filter((function(e){return e.id!==t.id})),e&&e()}))},uploadSuccess:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.filter((function(t){return t.url.endsWith(".gif")})),r=e.filter((function(t){return!t.url.endsWith(".gif")})).map((function(e){return{img_category:t.category,url:e.url,width:e.width,height:e.height}})),c=n.map((function(e){return{img_category:t.category,url:e.url,width:e.width,height:e.height}})),d={items:r};if(this.token&&!n.length)Object(l.b)(d).then((function(){t.initList((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).slice(1,r.length+1),n=c.map((function(t){return{id:"",channel:"upload",cover:t}}));t.$refs.HyWaterfallFlowListRef.fillSelectList(e),t.$emit("onUploadSuccess",[].concat(Object(o.a)(e),Object(o.a)(n)))}))}));else{var h=[].concat(Object(o.a)(r),Object(o.a)(c)).map((function(t){return{id:"",channel:"upload",cover:t}}));this.$emit("onUploadSuccess",h)}},uploadFail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$emit("onUploadFail",t)},handleLinkUpload:function(){this.$emit("onLinkUpload")}}},C=w,x=n(0),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("div",{ref:"wraperUsed",staticClass:"personal-works"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.list,container:"wraperUsed",rollBox:"uploadBodyWraper",isSingleSelect:t.isSingleSelect,isMultiSelect:t.isMultiSelect,isPureImg:"",quickDelete:""},on:{onQuickDelete:t.handleDeleteRecord,onChangeChoose:t.changeChoose},scopedSlots:t._u([{key:"header",fn:function(){return[e("UploadBox",{attrs:{category:t.category,uploadObj:t.uploadObj},on:{onUploadSuccess:t.uploadSuccess,onLinkUpload:t.handleLinkUpload,onUploadFail:t.uploadFail}})]},proxy:!0}])}),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waterLoading,expression:"waterLoading"}],staticClass:"water-loadBox"})],1)}),[],!1,null,"053d2497",null);e.default=component.exports},3223:function(t,e,n){"use strict";n.r(e);n(16),n(21);var o=n(14),r=n(3),l=n(2),c=(n(20),n(72),n(89),n(19),n(6),n(69),n(11),n(73),n(22),n(12),n(13),n(8),n(40),n(7),n(41),n(31),n(18),n(24),n(4),n(28),n(43),n(113),n(51)),d=n(181),h=n(61),f=n(98),m=n(148);function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,a){if(t){if("string"==typeof t)return _(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw l}}}}function _(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=Array(a);e<a;e++)n[e]=t[e];return n}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={accept:".jpg,.png,.jpeg,.webp",zipMaxSize:10,fileMaxSize:20,minWh:[10,10],maxWh:[1e4,1e4],minProportion:[0,0],maxProportion:[0,0],multiple:!1,limit:2,directUse:!1,other:{}},x=".jpg,.png,.jpeg,.webp",O=".mp4,.mov,.m4v,.mts,.avi,.flv",k=".gif",j={name:"UploadBox",inject:["HyUploadMoaldApp"],components:{},props:{category:{type:Number,default:2},uploadObj:{type:Object,default:function(){return{}}}},watch:{uploadObj:{handler:function(t){var e={image:x,video:O,gif:k},n=this.fileTypes.map((function(t){return e[t]||""})).join(",");this.newUploadObj=w(w({},C),t),this.fileTypes.length&&(this.newUploadObj.accept=n)},deep:!0,immediate:!0}},computed:{isShowLinkInput:function(){return this.fileTypes.includes("image")},fileTypes:function(){return this.HyUploadMoaldApp.fileTypes},videoCategory:function(){return this.HyUploadMoaldApp.videoCategory},beforeUpload:function(){return this.HyUploadMoaldApp.beforeUpload},importFileTitle:function(){var t=this.fileTypes.includes("image"),e=this.fileTypes.includes("video"),title=this.$t("TaskUploadImageFromUrl");return e&&!t&&(title=this.$t("upload_audio_citation")),title}},data:function(){return{debounceCheckFile:Object(f.a)(this.checkFile,500),debounceVideoUpload:Object(f.a)(this.videoUpload,500),UPLOAD:new c.a({type:this.category}),UPLOADVIDEO:new d.a({category:this.category}),uploading:!1,newUploadObj:C}},methods:{checkImageSize:function(t){return new Promise((function(e,n){var o=new FileReader;o.onload=function(t){var img=new Image;img.onload=function(){var t=img.naturalWidth,n=img.naturalHeight;e({width:t,height:n})},img.onerror=function(){n(!1)},img.src=t.target.result},o.readAsDataURL(t)}))},handleChange:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var l,c,d,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.beforeUpload({file:t,fileList:e});case 2:if(r.sent){r.next=6;break}return n.$refs.imageUpload2.clearFiles(),r.abrupt("return",!1);case 6:l=function(t,e){var n=e.split(",");return t.filter((function(t){return n.some((function(e){return t.name.toLowerCase().endsWith(e)}))}))},c=l(e,O),d=l(e,x),h=l(e,k),n.debounceCheckFile([].concat(Object(o.a)(d),Object(o.a)(h)),(function(t){n.debounceVideoUpload(c,(function(e){var r=n.newUploadObj,l=[].concat(Object(o.a)(t),Object(o.a)(e));l.length>0&&(n.$message.success(n.$t("UploadSuccess")),n.$emit("onUploadSuccess",l,r)),n.$refs.imageUpload2.clearFiles()}))}));case 11:case"end":return r.stop()}}),r)})))()},videoUpload:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var r,l,c,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n.uploading=!0,r=t.map((function(t){var e=new d.a({file:t.raw,category:n.videoCategory});return{fn:e.beforeUpload.bind(e)}})),o.next=4,n.serialPromises(r);case 4:l=o.sent,c=l.filter((function(t){return"fulfilled"===t.status})),n.uploading=!1,h=c.map((function(t){return{url:t.value.url}})),e&&e(h);case 9:case"end":return o.stop()}}),o)})))()},checkFile:function(){var t=arguments.length>1?arguments[1]:void 0,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return t.raw}));this.checkFileList(e,t)},checkFileList:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var r,l,c,d,h,f,m,v,_;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n.uploading=!0,r=n.UPLOAD,l=t.map((function(t){return{fn:n.oneFileCheck,param:t}})),o.next=5,n.serialPromises(l);case 5:if(c=o.sent,d=c.filter((function(t){return"fulfilled"===t.status})).map((function(t){return t.value})),c.filter((function(t){return"rejected"===t.status})).map((function(t){return t.reason})),!(d.length>0)){o.next=21;break}return h=d.map((function(t){return{fn:r.startUpload.bind(r),param:t.file,props:t}})),o.next=12,n.serialPromises(h);case 12:f=o.sent,m=f.filter((function(t){return"fulfilled"===t.status})),v=f.filter((function(t){return"rejected"===t.status})),n.uploading=!1,_=m.map((function(t){var e=t.value,n=t.props;return{url:e,width:n.width,height:n.height}})),e&&e(_),null!=v&&v.length&&n.$emit("onUploadFail",v),o.next=23;break;case 21:n.uploading=!1,e&&e([]);case 23:case"end":return o.stop()}}),o)})))()},oneFileCheck:function(t){var e=this;return new Promise(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(o,r){var l,c,d,f,v,_,y,w,C,x,O,k,j,I;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.UPLOAD,l=e.newUploadObj,!((c=t.size/1024/1024)>l.fileMaxSize)){n.next=6;break}return e.$message.error(e.$t("HttpErrorCode_30003")),r({file:t}),n.abrupt("return",!1);case 6:if(d=t,!("image/gif"===t.type||t.name.toLowerCase().endsWith(".gif")||c>l.zipMaxSize)){n.next=19;break}return n.prev=9,n.next=12,Object(h.a)(d,1024*l.zipMaxSize*1024);case 12:d=n.sent,n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(9),r({file:t}),n.abrupt("return",!1);case 19:return n.next=21,e.checkImageSize(d);case 21:if(f=n.sent){n.next=25;break}return r({file:t}),n.abrupt("return",!1);case 25:v=f.width,_=f.height,y=l.minWh,w=l.maxWh,C=l.minProportion,x=l.maxProportion,O=[{check:Object(m.checkMinWh)(y,v,_),message:"imageRuleMinWh",params:{w:y[0],h:y[1]}},{check:Object(m.checkMaxWh)(w,v,_),message:"imageRuleMaxWh",params:{w:w[0],h:w[1]}},{check:Object(m.checkMinProportion)(C,v,_),message:"imagEaspectRatio",params:{num1:C.join(":"),num2:x.join(":")}},{check:Object(m.checkMaxProportion)(x,v,_),message:"imagEaspectRatio",params:{num1:x.join(":"),num2:C.join(":")}}],k=0,j=O;case 29:if(!(k<j.length)){n.next=38;break}if(!(I=j[k]).check){n.next=35;break}return e.$message.error(e.$t(I.message,I.params)),r({file:t}),n.abrupt("return",!1);case 35:k++,n.next=29;break;case 38:o({file:d,width:v,height:_});case 39:case"end":return n.stop()}}),n,null,[[9,15]])})));return function(t,e){return n.apply(this,arguments)}}())},handleBeforeUploadEmpty:function(t){},fileExceed:function(){this.$message({type:"warning",message:this.$t("UploadImageExceed",{max:this.newUploadObj.limit})})},showLinkUploadModal:function(){this.$emit("onLinkUpload")},serialPromises:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,param,f,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=[],r=e.newUploadObj.other,l=v(t),n.prev=3,l.s();case 5:if((c=l.n()).done){n.next=19;break}return d=c.value,h=d.fn,param=d.param,f=d.props,n.prev=7,n.next=10,h(param,{other:r});case 10:m=n.sent,o.push({status:"fulfilled",value:m,props:f}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),o.push({status:"rejected",reason:n.t0,props:f});case 17:n.next=5;break;case 19:n.next=24;break;case 21:n.prev=21,n.t1=n.catch(3),l.e(n.t1);case 24:return n.prev=24,l.f(),n.finish(24);case 27:return n.abrupt("return",o);case 28:case"end":return n.stop()}}),n,null,[[3,21,24,27],[7,14]])})))()}}},I=j,S=(n(4005),n(0)),component=Object(S.a)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"hy-upload-box"},[e("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.uploading,expression:"uploading"}],ref:"imageUpload2",staticClass:"hy-custom-image-upload",attrs:{action:"#",drag:"","auto-upload":!1,multiple:t.newUploadObj.multiple,limit:t.newUploadObj.limit,"show-file-list":!1,disabled:t.uploading,accept:t.newUploadObj.accept,"on-change":t.handleChange,"on-exceed":t.fileExceed}},[e("div",{staticClass:"upload-trigger flex_c_m",attrs:{slot:"trigger"},slot:"trigger"},[e("i",{staticClass:"iconfont icon-icon_Upload image-upload-icon"}),t._v(" "),t.fileTypes.includes("video")?t._e():e("div",{staticClass:"trigger-link",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showLinkUploadModal.apply(null,arguments)}}},[t._v("\n        "+t._s(t.importFileTitle)+"\n      ")])])])],1)}),[],!1,null,"45e6993e",null);e.default=component.exports},3224:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(20),n(16),n(28),n(137)),l=n(29),c=n(10),d={name:"LinkUploadModal",props:{value:{type:Object,default:function(){return{}}}},components:{SliderItem:r.default},data:function(){return{visible:!1,uploading:!1,linkInput:"",imageInfo:{url:"",width:0,height:0}}},computed:{},methods:{show:function(){this.initData(),this.visible=!0},initData:function(){},handleClose:function(){this.uploading||(this.visible=!1)},handleConfirm:function(){this.$emit("linkImage",this.imageInfo),this.linkInput="",this.uploading=!1,this.handleClose()},handleLinkUpload:function(){this.checkIsImageURL(this.linkInput)?this.uploadImageByLink(this.linkInput):this.$message.warning(this.$t("InputNotAnImageLink"))},closeLinkUploadModal:function(){this.linkInput="",this.uploading=!1},uploadImageByLink:function(){var t=this,e={url:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""};this.uploading||(this.uploading=!0,Object(l.uploadImage)(e,"link").then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){var o,code,r,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n||{data:{}}).status.code,![1e4,"10000"].includes(code=void 0===o?"":o)){e.next=12;break}return r=n.data.access_url,t.imageInfo.url=r,e.next=6,Object(c.x)(r);case 6:l=e.sent,t.uploading=!1,t.imageInfo=Object.assign(t.imageInfo,l||{}),t.handleConfirm(),e.next=15;break;case 12:d=30003===code?"UploadImageExceed5MB":"GainFail",t.$message.error(t.$t(d)),t.uploading=!1;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.uploading=!1})))},checkIsImageURL:function(t){return/^https?:\/\/.*\.(jpg|jpeg|png|webp)$/i.test(t)}}},h=d,f=(n(4008),n(4009),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.visible,"custom-class":"link-upload-modal-box custom-dialog","destroy-on-close":!1,"close-on-press-escape":!0,modal:!1,"append-to-body":!0,"modal-append-to-body":"",width:"407px"},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"modal-header"},[e("div",{staticClass:"modal-header-title"},[t._v(t._s(t.$t("TaskUploadImageFromUrl")))]),t._v(" "),e("span",{staticClass:"modal-header-close",on:{click:function(e){return e.stopPropagation(),t.handleClose()}}},[e("i",{staticClass:"el-icon-close"})])]),t._v(" "),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-content-item"},[e("div",{staticClass:"modal-content-item-label"},[t._v(t._s(t.$t("Link")))]),t._v(" "),e("div",{staticClass:"modal-content-item-content"},[e("el-input",{attrs:{placeholder:t.$t("Link"),disabled:t.uploading,clearable:""},model:{value:t.linkInput,callback:function(e){t.linkInput=e},expression:"linkInput"}})],1)])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("span",{staticClass:"modal-footer-btn",on:{click:function(e){return e.stopPropagation(),t.handleClose()}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("span",{directives:[{name:"loading",rawName:"v-loading",value:t.uploading,expression:"uploading"}],staticClass:"modal-footer-btn modal-footer-btn-confirm",on:{click:function(e){return e.stopPropagation(),t.handleLinkUpload()}}},[t._v(t._s(t.$t("Confirm")))])])])}),[],!1,null,"06647cf1",null);e.default=component.exports},3255:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(24),n(3256)),l=n(1),c=n(10),d=n(119);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={inject:["top"],props:{info:{type:Object,default:function(){return{img_uris:[],img_uri:""}}},generateLoading:{type:Number,default:0}},data:function(){var t;return{viewIcon:1===(null===(t=this.userInfo)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.nsfw_plus)?"work-show":"work-hide",quickOptions:{}}},components:{EatLoading:r.default,QuickQueue:d.default},computed:f(f({},Object(l.e)("user",["userInfo"])),{},{isShowView:function(){var t,e,n=null===(t=this.info)||void 0===t?void 0:t.img_uris[0],o=n.is_nsfw_plus,r=n.nsfw;return(null==this||null===(e=this.userInfo)||void 0===e?void 0:e.enable_nsfw_plus)&&o&&1!==r},imageUrl:function(){var t,e;return null!==(t=this.info)&&void 0!==t&&null!==(t=t.img_uris)&&void 0!==t&&t.length?null===(e=this.info)||void 0===e||null===(e=e.img_uris[0])||void 0===e?void 0:e.url:""},isNsfw:function(){var t,e=null===(t=this.info)||void 0===t?void 0:t.img_uris[0],n=e.is_nsfw_plus,o=e.nsfw;return n&&1===o}}),methods:{handleEvent:function(t){var e="";switch(t){case"VIEW":this.viewNsfw();break;case"U":e="click_hd_repair_button",this.handleUpscale();break;case"DOWNLOAD":e="click_save_button",this.downloadImg();break;default:this.cancelTask()}e&&this.$logEvent("log_actions",{operation:e,behavior_info:"creative_flow_starter"})},viewNsfw:function(){this.viewIcon="work-show"===this.viewIcon?"work-hide":"work-show"},cancelTask:function(){this.$emit("handle","Cancel")},handleUpscale:function(){this.$emit("handle","U")},downloadImg:function(){var t=this.imageUrl.split("/").pop();Object(c.M)(this.imageUrl,t)},viewImage:function(){this.$emit("viewImage")}}},v=(n(4143),n(0)),component=Object(v.a)(m,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"image-panel"},[n.imageUrl?[o("div",{staticClass:"img-box",class:{"nsfw-box":"work-show"===n.viewIcon},style:{backgroundImage:"url(".concat(n.imageUrl,")")},on:{click:n.viewImage}}),n._v(" "),n.isShowView?o("i",{staticClass:"iconfont view-btn",class:"icon-".concat(n.viewIcon),on:{click:function(t){return n.handleEvent("VIEW")}}}):n._e(),n._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"work-hide"===n.viewIcon&&!n.isNsfw,expression:"viewIcon === 'work-hide' && !isNsfw"}],staticClass:"handle-btn"},[o("span",{directives:[{name:"show",rawName:"v-show",value:1===n.info.type,expression:"info.type === 1"}],staticClass:"tooltip-box",attrs:{"data-text":n.$t("SG_UpscalingHover")},on:{click:function(t){return n.handleEvent("U")}}},[n._v("\n        U"),o("b",[n._v(n._s(n.$t("OriginalityUpscale")))])]),n._v(" "),o("span",{staticClass:"tooltip-box",attrs:{"data-text":n.$t("SG_DownloadHover")},on:{click:function(t){return n.handleEvent("DOWNLOAD")}}},[o("i",{staticClass:"iconfont icon-icon-Download"}),n._v(" "),o("b",[n._v(n._s(n.$t("DownloadImg")))])])])]:n._e(),n._v(" "),n.imageUrl||n.generateLoading&&-1!==n.generateLoading?n._e():o("div",{staticClass:"empty-box",attrs:{empty:n.$t("S_ImageEmpty")}},[o("i",{staticClass:"iconfont icon-simple_icon"})]),n._v(" "),n.generateLoading&&-1!==n.generateLoading?o("div",{staticClass:"generate-loading"},[1===n.generateLoading?[o("eat-loading"),n._v(" "),o("p",[n._v(n._s(n.$t("S_ImageWait")))])]:2===n.generateLoading?[o("el-progress",{attrs:{percentage:null===(t=n.info)||void 0===t?void 0:t.process,"show-text":!1,"stroke-width":8,color:"#0D9488"}}),n._v(" "),o("p",{staticClass:"process-text",domProps:{innerHTML:n._s(n.$t("S_Progress",{num:"<span style='color: #fff;'>".concat(null===(e=n.info)||void 0===e?void 0:e.process,"%</span>")}))}}),n._v(" "),o("div",{staticClass:"btns-box"},[o("span",{staticClass:"cancel",on:{click:function(t){return n.handleEvent("CANCEL")}}},[n._v(n._s(n.$t("Cancel")))]),n._v(" "),o("QuickQueue",{attrs:{quickOptions:n.info,quickStyle:{height:"34px",fontSize:"14px"}}})],1)]:n._e()],2):n._e()],2)}),[],!1,null,"5bbbd596",null);e.default=component.exports;installComponents(component,{QuickQueue:n(119).default})},3257:function(t,e,n){"use strict";n.r(e);var o=n(3),r=n(2),l=(n(20),n(11),n(6),n(50),n(12),n(13),n(4),n(7),n(8),n(466)),c=n(9);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={inject:["top"],components:{STooltip:l.default},props:{value:{type:Object,default:function(){return{prompt:"",negative_prompt:""}}},defaultParams:{type:Object,default:function(){return{}}},modelInfo:{type:Array,default:function(){return[]}},isFluxModel:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,negativeZoom:!0,promptIndex:0,isRewrite:!0}},watch:{modelInfo:function(t){var e;this.promptIndex=0,t.length&&(null!==(e=this.defaultParams)&&void 0!==e&&e.prompt?(this.defaultParams.prompt="",this.changeVal(this.defaultParams.negative_prompt,"negative_prompt")):this.setPrompt())}},computed:{isShowReset:function(){var t,e,n;return null!==(t=this.modelInfo)&&void 0!==t&&t.length?this.modelInfo[this.promptIndex].negative_prompt!==(null===(n=this.value)||void 0===n?void 0:n.negative_prompt):c.n.negative_prompt!==(null===(e=this.value)||void 0===e?void 0:e.negative_prompt)},localText:function(){var t,e,n=this.top.randomPrompt;return null!==(t=this.modelInfo)&&void 0!==t&&t.length?null===(e=this.modelInfo[this.promptIndex])||void 0===e?void 0:e.prompt:n.length?n:""},sizeList:function(){return this.isFluxModel?c.l:c.z}},methods:{setModelParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.promptIndex,e=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(this.modelInfo[t])),o=JSON.parse(JSON.stringify(this.value)),r=o.prompt,l=this.sizeList.findIndex((function(t){return t.width===n.width&&t.height===n.height}));l=l<0?this.sizeList.length-1:l,this.isRewrite||e||(n.prompt=r),this.$emit("input",h(h(h({},o),n),{},{imageSize:l}))},randomInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},changeRandom:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$logEvent("log_actions",{operation:"click_dice_button",behavior_info:"creative_flow_starter"}),null===(n=t.modelInfo)||void 0===n||!n.length){e.next=6;break}return t.promptIndex++,t.promptIndex===(null===(o=t.modelInfo)||void 0===o?void 0:o.length)&&(t.promptIndex=0),t.setPrompt(!0),e.abrupt("return");case 6:return e.prev=6,t.isLoading=!0,e.next=10,t.top.getRandomPrompt();case 10:t.setPrompt(!0),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),t.isLoading=!1;case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))()},setPrompt:function(t){var e,n=this.top.randomPrompt;null!==(e=this.modelInfo)&&void 0!==e&&e.length?this.setModelParams(this.promptIndex,Boolean(t)):n.length&&this.changeVal(n,"prompt")},changeVal:function(t,e){var n=JSON.parse(JSON.stringify(this.value));n[e]=t,"prompt"===e&&(this.isRewrite=!1),this.$emit("input",n)},resetNegative:function(){var t,e=null===c.n||void 0===c.n?void 0:c.n.negative_prompt;null!==(t=this.modelInfo)&&void 0!==t&&t.length&&(e=this.modelInfo[this.promptIndex].negative_prompt),this.changeVal(e,"negative_prompt")}}},m=f,v=(n(4145),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"prompt-panel"},[e("div",{staticClass:"prompt-input"},[e("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Prompt"))+"\n      "),e("s-tooltip",{attrs:{info:"S_PromptTip"}})],1),t._v(" "),e("el-input",{attrs:{type:"textarea",value:t.value.prompt,autosize:{minRows:10,maxRows:10},placeholder:t.$t("S_Prompt_Placeholder")},on:{input:function(e){return t.changeVal(e,"prompt")}}})],1),t._v(" "),e("div",{staticClass:"random-prompt",on:{click:t.changeRandom}},[e("i",{staticClass:"iconfont icon-dice-square",class:{loading:t.isLoading}}),t._v(" "),e("span",[t._v(t._s(t.isLoading?t.$t("Loading")+"...":t.localText))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFluxModel,expression:"!isFluxModel"}],staticClass:"negative-prompt"},[e("div",{staticClass:"title",on:{click:function(e){t.negativeZoom=!t.negativeZoom}}},[t._v("\n      "+t._s(t.$t("NegativePrompts"))+"\n      "),e("s-tooltip",{attrs:{info:"S_NegativePromptsTip"}}),t._v(" "),e("span",{staticClass:"el-icon-arrow-up zoom-icon",class:{off:t.negativeZoom}})],1),t._v(" "),e("div",{staticClass:"panel-main",class:{off:t.negativeZoom}},[e("el-input",{attrs:{type:"textarea",value:t.value.negative_prompt,autosize:{minRows:2,maxRows:5}},on:{input:function(e){return t.changeVal(e,"negative_prompt")}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowReset,expression:"isShowReset"}],staticClass:"reset-btn",on:{click:t.resetNegative}},[t._v(t._s(t.$t("S_ResetPrompt")))])],1)]),t._v(" "),t._t("default")],2)}),[],!1,null,"115928b6",null);e.default=component.exports},3258:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(13),n(7);var o=n(2),r=(n(6),n(50),n(16),n(22),n(49),n(18),n(8),n(4),n(21),n(1)),l=n(466),c=n(303);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={components:{STooltip:l.default,StyleModal:c.default},props:{type:{type:String,default:"Checkpoint"},value:{type:Object,default:function(){return{}}},modelList:{type:Array,default:function(){return[]}}},data:function(){return{keyword:"",moveX:0}},computed:h(h(h({},Object(r.e)("payment",["paymentInfo"])),Object(r.c)("user",["isCompanyAccount"])),{},{list:function(){var t=this;return this.modelList.filter((function(e){return e.model_name.toLowerCase().includes(t.keyword.toLowerCase())}))},selectIds:function(){var t=this.value,e=t.art_model_no,n=t.meta.lora_models;return"LORA"===this.type?n.map((function(t){return t.id=t.model_no,t})):e?[{id:e}]:[]},isVip:function(){var t,e;return(null===(t=this.paymentInfo)||void 0===t?void 0:t.activeState)||(null===(e=this.paymentInfo)||void 0===e?void 0:e.liteActiveState)||this.isCompanyAccount}}),methods:{getActive:function(t){var e=this.value,n=e.art_model_no,o=e.meta.lora_models;return"Checkpoint"===this.type?n===t.model_no:o.some((function(e){return t.model_no===e.model_no}))},changeModel:function(t){var e=JSON.parse(JSON.stringify(this.value)),n=t.model_no,o=t.model_ver_no;"LORA"!==this.type?(e.art_model_no=n,e.art_model_ver_no=o,this.$emit("input",e)):this.changeLora(t)},changeLora:function(t){var e=JSON.parse(JSON.stringify(this.value)),n=e.meta.lora_models,o=n.findIndex((function(e){return e.model_no===t.model_no}));o<0&&n.length>=5?this.$message.error(this.$t("S_MaxLoraNum")):!this.isVip&&o<0&&n.length>=3?this.$EventBus.$emit("showBreakDialog","SimpleLoRALimit5TipWeb","basic"):(o<0?n.push(t):n.splice(o,1),this.$emit("input",e))},searchList:function(t){this.moveX=0},delLora:function(t){var e=JSON.parse(JSON.stringify(this.value));e.meta.lora_models.splice(t,1),this.$emit("input",e)},scrollList:function(t){var e,n=null===(e=this.$refs.modelList)||void 0===e?void 0:e.offsetWidth,o=this.list.length*n/6,r=n-o,l=t>0?this.moveX-n:this.moveX+n;o<n||(l>=0&&(l=0),l<=r&&(l=r),this.moveX=l)},handleSelectModel:function(t){var e=JSON.parse(JSON.stringify(t));e.model_no=t.id,e.model_name=t.name,e.config=[],e.model_cover=null==t?void 0:t.banner.url,this.modelList.some((function(e){return e.model_no===t.id}))||this.$emit("changeList",e),this.changeModel(e),this.$refs.styleModal.handleClose()},openModelPopup:function(){this.$refs.styleModal.openModal()}}},m=(n(4147),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"model-panel"},[e("div",{staticClass:"title"},[t._v("\n    "+t._s(t.$t("LORA"===t.type?"LoRA":t.type))+"\n    "),e("s-tooltip",{attrs:{info:t.$t("S_"+t.type+"Tip")}}),t._v(" "),e("span",{staticClass:"view-all",on:{click:t.openModelPopup}},[t._v(t._s(t.$t("ShowALL")))]),t._v(" "),e("div",{staticClass:"model-handle"},[e("el-input",{attrs:{placeholder:t.$t("S_Search"+t.type),"prefix-icon":"el-icon-search"},on:{input:t.searchList},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),"LORA"===t.type?e("div",{staticClass:"select-list"},t._l(t.value.meta.lora_models,(function(n,i){return e("div",{key:n.model_no,staticClass:"select-item"},[t._v("\n          "+t._s(n.model_name)+"\n          "),e("i",{staticClass:"el-icon-close",on:{click:function(e){return t.delLora(i)}}})])})),0):t._e()],1)],1),t._v(" "),t.list.length?e("div",{ref:"modelList",staticClass:"model-list"},[e("div",{ref:"scrollList",staticClass:"scroll-body",style:{transform:"translateX(".concat(t.moveX,"px)")}},t._l(t.list,(function(n,i){return e("div",{key:t.type+i,staticClass:"model-item",class:{active:t.getActive(n)},on:{click:function(e){return t.changeModel(n)}}},[e("div",{directives:[{name:"bg-webp",rawName:"v-bg-webp",value:{src:n.model_cover,quality:t.$imgL},expression:"{ src: v.model_cover, quality: $imgL }"}],staticClass:"cover"},["Checkpoint"===t.type?e("s-tooltip",{attrs:{icon:"el-icon-warning-outline",info:n.desc}}):t._e()],1),t._v(" "),e("div",{staticClass:"name ellipsis"},[t._v(t._s(n.model_name))])])})),0),t._v(" "),e("span",{staticClass:"scroll-btn prev"},[e("b",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.scrollList(-1)}}})]),t._v(" "),e("span",{staticClass:"scroll-btn next"},[e("b",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.scrollList(1)}}})])]):e("div",{staticClass:"empty-list"},[t._v(t._s(t.$t("NoResultsFound")))]),t._v(" "),e("style-modal",{ref:"styleModal",attrs:{isSimpleMode:!0,"model-type":t.type,"select-list":t.selectIds,inTask:!0},on:{selectModel:t.handleSelectModel}})],1)}),[],!1,null,"2d1bd8f2",null);e.default=component.exports},3259:function(t,e,n){"use strict";n.r(e);n(4),n(41);var o=n(30),r=(n(19),n(6),n(32),n(50),n(16),n(22),n(24),n(8),n(21),n(7),n(3260)),l=n(9),c=n(855),d={components:{SFormItem:r.default,SwitchBtn:c.default},props:{value:{type:Object,default:function(){return{}}},isFluxModel:{type:Boolean,default:!1}},computed:{seedOptions:function(){var t={max:4294967294};return this.isFluxModel&&(t.max=2147483643),t},seedPlsHd:function(){var t;return"custom"===(null===(t=this.value)||void 0===t?void 0:t.seedMode)?this.$t("customSeed"):this.$t("RandomSeed")},formTempList:function(){var t=this.isFluxModel?["sampler_name","steps","cfg_scale"]:["prompt_magic"];return this.settingFormList.find((function(t){return"imageSize"===t.key})).selectList=this.getSizeList(this.sizeList),this.settingFormList.filter((function(e){return!t.includes(e.key)}))},sizeList:function(){return this.isFluxModel?l.l:l.z}},data:function(){return{panelZoom:!0,settingFormList:[{label:"SamplingMethod",type:"select",key:"sampler_name",selectList:this.getLocalConfig("sampler_name")},{label:"Steps",type:"slider",key:"steps",tips:"HowMTTITGII",max:40,min:1,controls:!1},{label:"CFGScale",type:"slider",key:"cfg_scale",tips:"ClassifierFGSHSTI",step:.5,max:15,min:3,controls:!1},{label:"Seed",type:"inputNumber",key:"seed",tips:"ASendCTOOARNG",controls:!1,min:-1,precision:0},{label:"imageDimensions",type:"select",key:"imageSize",selectList:[]},{label:"S_W_H",type:"inputPart",key:"width",keys:["width","height"],min:128,max:1024,hide:!1,controls:!1},{label:"studio28",type:"switch",key:"prompt_magic",tips:"FluxPromptMagicTips"}]}},watch:{isFluxModel:function(t){this.setCustomeShow(),this.changeVal(2,"imageSize")}},methods:{getSizeList:function(t){var e=this;return t.map((function(t,i){var label=t.label,n=t.width,o=t.height;return{label:"Customization"===label?e.$t("Customization"):"".concat(n,"x").concat(o," [").concat(label,"]"),value:i}}))},getLocalConfig:function(t){var e;var n=localStorage.getItem("wsTaskOptionsInfo");return null===(e=(n=n?JSON.parse(n):{sampler_name:l.v})[t])||void 0===e?void 0:e.map((function(t){return{label:t,value:t}}))},changeForm:function(t,e){"sampler_name"===e?"LCM"===t?(this.changeSettings(!0),this.changeConfigs({steps:4,cfg_scale:1.5,sampler_name:t,lcm_mode:1})):(this.changeSettings(!1),this.changeConfigs({steps:30,cfg_scale:5,sampler_name:t,lcm_mode:0})):this.changeVal(t,e)},changeSettings:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=t?4:30,n=t?1.5:5;this.settingFormList[1].max=t?8:40,this.settingFormList[1].min=t?4:1,this.settingFormList[2].max=t?3:15,this.settingFormList[2].min=t?1:3,this.settingFormList[1].value=e,this.settingFormList[2].value=n},changeVal:function(t,e){var n=JSON.parse(JSON.stringify(this.value));if(n[e]=t,"imageSize"===e){var r=this.sizeList[t],l=r.width,c=r.height;n.width=l?Number(l):683,n.height=c?Number(c):1024}if("width"===e){var d=t.split("x"),h=Object(o.a)(d,2),f=h[0],m=h[1];this.sizeList.findIndex((function(t){return t.width==f&&t.height==m}));n.width=Number(f),n.height=Number(m)}this.setCustomeShow(),this.$emit("input",n)},setCustomeShow:function(){var t=this.value.imageSize;this.formTempList.find((function(t){return"width"===t.key})).hide=t<this.sizeList.length-1},changeConfigs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t);if(e.length){var n=JSON.parse(JSON.stringify(this.value));e.forEach((function(e){n[e]=t[e]})),this.$emit("input",n)}},getRandomSeed:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Math.floor(2147483643*Math.random())+1:Math.floor(4294967294*Math.random())+1},useSeed:function(t){var s=t;0===t&&this.changeSeed("custom",this.getRandomSeed(this.isFluxModel)),![-1,"-1"].includes(t)&&t&&this.changeSeed("custom",s)},changeSeed:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom",o=arguments.length>1?arguments[1]:void 0,r=JSON.parse(JSON.stringify(this.value));if(null!==(t=this.value)&&void 0!==t&&t.seedMode&&(null===(e=this.value)||void 0===e?void 0:e.seedMode)!==n){var l="custom"===n?this.getRandomSeed(this.isFluxModel):-1;r.seed=l}o&&(r.seed=o),r.seedMode=n,this.$emit("input",r),this.$emit("saveSeed",{seed:o,tag:n})},changeSeedMode:function(t){var e=t?"random":"custom";this.changeSeed(e)}}},h=d,f=(n(4150),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-panel",attrs:{id:"settingPanel"}},[e("div",{staticClass:"title",on:{click:function(e){t.panelZoom=!t.panelZoom}}},[t._v("\n    "+t._s(t.$t("Settings"))+"\n    "),e("span",{staticClass:"el-icon-arrow-up zoom-icon",class:{off:t.panelZoom}})]),t._v(" "),e("div",{staticClass:"panel-main",class:{off:t.panelZoom}},t._l(t.formTempList,(function(n,i){return e("s-form-item",{directives:[{name:"show",rawName:"v-show",value:!n.hide,expression:"!v.hide"}],key:n.key+i,attrs:{config:n,value:n.keys?t.value:t.value[n.key],item:n},on:{input:function(e){return t.changeForm(e,n.key)}},scopedSlots:t._u(["seed"===n.key?{key:"label",fn:function(){return[e("switch-btn",{attrs:{value:"custom"!==t.value.seedMode,btnText:["Random","Customization"]},on:{input:t.changeSeedMode}})]},proxy:!0}:null,"seed"===n.key?{key:"inputSeed",fn:function(){return[e("el-input-number",{attrs:{placeholder:t.seedPlsHd,controls:!1,value:t.value.seed,min:-1,precision:0,max:t.seedOptions.max},on:{input:function(e){return t.useSeed(e)}}})]},proxy:!0}:null],null,!0)})})),1)])}),[],!1,null,"0bb417f4",null);e.default=component.exports},3260:function(t,e,n){"use strict";n.r(e);n(4),n(41);var o=n(466),r=n(855),l={components:{STooltip:o.default,SwitchBtn:r.default},props:["config","value"],methods:{changeVal:function(t,e){var n=t;if(void 0!==e){var o=this.config.keys;n=0===e?n+"x"+this.value[o[1]]:this.value[o[0]]+"x"+n}this.$emit("input",n)}}},c=(n(4149),n(0)),component=Object(c.a)(l,(function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"form-item"},[n("div",{staticClass:"form-lable flex justify-between items-center"},[n("div",{staticClass:"label"},[e._v("\n      "+e._s(e.$t(e.config.label))+"\n      "),e.config.tips?n("s-tooltip",{attrs:{info:e.config.tips}}):e._e()],1),e._v(" "),e._t("label")],2),e._v(" "),"select"===e.config.type?n("div",{staticClass:"form-main form-select"},[n("el-select",{attrs:{value:e.value,placeholder:e.config.placeholder,"popper-class":"custom-select",disabled:e.config.disabled},on:{change:e.changeVal}},e._l(null===(t=e.config)||void 0===t?void 0:t.selectList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):"input"===e.config.type?n("div",{staticClass:"form-main form-input"},[n("el-input",{attrs:{value:e.value,disabled:e.config.disabled},on:{input:e.changeVal}})],1):"inputNumber"===e.config.type?n("div",{staticClass:"form-main form-input-number"},[e.$slots.inputSeed?[e._t("inputSeed")]:n("el-input-number",{attrs:{controls:e.config.controls,value:e.value,min:e.config.min,max:e.config.max,disabled:e.config.disabled,step:e.config.step,precision:e.config.precision},on:{input:e.changeVal}})],2):"inputTextarea"===e.config.type?n("div",{staticClass:"form-main form-input-textarea"},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:e.config.min,maxRows:e.config.max},value:e.value,disabled:e.config.disabled},on:{input:e.changeVal}})],1):"slider"===e.config.type?n("div",{staticClass:"form-main form-slider"},[n("el-slider",{attrs:{value:e.value,min:e.config.min,max:e.config.max,step:e.config.step,disabled:e.config.disabled,"show-tooltip":e.config.showTooltip},on:{input:e.changeVal}}),e._v(" "),n("el-input-number",{attrs:{value:e.value,controls:e.config.controls,min:e.config.min,max:e.config.max,step:e.config.step,disabled:e.config.disabled},on:{input:e.changeVal}})],1):"inputPart"===e.config.type?n("div",{staticClass:"form-main form-input-part"},[n("el-input-number",{attrs:{controls:e.config.controls,value:e.value[e.config.keys[0]],disabled:e.config.disabled,min:e.config.min,max:e.config.max,step:e.config.step},on:{input:function(t){return e.changeVal(t,0)}}}),e._v("\n    x\n    "),n("el-input-number",{attrs:{controls:e.config.controls,value:e.value[e.config.keys[1]],disabled:e.config.disabled,min:e.config.min,max:e.config.max,step:e.config.step},on:{input:function(t){return e.changeVal(t,1)}}})],1):e._e(),e._v(" "),"switch"===e.config.type?n("div",{staticClass:"form-main form-select"},[n("switch-btn",{attrs:{value:e.value},on:{input:e.changeVal}})],1):e._e()])}),[],!1,null,"b4c01e08",null);e.default=component.exports},3271:function(t,e,n){"use strict";n.r(e);n(18);var o=n(14),r=(n(19),n(32),n(22),n(4),n(155)),l={name:"TagFilter",inject:["homePageApp"],data:function(){return{activeCategoryId:"",activeTagId:-1}},computed:{categoryList:function(){var t;return(null===(t=this.homePageApp)||void 0===t||null===(t=t.homeData)||void 0===t?void 0:t.categories)||[]},activeCategory:function(){var t,e=this;return null===(t=this.categoryList)||void 0===t?void 0:t.find((function(t){return t.id===e.activeCategoryId}))},tagList:function(){var t=(this.activeCategory||{tags:[]}).tags;return[{name:this.$t("All"),id:0}].concat(Object(o.a)(t))},getPosition:function(){var t,e=this.homePageApp.homeData,n=null==this||null===(t=this.homePageApp)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,o=Object(r.getMenuIndex)({list:n,id:e.id});return"home,".concat(e.id,",").concat(e.title,",").concat(o)}},methods:{handleClick:function(t,e){var n=t.id,o=t.name;if("category"===e){var r=n===this.activeCategoryId;this.activeCategoryId=r?"":n,this.activeTagId=r?-1:0,this.$xyLogEvent({front_operation:"click",entity_name:"tag-filter-category",entity_type:"tag-filter-box",obj_info:{label_en:"",label_name:o,status:!r,id:n,position:this.getPosition}})}else{var l=n===this.activeTagId;this.activeTagId=l?-1:n,this.$xyLogEvent({front_operation:"click",entity_name:"tag-filter-tag",entity_type:"tag-filter-box",obj_info:{label_en:"",label_name:o,status:!l,id:n,perid:this.activeCategoryId,position:this.getPosition}})}var c=this.tagList.map((function(t){return t.id}));c.shift();var d=this.activeTagId?[this.activeTagId]:c;this.$emit("change",-1===this.activeTagId?[]:d,this.activeCategoryId)},init:function(){this.activeCategoryId="",this.activeTagId=-1,this.$emit("change",[])}}},c=(n(4244),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tag-filter"},[e("swipeable-list",t._b({attrs:{iconBntWidth:28,listGap:"20px",top:"0px"}},"swipeable-list",t.$attrs,!1),t._l(t.categoryList,(function(n){var o;return e("div",{key:n.id,staticClass:"category-item gradient-border",class:{active:t.activeCategoryId===n.id},style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(".concat(null==n||null===(o=n.cover)||void 0===o?void 0:o.url,")")},on:{click:function(e){return t.handleClick(n,"category")}}},[t._v("\n      "+t._s(n.name)+"\n    ")])})),0),t._v(" "),t.tagList.length>1?e("swipeable-list",t._b({staticClass:"tag-list",attrs:{iconBntWidth:28,listGap:"20px",top:"0px"}},"swipeable-list",t.$attrs,!1),t._l(t.tagList,(function(n){return e("div",{key:n.id,staticClass:"tag-item",class:{active:t.activeTagId==n.id},on:{click:function(e){return t.handleClick(n,"tag")}}},[t._v("\n      "+t._s(n.name)+"\n    ")])})),0):t._e()],1)}),[],!1,null,"1dd642c8",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3272:function(t,e,n){"use strict";n.r(e);n(16),n(21);var o=n(2),r=n(30),l=n(14),c=(n(19),n(6),n(398),n(11),n(22),n(399),n(243),n(12),n(13),n(8),n(4),n(7),n(3273)),d=n(3274),h=n(281),f=n(25),m=n(71);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={model:1},w={name:"HyFilterPop",components:{HyRadio:c.default,HyCheckbox:d.default},props:{passFilter:{type:Array,default:function(){return["preference"]}},preferenceList:{type:Array,default:function(){return h.preferenceList}}},data:function(){return{handleChangeDebounce:Object(f.debounce)(this.handleChange,500),externalAttr:{setFilterDefault:this.setFilterDefault},selectComponentList:h.selectComponentList,formData:{order_by:"recommend",timeType:"All",source_types:[],genders:[],character_type:0,model_types:[],base_models:[],sub_channel:[],ages:[],languages:[],tones:[],run_available:0,output_types:[]},dataMap:{thePreferenceList:this.preferenceList||h.preferenceList,timeTypeList:h.timeTypeList,resourceTypeList:h.resourceTypeList,genderList:h.genderList,characterTypeList:h.characterTypeList,modelTypeList:h.modelTypeList,baseModelsList:h.baseModelsList,postTypeList:h.postTypeList,ageList:h.ageList,languageList:h.languageList,intonationList:h.intonationList,runAvailableList:h.runAvailableList,appTypeList:h.appTypeList},disabledFilter:[],baseModels:[],baseModelMap:{}}},computed:{filterCount:function(){for(var t=0,e={timeType:"timeType",resourceType:"source_types",genders:"genders",characterType:"character_type",modelType:"model_types",baseModels:"base_models",postType:"sub_channel",age:"ages",language:"languages",intonation:"tones",appType:"output_types"},n=this.passFilter.map((function(t){return e[t]})).filter((function(t){return t})),o=Object(l.a)(n),c=0,d=Object.entries(this.formData);c<d.length;c++){var h=Object(r.a)(d[c],2),f=h[0],m=h[1];o.includes(f)&&(Array.isArray(m)?t+=m.length:"All"!==m&&0!==m&&(t+=1))}return t}},watch:{preferenceList:{handler:function(t){this.dataMap.thePreferenceList=t},deep:!0}},mounted:function(){this.getBaseModels()},methods:{isUseBaseModels:function(t){return"baseModelsList"===t&&!!this.baseModels.length},getBaseModels:function(){var t=this,e=(this.$route.params||{}).ptype,n=void 0===e?"/":e;Object.keys(y).includes(n)&&Object(m.a)({scene:y[n]}).then((function(e){var n;1e4===e.status.code&&(t.baseModels=(null===(n=e.data)||void 0===n||null===(n=n.base_model_select_options)||void 0===n?void 0:n.map((function(e){return t.baseModelMap[e.val]=e.vals||[],{label:e.val,value:e.val}})))||[])}))},handleReset:function(){var t=this.preferenceList[0].value||"recommend";this.formData={order_by:t,timeType:"All",source_types:[],genders:[],character_type:0,model_types:[],base_models:[],sub_channel:[],ages:[],languages:[],tones:[],run_available:0,output_types:[]},this.getDisabledFilter(),this.$emit("onChangeCell",{formData:this.formData})},setFilterDefault:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.formData=_(_({},this.formData),data),this.getDisabledFilter()},handleChange:function(t,e){var n=this,o=t.value;this.getDisabledFilter();var r=Object(f.cloneDeep)(this.formData);"baseModels"===o&&(r.base_models=r.base_models.flatMap((function(t){var e;return[t].concat(Object(l.a)((null===(e=n.baseModelMap)||void 0===e?void 0:e[t])||[]))}))),this.$emit("onChangeCell",{target:o,value:e,formData:r})},getDisabledFilter:function(){var t=this,e=this.formData.order_by,n=["recommend"].includes(e),o=["follows"].includes(e),r=["hot"].includes(e),l=["new"].includes(e),c=["recently"].includes(e),d=[n||o||l||c?"timeType":"",n||c?"genders":"",n||o?"postType":"",n?"modelType":"",n?"baseModels":"",o||r||l?"resourceType":""].filter((function(t){return""!=t}));return this.disabledFilter=d,d.forEach((function(e){var n={timeType:{key:"timeType",value:"All"},genders:{key:"genders",value:[]},postType:{key:"sub_channel",value:[]},modelType:{key:"model_types",value:[]},baseModels:{key:"base_models",value:[]},resourceType:{key:"source_types",value:[]}};t.formData[n[e].key]=n[e].value})),d}}},C=w,x=(n(4247),n(0)),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("el-popover",{attrs:{placement:"bottom-end","popper-class":"hy-filter-popover",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"cell-list-box"},[t._l(t.selectComponentList,(function(n){return[t.passFilter.includes(n.value)?e(n.component,{key:n.value,tag:"component",attrs:{list:t.isUseBaseModels(n.listKey)?t.baseModels:t.dataMap[n.listKey],perTitle:n.label,disabled:t.disabledFilter.includes(n.value)},on:{onChange:function(e){return t.handleChangeDebounce(n,e)}},model:{value:t.formData[n.formKey],callback:function(e){t.$set(t.formData,n.formKey,e)},expression:"formData[item.formKey]"}}):t._e()]}))],2),t._v(" "),e("div",{staticClass:"filter-reset flex_c_m",on:{click:t.handleReset}},[t._v("\n      "+t._s(t.$t("resetSelection"))+"\n    ")])]),t._v(" "),e("el-badge",{attrs:{slot:"reference",hidden:!t.filterCount,value:t.filterCount,type:"primary"},slot:"reference"},[e("div",{staticClass:"filter-box flex_c_m"},[e("i",{staticClass:"iconfont icon-shaixuan1 icon-before"}),t._v(" "),e("span",{staticClass:"filter-text"},[t._v(t._s(t.$t("Filter")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down icon-after"})])])],1)}),[],!1,null,"daebf472",null);e.default=component.exports},3273:function(t,e,n){"use strict";n.r(e);n(24);var o={model:{prop:"value",event:"onChange"},props:{value:{type:[String,Number],default:""},list:{type:Array,default:function(){return[]}},perTitle:{type:String,default:""},subTitle:{type:String,default:""},isLang:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}},methods:{handItem:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;this.$emit("onChange",t)}}},r=o,l=(n(4245),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"title-box"},[e("span",{staticClass:"per-title"},[t._v(t._s(t.$t(t.perTitle)))]),t._v(" "),e("span",{staticClass:"sub-title"},[t._v(t._s(t.$t(t.subTitle)))])]),t._v(" "),e("div",{staticClass:"option-list flex"},t._l(t.list,(function(n,o){return e("div",{key:o,staticClass:"item flex_c_m",class:[n.value===t.value&&"act-item",t.disabled&&"dis-item"],on:{click:function(e){!t.disabled&&t.handItem(n)}}},[n.value===t.value?e("i",{staticClass:"iconfont icon-a-Group48048 check-icon"}):t._e(),t._v("\n      "+t._s(t.isLang?t.$t(n.label):n.label)+"\n    ")])})),0)])}),[],!1,null,"1c79d77a",null);e.default=component.exports},3274:function(t,e,n){"use strict";n.r(e);n(16),n(21);var o=n(14),r=(n(19),n(6),n(4),{model:{prop:"value",event:"onChange"},props:{value:{type:Array,default:function(){return[]}},list:{type:Array,default:function(){return[]}},perTitle:{type:String,default:""},subTitle:{type:String,default:""},isLang:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}},methods:{handItem:function(){var t=[],e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;t=this.value.some((function(t){return t===e}))?this.value.filter((function(t){return t!==e})):[].concat(Object(o.a)(this.value),[e]),this.$emit("onChange",t)}}}),l=r,c=(n(4246),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"title-box"},[e("span",{staticClass:"per-title"},[t._v(t._s(t.$t(t.perTitle)))]),t._v(" "),e("span",{staticClass:"sub-title"},[t._v(t._s(t.$t(t.subTitle)))])]),t._v(" "),e("div",{staticClass:"option-list flex"},t._l(t.list,(function(n,o){return e("div",{key:o,staticClass:"item flex_c_m",class:[t.value.includes(n.value)&&"act-item",t.disabled&&"dis-item"],on:{click:function(e){!t.disabled&&t.handItem(n)}}},[t.value.includes(n.value)?e("i",{staticClass:"iconfont icon-a-Group48048 check-icon"}):t._e(),t._v("\n      "+t._s(t.isLang?t.$t(n.label):n.label)+"\n    ")])})),0)])}),[],!1,null,"1b20fefc",null);e.default=component.exports},3276:function(t,e,n){"use strict";n.r(e);n(50);var o={name:"FrameList",components:{HyColorfulBorder:n(108).default},props:{goodsList:{type:Array,default:function(){return[]}},artwork:{type:Object,default:function(){return{}}}},data:function(){return{activeIndex:0}},computed:{currentWorkFrameUrl:function(){var t,e;return(null===(t=this.artwork)||void 0===t?void 0:t.style)||(null===(e=this.artwork)||void 0===e?void 0:e.work_frame)}},watch:{goodsList:{immediate:!0,handler:function(t){var e=this;if(Array.isArray(t)&&t.length){var n=this.currentWorkFrameUrl?t.findIndex((function(t){return t.image===e.currentWorkFrameUrl})):-1;this.activeIndex=Math.max(n,0);var o=t[this.activeIndex];this.$emit("select",o)}}}},methods:{handleClick:function(t){this.activeIndex=t,this.$emit("select",this.goodsList[t])},resetActiveIndex:function(){this.activeIndex=0}}},r=(n(4256),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods-list-box"},t._l(t.goodsList,(function(n,o){return e("div",{key:o,class:["goods-item","flex_c_m",t.activeIndex===o&&"goods-active",n.is_wearing&&"goods-inuse",!n.is_owned&&"disabled"],attrs:{"data-usetxt":t.$t("useIng"),"data-event":"hy_jewelry_modal_frame_list_item_click","data-id":n.id},on:{click:function(e){return t.handleClick(o)}}},[e("HyColorfulBorder",{attrs:{photoFrame:n.image,borderRadius:8}},[e("div",{staticClass:"goods-item-img"})]),t._v(" "),t.activeIndex===o?e("div",{staticClass:"active-icon flex_c_m"},[e("i",{staticClass:"iconfont icon-qiandaochenggong"})]):t._e()],1)})),0)}),[],!1,null,"76c15b7e",null);e.default=component.exports},3277:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(3),r=n(2),l=(n(20),n(108)),c=n(173),d=n(10),h=n(371),f=n(1),m=n(3278);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"EffectPreview",components:{HyColorfulBorder:l.default,aiAudioPreview:m.default},props:{artwork:{type:Object,default:function(){return{}}},decoration:{type:Object,default:function(){return{}}},effect:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,btnLoading:!1,productUrl:""}},computed:{artworkBannerUrl:function(){var t,e,n;return(null===(t=this.artwork)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.url)||(null===(e=this.artwork)||void 0===e||null===(e=e.cover)||void 0===e?void 0:e.url)||(null===(n=this.artwork)||void 0===n?void 0:n.cover)},isAiAudio:function(){var t;return 16===(null===(t=this.artwork)||void 0===t?void 0:t.obj_type)},isNsfw:function(){var t;return 1===(null===(t=this.artwork)||void 0===t?void 0:t.nsfw)},isArtworkVideo:function(){return Object(d.G)(this.artworkBannerUrl)},mediaProps:function(){return this.isArtworkVideo?{autoplay:!0,loop:!0,muted:!0,playsinline:"",controls:!1}:{alt:""}},currentWorkFrameUrl:function(){var t,e;return(null===(t=this.artwork)||void 0===t?void 0:t.style)||(null===(e=this.artwork)||void 0===e?void 0:e.work_frame)},isCurrentDecorationWearing:function(){var t;return this.currentWorkFrameUrl===(null===(t=this.decoration)||void 0===t?void 0:t.image)},shouldShowTargetPreview:function(){return this.productUrl&&!this.isCurrentDecorationWearing},buttonText:function(){var t;return null!==(t=this.decoration)&&void 0!==t&&t.is_owned?this.isCurrentDecorationWearing?this.$t("unload"):this.$t("Apply"):this.$t("go_and_get")},isUnloadBtn:function(){var t;return(null===(t=this.decoration)||void 0===t?void 0:t.is_owned)&&this.isCurrentDecorationWearing},buttonEvent:function(){var t;return null!==(t=this.decoration)&&void 0!==t&&t.is_owned?this.isCurrentDecorationWearing?"hy_jewelry_modal_unload_btn_click":"hy_jewelry_modal_apply_btn_click":"hy_jewelry_modal_get_btn_click"}},watch:{decoration:{immediate:!0,handler:function(t){var e=this;null!=t&&t.id&&(this.$nextTick((function(){var t,n;(null===(t=e.$refs.HyColorfulBorderRef)||void 0===t?void 0:t.setScale)&&(null===(n=e.$refs.HyColorfulBorderRef)||void 0===n||n.setScale())})),this.getBindProduct(t))}}},created:function(){this.model=new c.a},methods:_(_({isVideoLink:d.G},Object(f.b)("decorations",["setGoDecorationsId"])),{},{getBindProduct:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,null===(o=e.model)||void 0===o?void 0:o.getProductDecorationsBindProduct(t.id);case 4:l=n.sent,e.productUrl=null==l||null===(r=l.cover)||void 0===r?void 0:r.url,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e.productUrl="";case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})))()},handleApply:function(){var t,e,n=this;if(!this.loading){if(!this.isCurrentDecorationWearing)return null!==(t=this.decoration)&&void 0!==t&&t.is_owned?void(null!==(e=this.decoration)&&void 0!==e&&e.is_wearing?this.$hyConfirm({width:"400px",styleType:"style2",confirmText:"Continue",cancelText:"noBack",contentTitle:"resetDecoration",content:"resetDecorationConfirm",title:"ImportModelTips"}).then((function(){n.handleUse()})).catch((function(){})):this.handleUse()):(this.$emit("close"),this.setGoDecorationsId(this.decoration.id),void this.$router.push({path:this.localePath(h.a.decorations)}));this.handleUnload()}},handleUse:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.btnLoading){e.next=2;break}return e.abrupt("return");case 2:return t.btnLoading=!0,e.prev=3,e.next=6,null===(n=t.model)||void 0===n?void 0:n.useProductDecorations({id:t.decoration.id,workId:t.artwork.id,type:t.artwork.obj_type});case 6:o=e.sent,r=o.cancelDecorationId,t.$message({message:t.$t("use_success")+"!",type:"success",customClass:"bottom-show-message"}),t.$emit("useSuccess",_(_({},t.decoration),{},{cancelDecorationId:r})),t.$emit("close");case 11:return e.prev=11,t.btnLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,,11,14]])})))()},handleUnload:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.btnLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.btnLoading=!0,e.next=6,null===(n=t.model)||void 0===n?void 0:n.unloadDecorations(t.decoration.id);case 6:t.$message({message:t.$t("unload_success")+"!",type:"success",customClass:"bottom-show-message"}),t.$emit("useSuccess",_({},t.decoration)),t.$emit("close");case 9:return e.prev=9,t.btnLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[2,,9,12]])})))()}}),beforeDestroy:function(){this.model&&"function"==typeof this.model.destroy&&this.model.destroy(),this.model=null}},w=(n(4258),n(0)),component=Object(w.a)(y,(function(){var t,e,n,o,r=this,l=r._self._c;return l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.loading,expression:"loading"}],staticClass:"effect-preview-box"},[r.shouldShowTargetPreview?l("div",{staticClass:"the-to-target flex_c_m"},[l("div",{staticClass:"the-img flex_c_m",class:{"bg-nsfw":!r.productUrl}},[r.isVideoLink(r.productUrl)?l("video",{attrs:{autoplay:"",loop:"",muted:"",playsinline:"",controls:!1,src:r.productUrl},domProps:{muted:!0},on:{click:function(t){t.preventDefault()}}}):l("img",{attrs:{src:r.productUrl,alt:""}})]),r._v(" "),r._m(0),r._v(" "),l("div",{staticClass:"target-img flex_c_m",class:{"bg-nsfw":r.isNsfw}},[r.isNsfw?r._e():[l(r.isArtworkVideo?"video":"img",r._b({tag:"component",attrs:{src:r.artworkBannerUrl},on:{click:function(t){t.preventDefault()}}},"component",r.mediaProps,!1))]],2)]):r._e(),r._v(" "),r.isAiAudio?l("div",{staticClass:"img-view-box flex_c_m img-view-box-auto"},[l("HyColorfulBorder",{ref:"HyColorfulBorderRef",staticClass:"img-border",attrs:{photoFrame:null===(t=r.decoration)||void 0===t?void 0:t.image,borderRadius:10,boxHeight:"auto",photoPadding:4}},[l("aiAudioPreview",{attrs:{item:r.artwork}})],1)],1):l("div",{staticClass:"img-view-box flex_c_m"},[l("HyColorfulBorder",{ref:"HyColorfulBorderRef",staticClass:"img-border",attrs:{photoFrame:null===(e=r.decoration)||void 0===e?void 0:e.image,borderRadius:10,boxHeight:"100%"}},[l("div",{staticClass:"product-image",class:{"bg-nsfw":r.isNsfw}},[r.isNsfw?r._e():[l(r.isArtworkVideo?"video":"img",r._b({tag:"component",staticClass:"img-item",attrs:{src:r.artworkBannerUrl},on:{click:function(t){t.preventDefault()}}},"component",r.mediaProps,!1))]],2)])],1),r._v(" "),l("div",{staticClass:"flex_c_m"},[l("el-button",{staticClass:"apply-btn flex_c_m",class:{"btn-disabled":r.loading,"btn-unload":r.isUnloadBtn},attrs:{loading:r.btnLoading,"data-event":r.buttonEvent,"data-id":null===(n=r.decoration)||void 0===n?void 0:n.id,"data-type":null===(o=r.artwork)||void 0===o?void 0:o.obj_type,"data-desc":"饰品佩戴弹窗按钮点击"},on:{click:r.handleApply}},[r._v("\n      "+r._s(r.buttonText)+"\n    ")])],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"point flex_c_m"},[t("img",{attrs:{src:"https://image.cdn2.seaart.me/static/web/pointingArrow.webp",alt:""}})])}],!1,null,"509ba093",null);e.default=component.exports},3278:function(t,e,n){"use strict";n.r(e);n(16),n(18),n(11),n(72),n(89),n(19),n(6),n(69),n(22),n(31),n(4),n(28),n(43),n(40),n(41);var o=n(10),r=n(9);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,a){if(t){if("string"==typeof t)return c(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw l}}}}function c(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=Array(a);e<a;e++)n[e]=t[e];return n}var d={name:"AiAudioPreview",props:{item:{type:Object,default:function(){return{}}},scale:{type:Boolean,default:!1}},computed:{selfTag:function(){var t,e,n=(null===(t=this.item)||void 0===t?void 0:t.timbre)||null,o=[];return null!=n&&null!==(e=n.tags)&&void 0!==e&&e.length&&(o=null==n?void 0:n.tags.map((function(t){return t.title}))),o},attrTags:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.timbre)||null,n=[];if(e){var o=[],c=[],d=[];if(e.gender){var h=r.I.filter((function(t){return t.value===e.gender}))||[];h.length&&c.push(h[0].i18Key)}if(e.age){var f=r.I.filter((function(t){return t.value===e.age}))||[];f.length&&o.push(f[0].i18Key)}if(null!=e&&e.tones&&null!=e&&e.tones.length){var m,v=l(null==e?void 0:e.tones);try{for(v.s();!(m=v.n()).done;){var _,y=m.value,w=l(r.I);try{for(w.s();!(_=w.n()).done;){var C=_.value;C.value===y&&d.push(C.i18Key)}}catch(t){w.e(t)}finally{w.f()}}}catch(t){v.e(t)}finally{v.f()}}return n=[].concat(o,c,d)}return n},getImageUrl:function(){return function(t){var e="";return t.cover&&!["",null,void 0].includes(t.cover)?e=Object(o.K)(t.cover,this.$imgL):e}}}},h=(n(4257),n(0)),component=Object(h.a)(d,(function(){var t,e,n,o,r,l=this,c=l._self._c;return c("div",{staticClass:"ai-audio-preview-content",class:{scaled:l.scale}},[c("div",{staticClass:"imgBox"},[["",null,void 0].includes(null===(t=l.item)||void 0===t?void 0:t.cover)?c("div",{staticClass:"avatar-img"},[c("div",{staticClass:"image-empty"},[l._v(l._s(l.$t("EmptyBannerText")))])]):c("el-image",{staticClass:"avatar-img",attrs:{fit:"contain",src:l.getImageUrl(l.item),alt:null===(e=l.item.timbre)||void 0===e?void 0:e.name}},[c("template",{slot:"error"},[c("img",{directives:[{name:"webp",rawName:"v-webp",value:l.$imgL,expression:"$imgL"}],staticClass:"avatar-img",attrs:{src:l.item.cover,alt:null===(n=l.item.timbre)||void 0===n?void 0:n.name}})])],2),l._v(" "),c("div",{staticClass:"play-button",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[c("div",{staticClass:"icon-play-custom"})])],1),l._v(" "),c("div",{staticClass:"ai-audio-name",attrs:{title:null===(o=l.item.timbre)||void 0===o?void 0:o.name}},[l._v("\n    "+l._s(null===(r=l.item.timbre)||void 0===r?void 0:r.name)+"\n  ")]),l._v(" "),c("div",{staticClass:"item-content-tags"},[l.attrTags.length?l._l(l.attrTags,(function(t,e){return c("span",{key:t+e,staticClass:"item-content-tags-item"},[l._v("\n        "+l._s(l.$t(t))+"\n      ")])})):l._e(),l._v(" "),l.selfTag.length?l._l(l.selfTag,(function(t,e){return c("span",{key:t+e,staticClass:"item-content-tags-item"},[l._v("\n        "+l._s(t)+"\n      ")])})):l._e()],2)])}),[],!1,null,"36a1c9c0",null);e.default=component.exports},3282:function(t,e,n){"use strict";n.r(e);var o={name:"HyBannerCardImgBox",props:{item:{type:Object,default:function(){}}}},r=(n(4266),n(0)),component=Object(r.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"imgBox"},[t("img",{attrs:{src:this.item.cover.url,alt:""}})])}),[],!1,null,"d93321e6",null);e.default=component.exports},3283:function(t,e,n){"use strict";n.r(e);n(24);var o={props:{items:{type:Array,required:!0},gap:{type:Number,default:20},hasMore:{type:Boolean,default:!0},initLoad:{type:Boolean,default:!1}},data:function(){return{itemsLayout:[],loading:!1,observer:null}},watch:{items:{handler:function(t){console.log("val",t),this.itemsLayout=t}},initLoad:function(t){t&&!this.observer&&this.initObserver()}},beforeDestroy:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},methods:{initObserver:function(){var t=this;this.observer=new IntersectionObserver((function(e){e[0].isIntersecting&&!t.loading&&t.hasMore&&(t.loading=!0,t.$emit("load-more"))}),{root:null,threshold:.1}),this.observer.observe(this.$refs.loadingMore)},finishLoad:function(){this.loading=!1}}},r=(n(4278),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"waterfall-container-wrapper"},[e("div",{staticClass:"waterfall-container",style:{"--gap":t.gap+"px"}},t._l(t.itemsLayout,(function(n,o){return e("div",{key:o,staticClass:"waterfall-item"},[t._t("default",null,{item:n})],2)})),0),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loadingMore",staticClass:"loadBox"})])}),[],!1,null,"57c02f13",null);e.default=component.exports},3344:function(t,e,n){"use strict";n.r(e);n(92),n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(28),n(1)),l=n(27),c=n(178);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"EmailLogin",props:{},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,n=this.$i18n.locale?this.$i18n.locale:"en";return Object(c.a)(n,e,this.$isChinaSite)}}},data:function(){var t=this;return{loginForm:{email:"",password:"",UserAgreement:!1},loginFormRules:{email:[{required:!0,message:this.$t("PleaseEAEA"),trigger:"blur"},{type:"email",message:this.$t("PleaseETCEA"),trigger:["blur","change"]}],password:[{required:!0,message:this.$t("PleaseIAP"),trigger:"blur"},{min:8,max:20,message:this.$t("PasswordLMBB"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("PasswordANATCS"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"密码不能包含汉字",trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,n,o){n?o():o(new Error(t.$t("PleaseTTOSAPP")))}}]},errorMessages:{20001:"AccountNoExistent",20004:"AccountDisabled",20005:"PasswordError",20100:"InvalidEmail"}}},mounted:function(){},methods:h(h(h({},Object(r.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser"])),Object(r.b)("payment",["getPaymentInfo"])),{},{handleSignUp:function(){this.$message.error(this.$t("loginFnError"))},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(e){var n={email:t.loginForm.email,password:t.loginForm.password,type:1};t.$emit("loginEmail",h({},n))}}))},forgetPassword:function(){var t=this;/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.loginForm.email)?Object(l.xb)({email:this.loginForm.email}).then((function(e){var code=e.status.code,n=e.data?e.data.status:0;if(1!==n||1e4!==code)t.$message.error(t.$t("ThisEmailIs")+(2===n?t.$t("Disabled"):3===n?t.$t("NotActive"):t.$t("NotAvailable")));else{var param={email:t.loginForm.email};t.$emit("go-to",{pagename:"send-email",type:"forget",param:param})}})).catch((function(t){})):this.$message.error(this.$t("PleaseETCEA"))}})},m=(n(4463),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"email-login w-full"},[e("el-form",{ref:"loginForm",attrs:{model:t.loginForm,"label-position":"top",rules:t.loginFormRules,"hide-required-asterisk":!0}},[e("el-form-item",{attrs:{label:t.$t("Email"),prop:"email"}},[e("el-input",{attrs:{placeholder:t.$t("PleaseEAEA"),maxlength:"64",clearable:""},model:{value:t.loginForm.email,callback:function(e){t.$set(t.loginForm,"email","string"==typeof e?e.trim():e)},expression:"loginForm.email"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Password"),prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:t.$t("PleaseIAP"),maxlength:"20","show-password":"",clearable:""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password","string"==typeof e?e.trim():e)},expression:"loginForm.password"}})],1),t._v(" "),e("el-row",{staticClass:"flex-wrap m-b-20",attrs:{type:"flex",justify:"space-between"}},[e("div",{staticClass:"text-right"},[e("el-button",{staticClass:"text-gray text-btn",attrs:{type:"text"},on:{click:t.forgetPassword}},[t._v(t._s(t.$t("ForgotPassword")))])],1)])],1),t._v(" "),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between","align-items":"center"}},[e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:t.handleLogin}},[t._v(t._s(t.$t("Login")))]),t._v(" "),e("div",{staticClass:"text-gray text-center",staticStyle:{width:"100%"}},[t._v("\n      "+t._s(t.$t("loginQuest"))+"\n      "),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:t.handleSignUp}},[t._v(t._s(t.$t("Register")))])],1)],1)],1)}),[],!1,null,"d26acb24",null);e.default=component.exports},3345:function(t,e,n){"use strict";n.r(e);n(92),n(11),n(6),n(12),n(13),n(7);var o=n(2),r=n(3),l=(n(16),n(8),n(4),n(28),n(43),n(21),n(44),n(26),n(20),n(1)),c=n(27),d=n(48),h=n(178),f=n(10);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={name:"PhoneLogin",props:{isAutoFoucs:{type:Boolean,default:!0}},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,n=this.$i18n.locale?this.$i18n.locale:"en";return Object(h.a)(n,e,this.$isChinaSite)}}},data:function(){var t=this;return{countdown:0,resendCodeIntervalId:null,phoneValid:!1,loginForm:{phone:"",verifiCode:"",UserAgreement:!1,updateUcode:""},tempCode:"",loginFormRules:{phone:[{required:!0,message:this.$t("PhonePls"),trigger:"blur"},{validator:this.checkPhone,trigger:["blur","change"]}],verifiCode:[{required:!0,message:this.$t("VerifiCodePls"),trigger:"blur"},{min:4,max:8,message:this.$t("VerifiCodeWarning"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("VerifiCodeWarning"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"VerifiCodeWarning",trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,n,o){n?o():o(new Error(t.$t("PleaseTTOSAPP")))}}],updateUcode:[{pattern:/^([0-9a-zA-Z]{6,8})?$/,message:this.$t("login_inviteCode_rule"),trigger:"blur"}]},errorMessagesCode:{20006:"PhoneWarning",20007:"VerifiCodeSendTooFreq",20008:"VerifiCodeSendTooMore"},errorMessagesLogin:{20001:"AccountNoExistent",20004:"AccountDisabled",20005:"PasswordError",20100:"InvalidEmail",20105:"VerifiCodeError"},showInviteCode:!1,captchaToken:""}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isAutoFoucs&&t.$refs.phoneInput.focus(),t.loginForm.updateUcode=Object(d.r)()||"",t.tempCode=Object(d.r)()||"",e.prev=3,e.next=6,t.loadCaptcha();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("Google Captcha failed to load or execute",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))()},methods:v(v(v({},Object(l.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser"])),Object(l.b)("payment",["getPaymentInfo"])),{},{handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(e){var n={phone_number:"86-"+t.loginForm.phone,captcha:t.loginForm.verifiCode,type:9};t.$emit("loginPhone",v({},n))}}))},handleSendCode:function(){var t=this.loginForm.phone;this.validatePhone(t)&&(this.countdown>0?console.log("正在倒计时"):(clearInterval(this.resendCodeIntervalId),this.startCountdown(),console.log("发送短信"),this.validatePhone(t)?this.requestCode(t):this.$message.error(this.$t("PhoneWarning"))))},requestCode:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.updateCaptcha();case 2:o={phone_number:"86-"+t,g_recaptcha_token:e.captchaToken},Object(c.zb)(o).then((function(t){var code=t.status.code,n=Object.keys(e.errorMessagesCode);if(1e4===code)e.$message.success(e.$t("VerifiCodeSend"));else if(n.includes(code.toString())){if(20007===code)return;var o=e.errorMessagesCode[code];e.$message.error(e.$t(o))}else e.$message.error(e.$t("ServerError"))})).catch((function(t){console.log("发送短信失败",t)}));case 4:case"end":return n.stop()}}),n)})))()},validatePhone:function(t){return/^1[3456789]\d{9}$/.test(t)},startCountdown:function(){var t=this;console.log("发送短信计时"),this.phoneValid=!1,this.countdown=60,this.resendCodeIntervalId=setInterval((function(){if(t.countdown<=0)return t.phoneValid=!0,void(t.countdown=0);t.countdown-=1}),1e3)},inputUCode:function(){var t=this.loginForm.updateUcode;this.loginForm.updateUcode=t.replace(/[^0-9a-zA-Z]/g,""),t.length>=6&&t.toUpperCase()!==this.tempCode.toUpperCase()?this.$emit("update-code",t):0===t.length&&""!==this.tempCode&&this.$emit("update-code",this.tempCode)},checkPhone:function(t,e,n){var o=this.loginForm.phone;this.validatePhone(o)?(!(this.countdown>0)&&(this.phoneValid=!0),n()):(this.phoneValid=!1,n(new Error(this.$t("PhoneWarning"))))},loadCaptcha:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=window)||void 0===e||!e.grecaptcha||null===(n=window)||void 0===n||null===(n=n.grecaptcha)||void 0===n||!n.enterprise){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Object(f.I)("https://www.recaptcha.net/recaptcha/enterprise.js?render=".concat("6LfuV2wqAAAAAJ83QW1gae0CmT7GrgzzecQbFpJ5"));case 5:return t.next=7,new Promise((function(t,e){var n,o;null!==(n=window)&&void 0!==n&&n.grecaptcha&&null!==(o=window)&&void 0!==o&&null!==(o=o.grecaptcha)&&void 0!==o&&o.enterprise?grecaptcha.enterprise.ready(t):e(new Error("grecaptcha.enterprise not available"))}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Google Captcha failed to load or execute",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getToken:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=window)&&void 0!==n&&null!==(n=n.grecaptcha)&&void 0!==n&&n.enterprise){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,grecaptcha.enterprise.execute("6LfuV2wqAAAAAJ83QW1gae0CmT7GrgzzecQbFpJ5",{action:"LOGIN"});case 5:t.captchaToken=e.sent,console.log("getToken captchaToken"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error executing recaptcha:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},updateCaptcha:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=window)||void 0===n||!n.grecaptcha||null===(o=window)||void 0===o||null===(o=o.grecaptcha)||void 0===o||!o.enterprise){e.next=5;break}return e.next=3,t.getToken();case 3:e.next=16;break;case 5:return e.prev=5,e.next=8,t.loadCaptcha();case 8:return e.next=10,t.getToken();case 10:console.log("captchaToken",t.captchaToken),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("Google Captcha failed to load or execute",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))()}}),beforeDestroy:function(){this.resendCodeIntervalId&&(clearInterval(this.resendCodeIntervalId),this.resendCodeIntervalId=null)}},y=(n(4464),n(0)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"phone-login"},[e("el-form",{ref:"loginForm",attrs:{model:t.loginForm,"label-position":"top",rules:t.loginFormRules,"hide-required-asterisk":!0}},[e("el-form-item",{attrs:{label:t.$t("phone"),prop:"phone"}},[e("el-input",{ref:"phoneInput",attrs:{type:"tel",placeholder:t.$t("PhonePls"),maxlength:"11",clearable:""},model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone","string"==typeof e?e.trim():e)},expression:"loginForm.phone"}},[e("template",{slot:"prepend"},[t._v(" +86 ")])],2)],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("VerifiCode"),prop:"verifiCode"}},[e("el-input",{attrs:{placeholder:t.$t("VerifiCodePls"),maxlength:"8",clearable:""},model:{value:t.loginForm.verifiCode,callback:function(e){t.$set(t.loginForm,"verifiCode","string"==typeof e?e.trim():e)},expression:"loginForm.verifiCode"}},[e("template",{slot:"append"},[e("el-button",{staticClass:"append-time-btn",class:{able:t.phoneValid},attrs:{type:"text",disabled:t.countdown>0},on:{click:t.handleSendCode}},[t._v(t._s(t.countdown>0?"".concat(t.countdown,"s"):t.$t("VerifiCodeGet")))])],1)],2)],1),t._v(" "),e("el-form-item",{staticClass:"invite-form-item",class:{open:t.showInviteCode},attrs:{prop:"updateUcode"}},[e("template",{slot:"label"},[e("div",{staticClass:"invite-label flex justify-between items-center"},[e("span",{staticClass:"label-text",on:{click:function(e){t.showInviteCode=!t.showInviteCode}}},[t._v(t._s(t.$t("login_inviteCode_pls")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down",on:{click:function(e){t.showInviteCode=!t.showInviteCode}}})])]),t._v(" "),e("el-input",{attrs:{type:"text",placeholder:t.$t("login_inviteCode_pls"),maxlength:"8",clearable:""},on:{input:t.inputUCode},model:{value:t.loginForm.updateUcode,callback:function(e){t.$set(t.loginForm,"updateUcode","string"==typeof e?e.trim():e)},expression:"loginForm.updateUcode"}})],2),t._v(" "),e("el-row",{staticClass:"m-b-20",attrs:{type:"flex",justify:"space-between"}})],1),t._v(" "),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between","align-items":"center"}},[e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:t.handleLogin}},[t._v(t._s(t.$t("Login"))+"/"+t._s(t.$t("Register")))])],1)],1)}),[],!1,null,"1f3c7c08",null);e.default=component.exports},3346:function(t,e,n){"use strict";n.r(e);n(26);var o={props:{sendEmailValue:{type:String,default:""}},data:function(){return{resendEmailTimer:2,resendEmailIntervalId:null}},mounted:function(){},methods:{handleResendEmail:function(){var t=this;this.resendEmailTimer=2,this.resendEmailIntervalId=setInterval((function(){t.resendEmailTimer<=0?clearInterval(t.resendEmailIntervalId):t.resendEmailTimer--}),1e3)},sendEmail:function(){this.$emit("send-email")}},destroyed:function(){clearInterval(this.resendEmailIntervalId)}},r=(n(4465),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center send-email-content"},[e("div",{staticStyle:{color:"#cbd5e1","font-size":"14px","text-align":"left","margin-bottom":"8px"}},[t._v(t._s(t.$t("Email")))]),t._v(" "),e("el-input",{attrs:{disabled:"",value:t.sendEmailValue}}),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"#8791a6",margin:"10px auto 60px"}},[t._v("\n    "+t._s(t.$t("AEmailHBSTTEA"))+", "+t._s(t.$t("pleaseGTV"))+"\n  ")]),t._v(" "),e("div",{staticClass:"text-gray",staticStyle:{width:"100%"}},[t._v("\n    "+t._s(t.$t("EmailNR"))+"\n    "),e("el-button",{attrs:{type:"text"},on:{click:t.sendEmail}},[t._v(t._s(t.$t("SendAgain")))])],1)],1)}),[],!1,null,"5ad064f1",null);e.default=component.exports},3347:function(t,e,n){"use strict";n.r(e);n(92),n(28),n(44);var o=n(27),r=n(48),l=n(178),c={name:"RegisterInput",computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,n=this.$i18n.locale?this.$i18n.locale:"en";return Object(l.a)(n,e,this.$isChinaSite)}}},data:function(){var t=this;return{registerForm:{email:"",password:"",UserAgreement:!1,updateUcode:""},tempCode:"",regFormRules:{email:[{required:!0,message:this.$t("PleaseEAEA"),trigger:"blur"},{type:"email",message:this.$t("PleaseETCEA"),trigger:["blur","change"]}],password:[{required:!0,message:this.$t("PleaseIAP"),trigger:"blur"},{min:8,max:20,message:this.$t("PasswordLMBB"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("PasswordANATCS"),trigger:"blur"},{pattern:/^(?=.*[A-Z]).+$/,message:this.$t("PasswordUpper"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"密码不能包含汉字",trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,n,o){n?o():o(new Error(t.$t("PleaseTTOSAPP")))}}],updateUcode:[{pattern:/^([0-9a-zA-Z]{6,8})?$/,message:this.$t("login_inviteCode_rule"),trigger:"blur"}]}}},mounted:function(){this.registerForm.updateUcode=Object(r.r)()||"",this.tempCode=Object(r.r)()||""},methods:{handleRegisterSendEmail:function(){var t=this;this.$refs.registerForm.validate((function(e){if(e){var n=t.registerForm.email,param={email:n,password:t.registerForm.password};Object(o.xb)({email:n}).then((function(e){var code=e.status.code,n=e.data?e.data.status:0;20001===code||3===n?t.$emit("go-to",{pagename:"send-email",type:"register",param:param}):1===n?t.$message.error(t.$t("EmailRegistered")):2===n&&t.$message.error(t.$t("AccountDisabled"))}))}}))},inputUCode:function(){var t=this.registerForm.updateUcode;this.registerForm.updateUcode=t.replace(/[^0-9a-zA-Z]/g,""),t.length<=6&&t.toUpperCase()!==this.tempCode.toUpperCase()?this.$emit("update-code",t):0===t.length&&""!==this.tempCode&&this.$emit("update-code",this.tempCode)}}},d=(n(4466),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"register-input-content"},[e("el-form",{ref:"registerForm",attrs:{model:t.registerForm,"label-position":"top",rules:t.regFormRules,"hide-required-asterisk":!0},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:t.$t("Email"),prop:"email"}},[e("el-input",{attrs:{placeholder:t.$t("PleaseEAEA"),maxlength:"64"},model:{value:t.registerForm.email,callback:function(e){t.$set(t.registerForm,"email","string"==typeof e?e.trim():e)},expression:"registerForm.email"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Password"),prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:t.$t("PleaseIAP"),maxlength:"20","show-password":""},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password","string"==typeof e?e.trim():e)},expression:"registerForm.password"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("login_inviteCode"),prop:"updateUcode"}},[e("el-input",{attrs:{type:"text",placeholder:t.$t("login_inviteCode_pls"),maxlength:"8",clearable:""},on:{input:t.inputUCode},model:{value:t.registerForm.updateUcode,callback:function(e){t.$set(t.registerForm,"updateUcode","string"==typeof e?e.trim():e)},expression:"registerForm.updateUcode"}})],1),t._v(" "),e("div",{staticClass:"m-b-20"},[e("el-form-item",{attrs:{prop:"UserAgreement"}},[e("el-checkbox",{attrs:{"label-disabled":""},model:{value:t.registerForm.UserAgreement,callback:function(e){t.$set(t.registerForm,"UserAgreement",e)},expression:"registerForm.UserAgreement"}},[e("div",{staticClass:"flex flex-wrap"},[e("span",{staticStyle:{"white-space":"normal","word-break":"break-word"}},[t._v(t._s(t.$t("ByRYATTP")))]),t._v(" "),e("a",{staticStyle:{color:"#2982ff"},attrs:{target:"“_blank”",href:t.getDynamicHref("Terms")}},[t._v(t._s(t.$t("Terms"))+" |")]),t._v(" "),e("a",{staticStyle:{color:"#2982ff"},attrs:{target:"“_blank”",href:t.getDynamicHref("Privacy")}},[t._v(t._s(t.$t("Privacy")))])])])],1)],1)],1),t._v(" "),e("div",{staticClass:"login-actions"},[e("el-button",{staticClass:"my-btn",on:{click:t.handleRegisterSendEmail}},[t._v(t._s(t.$t("SignUpWithEml"))+"\n      ")]),t._v(" "),e("div",{staticClass:"text-gray",staticStyle:{width:"100%"}},[t._v("\n      "+t._s(t.$t("AlreadyHAA"))+"\n      "),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$emit("go-to",{pagename:"login-types"})}}},[t._v(t._s(t.$t("LogIn")))])],1)],1)],1)}),[],!1,null,"ba0cfa94",null);e.default=component.exports},3348:function(t,e,n){"use strict";n.r(e);n(6),n(22),n(4),n(92),n(11),n(12),n(13),n(8),n(7);var o=n(2),r=(n(19),n(16),n(18),n(28),n(151),n(1)),l=n(27),c=n(125),d=n.n(c),h=n(178);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"SetPassword",props:{sendEmailType:String,accountNum:{type:String,default:""},token:{required:!0,type:String,default:""}},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,n=this.$i18n.locale?this.$i18n.locale:"en";return Object(h.a)(n,e,this.$isChinaSite)}}},watch:{accountNum:{handler:function(t){this.setPasswordForm.username=t},immediate:!0}},data:function(){var t=this;return{authStep:2,selectedYear:"",selectedMonth:"",selectedDay:"",years:[],months:[],days:[],dateTime:"",setPasswordForm:{username:"",password:"",confirmPassword:"",UserAgreement:!1},rules:{password:[{required:!0,message:this.$t("PleaseIAP"),trigger:"blur"},{min:8,max:20,message:this.$t("PasswordLMBB"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("PasswordANATCS"),trigger:"blur"},{pattern:/^(?=.*[A-Z]).+$/,message:this.$t("PasswordUpper"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"密码不能包含汉字",trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("PleaseETPA"),trigger:"blur"},{validator:this.validateConfirmPassword,trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,n,o){n?o():o(new Error(t.$t("PleaseTTOSAPP")))}}]}}},mounted:function(){this.setupYears(),this.setupMonths(),this.setupDays(),this.setDateTime(),console.log("sendEmailType","--",this.sendEmailType)},methods:m(m(m({},Object(r.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser"])),Object(r.b)("payment",["getPaymentInfo"])),{},{handleSetPassword:function(){var t=this;1===this.authStep&&"register"===this.sendEmailType?d()().valueOf()-this.dateTime>567648e6?(this.authStep=2,this.$emit("auth-step")):this.$message.error(this.$t("ThisFINATUUTAO")):this.$refs.setPasswordForm.validate((function(e){if(e)if("register"===t.sendEmailType)t.setPasswordForm.password,t.token,t.formatDate(t.dateTime);else if("forget"===t.sendEmailType){var n={password:t.setPasswordForm.password,token:t.token};Object(l.vb)(n).then((function(e){var n=(null==e?void 0:e.status).code,code=void 0===n?0:n;if([20002,20003].includes(code))t.$message.error(t.$t("ResetLinkExpired")),window.location.search="",t.$emit("go-to",{pagename:"email-login"});else if(1e4===code){var o,r=null==e||null===(o=e.data)||void 0===o?void 0:o.account,l=(r.id,r.name,r.email),c=r.create_at,d=r.status,h=r.device_code;if(2===d)return t.$message.error(t.$t("AccountDisabled")),void t.$emit("go-to",{pagename:"email-login"});if(h&&t.$cookies.set("deviceId",h),1===d||0===d){var f,v;t.updateIsNewUser("1"),t.$message.success(t.$t("ResetSuccess"));var _=null==e||null===(f=e.data)||void 0===f?void 0:f.token,y=null==e||null===(v=e.data)||void 0===v||null===(v=v.account)||void 0===v?void 0:v.device_code;y&&t.$cookies.set("deviceId",y),_&&t.$cookies.set("T",_,{maxAge:5184e3,path:"/"}),t.setUserInfo(m({},null==e?void 0:e.data)),t.$logEvent("log_login_accounts",{source:"",mail:l,reg_at:c}),t.$emit("close"),t.$router.push("/home")}else 3===d&&(t.setTempToken(data.token),t.setName(data.account.name),t.step="final-step")}else t.$message.error(t.$t("ServerError"))})).catch((function(t){}))}}))},validateConfirmPassword:function(t,e,n){e!==this.setPasswordForm.password?n(new Error(this.$t("EnterPswDis"))):n()},setupYears:function(){for(var t=d()(),i=t.year()-100;i<=t.year();i++)this.years.push(i);this.selectedYear=t.year()},setupMonths:function(){for(var i=1;i<=12;i++)this.months.push(i);this.selectedMonth=d()().month()+1},setupDays:function(){for(var t=d()("".concat(this.selectedYear,"-").concat(this.selectedMonth),"YYYY-M").daysInMonth(),i=1;i<=t;i++)this.days.push(i);this.selectedDay=d()().date()},updateDays:function(){this.days=[];for(var t=d()("".concat(this.selectedYear,"-").concat(this.selectedMonth),"YYYY-M").daysInMonth(),i=1;i<=t;i++)this.days.push(i);this.selectedDay>t&&(this.selectedDay=t),this.setDateTime()},setDateTime:function(){var t=this.selectedYear,e=this.selectedMonth<10?"0".concat(this.selectedMonth):this.selectedMonth,n=this.selectedDay<10?"0".concat(this.selectedDay):this.selectedDay,o="".concat(t,"-").concat(e,"-").concat(n);this.dateTime=d()(o).valueOf()},formatDate:function(t){return d()(t).format("YYYY-MM-DD")}})},_=(n(4467),n(0)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"send-email-content"},[1===t.authStep&&"register"===t.sendEmailType?e("div",[e("div",{staticStyle:{color:"#cbd5e1","font-size":"14px","text-align":"left","margin-bottom":"8px"}},[t._v("\n      "+t._s(t.$t("Authentication"))+"\n    ")]),t._v(" "),e("el-row",{staticClass:"selects",attrs:{type:"flex",gutter:5}},[e("el-col",{attrs:{span:8}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear,expression:"selectedYear"}],staticClass:"my-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedYear=e.target.multiple?n:n[0]},t.updateDays]}},t._l(t.years,(function(n){return e("option",{key:n,domProps:{value:n}},[t._v(t._s(n))])})),0)]),t._v(" "),e("el-col",{attrs:{span:8}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],staticClass:"my-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedMonth=e.target.multiple?n:n[0]},t.updateDays]}},t._l(t.months,(function(n){return e("option",{key:n,domProps:{value:n}},[t._v(t._s(n))])})),0)]),t._v(" "),e("el-col",{attrs:{span:8}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay,expression:"selectedDay"}],staticClass:"my-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedDay=e.target.multiple?n:n[0]},t.setDateTime]}},t._l(t.days,(function(n){return e("option",{key:n,domProps:{value:n}},[t._v(t._s(n))])})),0)])],1),t._v(" "),e("div",{staticStyle:{color:"#747f91","font-size":"12px","text-align":"left","margin-top":"4px"}},[t._v(t._s(t.$t("PleaseCYB")))])],1):t._e(),t._v(" "),2===t.authStep||"forget"===t.sendEmailType?e("el-form",{ref:"setPasswordForm",staticStyle:{"margin-bottom":"20px"},attrs:{model:t.setPasswordForm,"label-position":"top",rules:t.rules,"hide-required-asterisk":!0}},["register"===t.sendEmailType?e("el-form-item",{attrs:{label:t.$t("UserName"),prop:"username"}},[e("el-input",{attrs:{type:"text",disabled:""},model:{value:t.setPasswordForm.username,callback:function(e){t.$set(t.setPasswordForm,"username","string"==typeof e?e.trim():e)},expression:"setPasswordForm.username"}})],1):t._e(),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Password"),prop:"password"}},[e("el-input",{attrs:{type:"password",maxlength:"20","show-password":""},model:{value:t.setPasswordForm.password,callback:function(e){t.$set(t.setPasswordForm,"password","string"==typeof e?e.trim():e)},expression:"setPasswordForm.password"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("PasswordAgain"),prop:"confirmPassword"}},[e("el-input",{attrs:{type:"password",maxlength:"20","show-password":""},model:{value:t.setPasswordForm.confirmPassword,callback:function(e){t.$set(t.setPasswordForm,"confirmPassword","string"==typeof e?e.trim():e)},expression:"setPasswordForm.confirmPassword"}})],1),t._v(" "),"register"===t.sendEmailType?e("el-form-item",{attrs:{prop:"UserAgreement"}},[e("el-checkbox",{attrs:{"label-disabled":""},model:{value:t.setPasswordForm.UserAgreement,callback:function(e){t.$set(t.setPasswordForm,"UserAgreement",e)},expression:"setPasswordForm.UserAgreement"}},[e("div",{staticClass:"flex flex-wrap"},[e("span",{staticStyle:{"white-space":"normal","word-break":"break-word"}},[t._v(t._s(t.$t("ByRYATTP")))]),t._v(" "),e("a",{staticStyle:{color:"#2982ff"},attrs:{target:"“_blank”",href:t.getDynamicHref("Terms")}},[t._v(t._s(t.$t("Terms"))+" | ")]),t._v(" "),e("a",{staticStyle:{color:"#2982ff"},attrs:{target:"“_blank”",href:t.getDynamicHref("Privacy")}},[t._v(t._s(t.$t("Privacy")))])])])],1):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"login-actions"},[e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:t.handleSetPassword}},[t._v(t._s(t.$t("Submit")))])],1)],1)}),[],!1,null,"281ce412",null);e.default=component.exports},3349:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(12),n(13);var o=n(14),r=n(3),l=n(2),c=(n(20),n(6),n(32),n(16),n(22),n(8),n(4),n(21),n(90),n(7),n(27)),d=n(1),h=n(106),f=n(48),m=n(10),v=n(153);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"TagView",props:{redirect:{type:String,default:""}},data:function(){return{replaceImageType:m.K,inviteType:"",tagLoading:!1,formData:{name:this.name||"",tags:[],language:"en"},rules:{name:[{required:!0,pattern:/^[^~!@$%^&*()_+]+$/,message:this.$t("UserNameRule"),trigger:"blur"}]},tags:[],officialTagsLocal:[],collectTagsLocal:[],mytags:[],codeMap:{10405:"code_10405",10407:"code_10407",10408:"code_10408",20302:"UserNameRepeat"},inActive:!1,showBgImg:!1}},computed:y(y(y({},Object(d.c)("user",["officialTags"])),Object(d.e)("user",["tempToken","name","token"])),{},{zhLang:function(){return this.$i18n.locale.startsWith("zh")}}),mounted:function(){var t=this;(this.token||this.tempToken)&&this.getHotTag(),this.token||this.tempToken?(this.formData.name=this.name||JSON.parse(localStorage.getItem("userInfo")).name||"",this.inviteType=localStorage.getItem("inviteType")):(console.error("no token, unable to active account"),this.$emit("go-to",{pagename:"login-types"}),this.$router.push({path:"/home"})),this.$nextTick((function(){var e,n=(null===(e=t.$refs)||void 0===e||null===(e=e.tagViewContent)||void 0===e||null===(e=e.$el)||void 0===e?void 0:e.clientHeight)||700;console.log("height",n),t.showBgImg=n>620}))},methods:y(y(y({},Object(d.b)("user",["setUserInfo","getOfficialTags","getAccountInfo"])),Object(d.b)("payment",["getPaymentInfo"])),{},{getHotTag:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tagLoading=!0,e.prev=1,e.next=4,t.getOfficialTags();case 4:t.tagLoading=!1,t.officialTagsLocal=t.officialTags||[],t.officialTagsLocal.length&&t.officialTagsLocal.forEach((function(t){t.selected=!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.tagLoading=!1,console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},selectTag:function(t,e){this.collectTagsLocal.length>20&&!t.selected?this.$message.warning(this.$t("error_code_40312")):(t.selected=!t.selected,t.selected?this.collectAdd(t):this.collectRemove(t),this.$set(this.officialTagsLocal,e,t))},handleClick:function(){var t=this;this.$refs.formData.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.formData.tags=Object(o.a)(t.collectTagsLocal),console.log("this.formData",t.formData),t.submit(y({},t.formData))}))},submit:function(t){var e=this;if(!this.inActive){this.inActive=!0;var n=t.name,o=t.tags.map((function(t){return{id:t.id,name:t.name}})),param={token:this.tempToken||this.token,lang:this.$i18n.locale,tags:o,name:n};Object(c.a)(param).then((function(t){var n,code=null==t||null===(n=t.status)||void 0===n?void 0:n.code;if(Object.keys(e.codeMap).includes(String(code)))e.$message.warning(e.$t(e.codeMap[String(code)]));else if(1e4===code){var o=t.data.account,r=o.email,l=o.create_at;Object(f.v)();try{Object(v.c)(t.data.account)}catch(t){console.log("error",t)}e.$cookies.set("T",t.data.token,{maxAge:5184e3,path:"/"}),e.setUserInfo(y({},t.data)),e.getAccountInfo(),e.$logEvent("web_complete_registration"),e.$logEvent("log_registers",{source:localStorage.getItem("inviteCode"),mail:r,reg_at:l}),e.$logEvent("log_login_accounts",{source:localStorage.getItem("inviteCode"),mail:r,reg_at:l}),Object(h.c)(),e.getPaymentInfo(),localStorage.getItem("newUserSubscriptionInfo")?e.$EventBus.$emit("showDialog",{name:"TransferInPageDialog",data:{isNewUser:!0}}):e.$EventBus.$emit("showActivationDialog"),e.gotoPath(),e.$emit("close")}else console.error("激活异常"),e.gotoPath(),e.$emit("go-to",{pagename:"login-types"})})).finally((function(){e.inActive=!1}));try{localStorage.removeItem("inviteType")}catch(t){}}},gotoPath:function(){"/"!==this.redirect&&this.redirect?this.$router.push(this.redirect):this.$EventBus.$emit("updateHomeTag")},collectAdd:function(t){this.collectTagsLocal.find((function(e){return e.id===t.id}))||this.collectTagsLocal.push(t)},collectRemove:function(t){this.collectTagsLocal=this.collectTagsLocal.filter((function(e){return e.id!==t.id})),this.officialTagsLocal.forEach((function(e){e.id===t.id&&(e.selected=!1)}))},handleImgError:function(img){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sysTagImg";console.log("imgError",img,img.cover);var e=t+img.id;this.$refs[e].src=img.cover}})},C=w,x=(n(4468),n(0)),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.tagLoading,expression:"tagLoading"}],ref:"tagViewContent",staticClass:"tag-view-content",attrs:{gutter:15}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showBgImg,expression:"showBgImg"}],staticClass:"top-background"},[e("img",{staticClass:"background-image",attrs:{src:n(1481),alt:"background"}})]),t._v(" "),e("div",{staticClass:"introduce"},[e("div",{staticClass:"top-start"},[t._v(t._s(t.$t("getStarted")))]),t._v(" "),e("div",{staticClass:"bottom-info"},[t._v(t._s(t.$t("comoleteInformation")))])]),t._v(" "),e("el-form",{ref:"formData",staticClass:"tagView-form",attrs:{model:t.formData,rules:t.rules,size:"medium","label-width":"100px","label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:t.$t("Nickname"),prop:"name"}},[e("el-input",{attrs:{placeholder:t.$t("EnterNickname"),maxlength:"64"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),e("el-col",{staticStyle:{"margin-top":"25px"},attrs:{span:24}},[e("el-form-item",{attrs:{label:t.$t("InterestTag"),prop:"field103"}},[e("div",{staticClass:"flex flex-wrap interestTag-wrap"},t._l(t.officialTagsLocal,(function(n,i){return e("el-button",{key:"_tag".concat(i),staticClass:"tag-btn select-btn flex items-center inline-flex",class:{"zh-width":t.zhLang,selected:n.selected},attrs:{round:"",size:"mini"},on:{click:function(e){return t.selectTag(n,i)}}},[e("div",{staticClass:"content flex items-center"},[e("div",{staticClass:"tag-img"},[n.cover?e("img",{ref:"sysTagImg".concat(n.id),refInFor:!0,staticClass:"tag-img",attrs:{src:t.replaceImageType(n.cover,"low")},on:{error:function(e){return t.handleImgError(n,"sysTagImg")}}}):t._e()]),t._v(" "),e("span",{attrs:{title:t.$t(n.name)}},[t._v(t._s(t.$t(n.name)))])])])})),1)])],1),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.inActive,expression:"inActive"}],staticClass:"my-btn",attrs:{type:"primary"},on:{click:t.handleClick}},[t._v(t._s(t.$t("StartUseSeeart")))])],1)],1)],1)}),[],!1,null,"3dfdd7dc",null);e.default=component.exports},3350:function(t,e,n){"use strict";n.r(e);var o=n(178),r={data:function(){return{}},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,n=this.$i18n.locale?this.$i18n.locale:"en";return Object(o.a)(n,e,this.$isChinaSite)}}}},l=(n(4471),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("el-row",{staticClass:"m-b-20",attrs:{type:"flex",justify:"space-between"}},[e("el-col",[e("span",{staticClass:"txt"},[t._v(t._s(t.$t("registerTxt")))]),t._v(" "),e("a",{staticClass:"color",attrs:{target:"“_blank”",href:t.getDynamicHref("Terms")}},[t._v("\n        "+t._s("《"+t.$t("term")+"》")+"\n      ")]),t._v(" "),e("span",{staticClass:"color"},[t._v("|")]),t._v(" "),e("a",{staticClass:"color",attrs:{target:"“_blank”",href:t.getDynamicHref("Privacy")}},[t._v("\n        "+t._s("《"+t.$t("agreement")+"》")+"\n      ")])])],1)],1)}),[],!1,null,"d6fdf936",null);e.default=component.exports},3398:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(32),n(16),n(18),n(24),n(4),n(21);var o=n(180),r=n(52),l=n(9),c={components:{SwipeableList:r.default,HyPlateTitle:o.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},data:function(){return{}},computed:{tagHref:function(){var t=this;return function(e){var path=t.getTagType();return t.localePath("/tagInfo"+path+"/"+(null==e?void 0:e.id))}},cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n}},methods:{getTagType:function(){var t=this.$route,e=t.name,n=t.params,o=void 0===n?{}:n,r=e.split("___")[0],c=(null==o?void 0:o.ptype)||r,d=l.D.find((function(t){return c="TagDetail"===r?null==o?void 0:o.type:c,t.name.includes(c)}));return(null==d?void 0:d.path)||""},selectTags:function(t){this.$emit("onChange",{path:this.tagHref(t)})}}},d=(n(5535),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"40px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(n,o){var r;return e("a",{key:(n.id||"-")+o,staticClass:"tags-item-new1",style:{backgroundImage:"url(".concat(null==n||null===(r=n.cover)||void 0===r?void 0:r.url,")")},attrs:{href:t.tagHref(n),target:"_blank","data-event":"module-box-click","data-id":n.id,"data-pt":n.pt,"data-type":n.obj_type,"data-index":o,"data-mindex":t.indexes},on:{click:function(e){return e.preventDefault(),t.selectTags(n)}}},[e("div",{staticClass:"tag-text flex_c_m"},[t._v(t._s(t.$t(n.title)))])])})),0)],1)],1)}),[],!1,null,"a6c0f952",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3399:function(t,e,n){"use strict";n.r(e);n(152),n(11),n(12),n(13),n(8),n(7);var o=n(2),r=(n(19),n(199),n(6),n(16),n(24),n(4),n(1)),l=n(9),c=n(52),d=n(180),h=n(108),f=n(251);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={components:{SwipeableList:c.default,HyPlateTitle:d.default,HyColorfulBorder:h.default,FlagItem:f.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},data:function(){return{}},computed:v(v(v({},Object(r.c)("user",["cdnHostFun"])),Object(r.c)("user",["isCompanyAccount"])),{},{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n},cardList:function(){var t=[{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-video-generator")),title:"ai_video_generation",subTitle:"ai_video_generation_desc",type:"ai_video_generation",dataLoggingName:"ai_video_generation",path:"ai-video-generator"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-face-swap")),title:"ai_face_changing",subTitle:"ai_face_changing_desc",type:"ai_face_changing",dataLoggingName:"ai_face_changing",path:"ai-face-swap"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-filter")),title:"ai_tools_4",subTitle:"ai_tools_8",type:"ai_filter",dataLoggingName:"ai_filters",path:"ai-filter"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-dance")),title:"ai_dance_fitting_title",subTitle:"ai_dance_fitting_desc",type:"aiDance",path:"ai-dance"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-model-fitting")),title:"ai_model_fitting_title",subTitle:"ai_model_fitting_desc",type:"aiModelFitting",path:"ai-model-fitting"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("remove-background")),title:"ai_tools_2",subTitle:"ai_tools_6",type:"remove_background",dataLoggingName:"remove_background",path:"remove-background"},{source1:"",cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai_erase")),title:"ai_erase",subTitle:"ai_erase_tip",type:"ai_erase",dataLoggingName:"",path:"ai_erase"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("image-upscaler")),title:"upsacler_3_H1",subTitle:"upsacler_4_H1_value",type:"hd_restoration",dataLoggingName:"hd_restoration",path:"image-upscaler"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-makeup")),title:"ai_makeup",subTitle:"ai_makeup_desc",type:"ai-makeup",dataLoggingName:"ai-makeup",path:"ai-makeup"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-portrait")),title:"ai_tools_10",subTitle:"ai_tools_11",type:"ai_photography",dataLoggingName:"ai_photography",path:"ai-portrait"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("scribble2img")),title:"ai_tools_3",subTitle:"ai_tools_7",type:"character_fixes",dataLoggingName:"from_sketch_to_artwork",path:"scribble2img"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.W)("ai-comic")),title:"ai_comic_fitting_title",subTitle:"ai_comic_fitting_desc",type:"aiComic",path:"ai-comic"}];return this.isCompanyAccount?t.filter((function(t){return!["ai_photography"].includes(t.type)})):t},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}}),methods:{goCardDetail:function(t){var path=this.localePath("/ai-tools/".concat(t.id));this.$router.push(path)}}},y=(n(5537),n(0)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tools-item-box"},[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"143px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"0px",areaPtop:8,areaPbot:8,list:t.cardRunderList}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(n,o){var r,l;return e("HyColorfulBorder",{key:(n.id||"-")+o,attrs:{showBorder:n.edging,borderColor:t.borderColor}},[e("a",{staticClass:"aicard-item flex",attrs:{href:t.localePath("/ai-tools/".concat(n.id)),"data-event":"module-box-click","data-id":n.id,"data-pt":n.pt,"data-type":n.obj_type,"data-index":o,"data-mindex":t.indexes},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goCardDetail(n)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"flex_t"},[e("FlagItem",{directives:[{name:"show",rawName:"v-show",value:n.corner_mark,expression:"item.corner_mark"}],attrs:{type:n.corner_mark}}),t._v(" "),e("p",{staticClass:"title"},[t._v(t._s(t.$t(n.title)))])],1),t._v(" "),e("p",{staticClass:"dosc"},[t._v(t._s(t.$t(n.sub_title)))])]),t._v(" "),e("div",{staticClass:"right"},[null!=n&&null!==(r=n.cover)&&void 0!==r&&r.url?e("img",{staticClass:"coverimg",attrs:{src:null==n||null===(l=n.cover)||void 0===l?void 0:l.url}}):t._e()])])])})),1)],1)],1)}),[],!1,null,"236ec3a6",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3400:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(24);var o=n(52),r=n(180),l=n(3401),c=n(410),d={components:{SwipeableList:o.default,HyPlateTitle:r.default,BlockCard:l.default,HyFitterListBox:c.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n}},data:function(){return{}}},h=n(0),component=Object(h.a)(d,(function(){var t,e,n,o=this,r=o._self._c;return r("div",{staticClass:"hy-block-list"},[r("HyPlateTitle",{attrs:{item:o.temp,leftName:o.temp.title,link:o.temp.link,indexes:o.indexes}}),o._v(" "),r("div",{style:{minHeight:"200px"}},[null!==(t=o.temp)&&void 0!==t&&t.wrap?o._e():[r("swipeable-list",o._b({attrs:{listGap:"16px",top:"0px",listAlignItems:"flex-start",areaPtop:8,areaPbot:8,list:o.cardRunderList}},"swipeable-list",o.$attrs,!1),o._l(o.cardRunderList,(function(t,e){return r("BlockCard",{key:(t.id||"-")+e,attrs:{item:t,maxHomeData:o.maxHomeData,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)],o._v(" "),null!==(e=o.temp)&&void 0!==e&&e.wrap?[r("HyFitterListBox",{attrs:{rowsH:230,rows:null===(n=o.temp)||void 0===n?void 0:n.width,colsW:200}},o._l(o.cardRunderList,(function(t,e){return r("BlockCard",{key:(t.id||"-")+e,attrs:{item:t,maxHomeData:o.maxHomeData,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)]:o._e()],2)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3401:function(t,e,n){"use strict";n.r(e);n(19),n(16),n(8);var o=n(252),r=n(405),l=n(108),c=n(251),d=n(155),h=n(93),f={provide:function(){return{CardApp:this}},components:{ImageItem:o.default,LeftUpMark:r.default,HyColorfulBorder:l.default,FlagItem:c.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{isWorkflow:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=["1",1,"2",2].includes(n);return 13===e&&o},isAiApp:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=[3,"3",4,"4"].includes(n);return 13===e&&o},isModel:function(){var t=this.item,e=t.obj_type,n=t.channel,o=![1,"1"].includes(n);return 2===e&&o},isLoraTrain:function(){var t=this.item,e=t.obj_type,n=t.channel,o=[1,"1"].includes(n);return 2===e&&o},cardLink:function(){var t=this.item,e=t.obj_type,n=t.id,o=t.sub_channel,r={1:"/explore/detail/".concat(n),2:"/models/detail/".concat(n),5:"/video/".concat(n),6:"/tagInfo/".concat(n),9:"/aiChat/".concat(n),14:"/workFlowAppDetail/".concat(n),15:"/ai-video/detail/".concat(n),11:"/editBoard/detail/".concat(n),16:"/ai-audio/detail/".concat(n),60:"/ai-tools/".concat(n)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(n)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(n)):4===e&&"article"===o?this.localePath("/articleDetail/".concat(n)):4===e&&"picture"===o?this.localePath("/artWorkDetail/".concat(n)):this.localePath(r[e]||"/")},renderTitle:function(){var t=this.item.title||this.item.sub_title||"";return 9===this.item.obj_type&&(t=Object(h.i)(this,this.item)),6===this.item.obj_type&&t&&(t="#"+t),t},renderStyle:function(){return 6===this.item.obj_type?{fontWeight:600}:{}},getPosition:function(){var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(d.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}},methods:{goCardDetail:function(){if(!(0===Object.keys(this.maxHomeData).length)){var t,e,n,o=this.maxHomeData.homeData,r=this.logData,l=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,c=Object(d.getMenuIndex)({list:l,id:o.id}),h="home,".concat(o.id,",").concat(o.title,",").concat(c,",").concat(r.id,",").concat(r.title,",").concat(null!==(e=r.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(n=this.item)||void 0===n?void 0:n.pt)||""})}this.$emit("onView",this.item),this.$router.push(this.cardLink)}}},m=(n(5538),n(0)),component=Object(m.a)(f,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"block-box",attrs:{"data-id":null===(t=n.item)||void 0===t?void 0:t.id,"data-type":null===(e=n.item)||void 0===e?void 0:e.obj_type}},[o("a",{staticClass:"block-item banalink",attrs:{href:n.cardLink,target:"_blank","data-event":"module-box-click","data-id":n.item.id,"data-pt":n.item.pt,"data-type":n.item.obj_type,"data-index":n.logData.index,"data-position":n.getPosition,"data-mindex":n.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.goCardDetail.apply(null,arguments)}}},[o("HyColorfulBorder",{attrs:{showBorder:n.item.edging,borderColor:n.borderColor}},[o("div",{staticClass:"content-box"},[o("ImageItem",{attrs:{item:n.item}}),n._v(" "),o("div",{staticClass:"left-marker flex_c_m"},[o("LeftUpMark",{attrs:{item:n.item}})],1)],1)]),n._v(" "),n.renderTitle?o("div",{staticClass:"border-info flex_m"},[o("FlagItem",{directives:[{name:"show",rawName:"v-show",value:n.item.corner_mark,expression:"item.corner_mark"}],attrs:{type:n.item.corner_mark}}),n._v(" "),o("p",{staticClass:"text-info line-one",style:n.renderStyle},[n._v(n._s(n.renderTitle))])],1):n._e()],1)])}),[],!1,null,"6a5ea60c",null);e.default=component.exports},3402:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(24);var o=n(52),r=n(180),l=n(3403),c={components:{SwipeableList:o.default,HyPlateTitle:r.default,EffectsCard:l.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n}},data:function(){return{}}},d=n(0),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"200px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"0px",areaPtop:8,areaPbot:8,list:t.cardRunderList}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(n,o){return e("EffectsCard",{key:(n.id||"-")+o,attrs:{item:n,maxHomeData:t.maxHomeData,logData:{id:t.temp.id,title:t.temp.title,index:o,mIndex:t.indexes}}})})),1)],1)],1)}),[],!1,null,"7d1fa4eb",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3403:function(t,e,n){"use strict";n.r(e);n(19);var o=n(252),r=n(108),l=n(251),c=n(155),d={provide:function(){return{CardApp:this}},components:{ImageItem:o.default,HyColorfulBorder:r.default,FlagItem:l.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{cardLink:function(){return this.localePath("/ai-tools/ai-video-generator?m=Effect")},getPosition:function(){var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(c.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}},methods:{handTask:function(){var t=this.item,e=t.sub_obj_type,n=t.id;Object.assign({},this.item).taskSource=4,this.$EventBus.$emit("openGenerate",{action:6===e?24:1,data:{portalParams:{targetTab:"effect",id:n}},taskVersion:this.isVideo?"v2":""}),this.$logEvent("log_actions",{operation:"click_special_effect",behavior_info:"on_homepage",behavior_info_sub:n})}}},h=(n(5540),n(0)),component=Object(h.a)(d,(function(){var t,e,n=this,o=n._self._c;return o("div",{staticClass:"block-box",attrs:{"data-id":null===(t=n.item)||void 0===t?void 0:t.id,"data-type":null===(e=n.item)||void 0===e?void 0:e.obj_type}},[o("a",{staticClass:"block-item banalink",attrs:{href:n.cardLink,target:"_blank","data-event":"module-box-click","data-id":n.item.id,"data-pt":n.item.pt,"data-type":n.item.obj_type,"data-index":n.logData.index,"data-position":n.getPosition,"data-mindex":n.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handTask.apply(null,arguments)}}},[o("HyColorfulBorder",{attrs:{showBorder:n.item.edging,borderColor:n.borderColor}},[o("div",{staticClass:"content-box"},[o("ImageItem",{attrs:{item:n.item}}),n._v(" "),o("div",{staticClass:"text-info-box flex_m"},[o("div",{staticClass:"left flex_m"},[o("FlagItem",{directives:[{name:"show",rawName:"v-show",value:n.item.corner_mark,expression:"item.corner_mark"}],attrs:{type:n.item.corner_mark}}),n._v(" "),o("p",{staticClass:"text-info line-one"},[n._v(n._s(n.item.title))])],1),n._v(" "),o("div",{staticClass:"right"},[o("div",{staticClass:"btn-box"},[n._v("\n              "+n._s(n.$t("Create"))+"\n            ")])])])],1)])],1)])}),[],!1,null,"fad67500",null);e.default=component.exports},3404:function(t,e,n){"use strict";n.r(e);n(152),n(24);var o=n(52),r=n(180),l={components:{SwipeableList:o.default,HyPlateTitle:r.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},list:{type:Array,default:function(){return[]}}},computed:{cardLink:function(){var t=this;return function(e){var n=e.id;return t.localePath("/workFlowAppDetail/".concat(n))}},marker:function(){return function(t){return{14:"icon-a-icon-tag-AIquickapp"}[t.obj_type]||"icon-a-icon-tag-AIquickapp"}}},data:function(){return{}},methods:{goCardDetail:function(t){var e=this.$attrs.beforeView;(void 0===e?function(){return!0}:e)(t)}}},c=(n(5541),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{leftName:t.temp.title,link:t.temp.link}}),t._v(" "),e("swipeable-list",t._b({},"swipeable-list",t.$attrs,!1),[e("div",{staticClass:"recently-used-list flex"},t._l(t.list,(function(n,o){var r;return e("a",{key:o,staticClass:"block-item",attrs:{href:t.cardLink(n),target:"_blank"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goCardDetail(n)}}},[e("div",{staticClass:"content-box"},[e("el-image",{staticClass:"cover",attrs:{src:null==n||null===(r=n.cover)||void 0===r?void 0:r.url,fit:"cover"}}),t._v(" "),e("div",{staticClass:"right-marker flex_c_m"},[e("i",{class:["iconfont",t.marker(n)]})])],1),t._v(" "),e("p",{staticClass:"text-info line-one"},[t._v(t._s(n.title))])])})),0)])],1)}),[],!1,null,"88223a7a",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3405:function(t,e,n){"use strict";n.r(e);n(31),n(18),n(152),n(199),n(24);var o=n(10),r=n(52),l=n(180),c=n(846),d=n(93),h={name:"HyRankingGroup",components:{SwipeableList:r.default,HyPlateTitle:l.default,RankingStart:c.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},data:function(){return{formatNumberForeign:o.p}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n},userLink:function(){var t=this;return function(e){var n=e.author.id;return t.localePath("/user/".concat(n))}}},filters:{headImg:function(t){var e,n;return(null==t||null===(e=t.cover)||void 0===e?void 0:e.url)||(null==t||null===(n=t.author)||void 0===n?void 0:n.head)||""},userName:function(t){var e;return(null==t?void 0:t.title)||(null==t||null===(e=t.author)||void 0===e?void 0:e.name)||""}},methods:{renderTitle:function(t){return 9===t.obj_type?Object(d.i)(this,t):t.title||t.sub_title||""},goUser:function(t){this.$logEvent("log_actions",{operation:"click_group_rank",behavior_info:"on_rank_detail_page",behavior_info_sub:(null==t?void 0:t.id)||""}),window.open(this.userLink(t),"_blank")},rankIcon:function(t){return{account_artwork:"icon-icon-picture",account_model:"icon-icon-model",account_character:"icon-icon-Cyberpub",account_fast_app:"icon-a-icon-menu-quicktool",account_post:"icon-icon-Posts",account_followers:"icon-follow-repeal",account_favorited:"icon-icon-collect1",account_views:"icon-work-show"}[t.metric_type]||""},rankingCount:function(t,e){var n=t.metric_type,r=e.stat,l=void 0===r?{}:r,c={account_artwork:"num_of_artwork",account_model:"num_of_model",account_character:"num_of_character",account_fast_app:"num_of_comfy_ui",account_post:"num_of_post",account_followers:"num_of_fans",account_favorited:"num_of_collected",account_views:"view_count"}[n]||"";return Object(o.p)(l[c]||0)}}},f=(n(5546),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tools-item-box"},[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"310px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"0",listAlignItems:"flex-start"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(n,o){return e("div",{key:(n.id||"-")+o,staticClass:"ranking-item-box"},[n.title?e("div",{staticClass:"nav-box"},[e("p",{staticClass:"nav-title line-one"},[t._v(t._s(t.renderTitle(n)))])]):t._e(),t._v(" "),t._l(n.child,(function(o,r){var l;return e("a",{key:r,staticClass:"cell-item flex_m",attrs:{href:t.userLink(o)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goUser(o)}}},[e("el-image",{staticClass:"head-img",attrs:{src:t._f("headImg")(o)}},[e("div",{attrs:{slot:"error"},slot:"error"},[e("div",{staticClass:"head-err"},[t._v("\n                "+t._s(((null==o?void 0:o.title)||(null==o||null===(l=o.author)||void 0===l?void 0:l.name)).slice(0,1))+"\n              ")])])]),t._v(" "),e("div",{staticClass:"name-box"},[e("div",{staticClass:"title line-one"},[t._v(t._s(t._f("userName")(o)))]),t._v(" "),e("div",{staticClass:"user-num"},[e("i",{class:["iconfont",t.rankIcon(n)]}),t._v("\n              "+t._s(t.rankingCount(n,o))+"\n            ")])]),t._v(" "),e("RankingStart",{attrs:{num:r+1}})],1)}))],2)})),0)],1)],1)}),[],!1,null,"b220c7c2",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3406:function(t,e,n){"use strict";n.r(e);n(31),n(18),n(152),n(199),n(22),n(24);var o=n(10),r=n(52),l=n(180),c={name:"HyRankingSingle",components:{SwipeableList:r.default,HyPlateTitle:l.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},data:function(){return{navIndex:0,formatNumberForeign:o.p}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n},rankingNavList:function(){var t=(this.temp||{}).elList;return(void 0===t?[]:t).map((function(t){return{title:t.title,metric_type:t.metric_type}}))},rankingContentList:function(){var t,e=(this.temp||{}).elList;return(null===(t=(void 0===e?[]:e)[this.navIndex])||void 0===t?void 0:t.child)||[]},navItem:function(){return this.rankingNavList[this.navIndex]},numColor:function(){return function(t){return["#EBCE95","#B3C2E0","#B8673D","#808080"][t]||"#808080"}},userLink:function(){var t=this;return function(e){var n=e.author.id;return t.localePath("/user/".concat(n))}}},filters:{headImg:function(t){var e,n;return(null==t||null===(e=t.cover)||void 0===e?void 0:e.url)||(null==t||null===(n=t.author)||void 0===n?void 0:n.head)||""},userName:function(t){var e;return(null==t?void 0:t.title)||(null==t||null===(e=t.author)||void 0===e?void 0:e.name)||""}},methods:{handleNavClick:function(t,e){this.navIndex=e},goUser:function(t){this.$logEvent("log_actions",{operation:"click_single_rank",behavior_info:"on_rank_detail_page",behavior_info_sub:(null==t?void 0:t.id)||""}),window.open(this.userLink(t),"_blank")},rankIcon:function(t){return{account_artwork:"icon-icon-picture",account_model:"icon-icon-model",account_character:"icon-icon-Cyberpub",account_fast_app:"icon-a-icon-menu-quicktool",account_post:"icon-icon-Posts",account_followers:"icon-follow-repeal",account_favorited:"icon-icon-collect1",account_views:"icon-work-show"}[t.metric_type]||""},rankingCount:function(t,e){var n=t.metric_type,r=e.stat,l=void 0===r?{}:r,c={account_artwork:"num_of_artwork",account_model:"num_of_model",account_character:"num_of_character",account_fast_app:"num_of_comfy_ui",account_post:"num_of_post",account_followers:"num_of_fans",account_favorited:"num_of_collected",account_views:"view_count"}[n]||"";return Object(o.p)(l[c]||0)}}},d=(n(5547),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tools-item-box"},[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("swipeable-list",t._b({attrs:{listGap:"12px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.rankingNavList,(function(n,o){return e("div",{key:"ranking-nav-"+o,class:["nav-item",t.navIndex===o?"nav-active":""],on:{click:function(e){return t.handleNavClick(n,o)}}},[e("span",{staticClass:"nav-title"},[t._v(t._s(n.title))])])})),0),t._v(" "),e("swipeable-list",t._b({staticClass:"ranking-wrap",attrs:{listGap:"0px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),[e("div",{staticClass:"ranking-user-list"},t._l(t.rankingContentList,(function(n,o){var r;return e("a",{key:o,staticClass:"cell-item",attrs:{href:t.userLink(n)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goUser(n)}}},[e("div",{staticClass:"ranking-num flex_m",style:{color:t.numColor(o)}},[t._v(t._s(o+1))]),t._v(" "),e("div",{staticClass:"ranking-user-img"},[e("el-image",{staticClass:"head-img",attrs:{src:t._f("headImg")(n)}},[e("div",{attrs:{slot:"error"},slot:"error"},[e("div",{staticClass:"head-err"},[t._v("\n                "+t._s(((null==n?void 0:n.title)||(null==n||null===(r=n.author)||void 0===r?void 0:r.name)).slice(0,1))+"\n              ")])])])],1),t._v(" "),e("div",{staticClass:"ranking-user-info"},[e("div",{staticClass:"user-name line-one"},[t._v(t._s(t._f("userName")(n)))]),t._v(" "),e("div",{staticClass:"user-desc line-two"},[t._v("\n            "+t._s((null==n?void 0:n.sub_title)||"")+"\n          ")]),t._v(" "),e("div",{staticClass:"user-count"},[e("i",{class:["iconfont",t.rankIcon(t.navItem)]}),t._v("\n            "+t._s(t.rankingCount(t.navItem,n))+"\n          ")])])])})),0)])],1)}),[],!1,null,"71825e13",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3407:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(24);var o=n(52),r=n(180),l=n(3408),c=n(410),d={components:{SwipeableList:o.default,HyPlateTitle:r.default,CardItem:l.default,HyFitterListBox:c.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n}},data:function(){return{}}},h=n(0),component=Object(h.a)(d,(function(){var t,e,n,o=this,r=o._self._c;return r("div",[r("HyPlateTitle",{attrs:{item:o.temp,leftName:o.temp.title,link:o.temp.link,indexes:o.indexes}}),o._v(" "),r("div",{style:{minHeight:"200px"}},[null!==(t=o.temp)&&void 0!==t&&t.wrap?o._e():[r("swipeable-list",o._b({attrs:{listGap:"16px",top:"'0px'"}},"swipeable-list",o.$attrs,!1),o._l(o.cardRunderList,(function(t,e){return r("CardItem",{key:(t.id||"-")+e,attrs:{item:t,maxHomeData:o.maxHomeData,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)],o._v(" "),null!==(e=o.temp)&&void 0!==e&&e.wrap?[r("HyFitterListBox",{attrs:{rowsH:266,rows:null===(n=o.temp)||void 0===n?void 0:n.width,colsW:200}},o._l(o.cardRunderList,(function(t,e){return r("CardItem",{key:(t.id||"-")+e,attrs:{item:t,maxHomeData:o.maxHomeData,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)]:o._e()],2)],1)}),[],!1,null,"50a575e9",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3408:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(7);var o=n(2),r=(n(19),n(8),n(4),n(1)),l=n(252),c=n(405),d=n(155),h=n(27);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={provide:function(){return{CardApp:this}},components:{ImageItem:l.default,LeftUpMark:c.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}}},data:function(){return{flowLoad:!1}},computed:m(m({},Object(r.c)("user",["isLoggedIn"])),{},{cardLink:function(){var t=this.item.id;return this.localePath("/user/".concat(t))},newItem:function(){var t,e=Object.assign({},this.item);return e.cover=e.cover||{},e.cover.url=e.cover.url||(null===(t=e.author)||void 0===t?void 0:t.head),e},getPosition:function(){var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(d.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")}}),methods:{goCardDetail:function(){if(!(0===Object.keys(this.maxHomeData).length)){var t,e,n,o=this.maxHomeData.homeData,r=this.logData,l=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,c=Object(d.getMenuIndex)({list:l,id:o.id}),h="home,".concat(o.id,",").concat(o.title,",").concat(c,",").concat(r.id,",").concat(r.title,",").concat(null!==(e=r.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(n=this.item)||void 0===n?void 0:n.pt)||""})}this.$emit("onView",this.item),window.open(this.cardLink,"_blank")},setFollowUser:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isLoggedIn){var n={follow_account_no:e.author.id||""};this.flowLoad=!0,h.Eb(n).then((function(e){1e4===e.status.code&&(t.item.followed=!0)})).finally((function(){t.flowLoad=!1}))}else this.$EventBus.$emit("openLoginDialog")},setCancelUser:function(){var t=this,e={follow_account_no:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).author.id||""};this.flowLoad=!0,h.Bb(e).then((function(e){1e4===e.status.code&&(t.item.followed=!1)})).finally((function(){t.flowLoad=!1})),this.$forceUpdate()}}},_=v,y=(n(5548),n(0)),component=Object(y.a)(_,(function(){var t,e,n,o,r=this,l=r._self._c;return l("div",{staticClass:"card-item-box",attrs:{"data-id":null===(t=r.item)||void 0===t?void 0:t.id,"data-type":null===(e=r.item)||void 0===e?void 0:e.obj_type}},[l("a",{staticClass:"banalink",attrs:{href:r.cardLink,target:"_blank","data-event":"module-box-click","data-id":r.item.id,"data-pt":r.item.pt,"data-type":r.item.obj_type,"data-index":r.logData.index,"data-position":r.getPosition,"data-mindex":r.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),r.goCardDetail.apply(null,arguments)}}},[l("div",{staticClass:"cover-box flex_c"},[l("ImageItem",{staticClass:"cover-img",attrs:{item:r.newItem}})],1),r._v(" "),l("div",{staticClass:"info-text-box"},[l("p",{staticClass:"hand-name line-one"},[r._v(r._s(null===(n=r.item)||void 0===n?void 0:n.title))]),r._v(" "),l("p",{staticClass:"hand-desc line-three"},[r._v(r._s(null===(o=r.item)||void 0===o?void 0:o.sub_title))]),r._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.flowLoad,expression:"flowLoad"}],staticClass:"hand-btn-box flex_c"},[l("div",{directives:[{name:"show",rawName:"v-show",value:!r.item.followed,expression:"!item.followed"}],staticClass:"btn-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),r.setFollowUser(r.item)}}},[r._v("\n          "+r._s(r.$t("Follow"))+"\n        ")]),r._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:r.item.followed,expression:"item.followed"}],staticClass:"btn-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),r.setCancelUser(r.item)}}},[r._v("\n          "+r._s(r.$t("Followed"))+"\n        ")])])])])])}),[],!1,null,"e8d36b40",null);e.default=component.exports},3409:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(24);var o=n(52),r=n(180),l=n(3410),c=n(410),d={components:{SwipeableList:o.default,HyPlateTitle:r.default,CardItem:l.default,HyFitterListBox:c.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n}},data:function(){return{}}},h=(n(5550),n(0)),component=Object(h.a)(d,(function(){var t,e,n,o=this,r=o._self._c;return r("div",[r("HyPlateTitle",{attrs:{item:o.temp,leftName:o.temp.title,link:o.temp.link,indexes:o.indexes}}),o._v(" "),r("div",{style:{minHeight:"200px"}},[null!==(t=o.temp)&&void 0!==t&&t.wrap?o._e():[r("swipeable-list",o._b({attrs:{listGap:"16px",top:"0px",listAlignItems:"flex-start",areaPtop:8,areaPbot:8,list:o.cardRunderList}},"swipeable-list",o.$attrs,!1),o._l(o.cardRunderList,(function(t,e){return r("CardItem",{key:(t.id||"-")+e,attrs:{item:t,maxHomeData:o.maxHomeData,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)],o._v(" "),null!==(e=o.temp)&&void 0!==e&&e.wrap?[r("HyFitterListBox",{attrs:{rowsH:269,rows:null===(n=o.temp)||void 0===n?void 0:n.width}},o._l(o.cardRunderList,(function(t,e){return r("CardItem",{key:(t.id||"-")+e,staticClass:"my-card-item",attrs:{item:t,maxHomeData:o.maxHomeData,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)]:o._e()],2)],1)}),[],!1,null,"554bb404",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3410:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(6),n(12),n(13),n(4),n(7);var o=n(2),r=(n(19),n(16),n(8),n(1)),l=n(27),c=n(53),d=n(252),h=n(405),f=n(108),m=n(155),v=n(107),_=n(98);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={provide:function(){return{CardApp:this}},components:{ImageItem:d.default,LeftUpMark:h.default,BaseAvatar:c.default,HyColorfulBorder:f.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}}},data:function(){return{debounceSetCollect:Object(_.a)(this.setCollect,500),isCollection:!1}},computed:w(w({},Object(r.c)("user",["isLoggedIn"])),{},{isWorkflow:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=["1",1,"2",2].includes(n);return 13===e&&o},isAiApp:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=[3,"3",4,"4"].includes(n);return 13===e&&o},isModel:function(){var t=this.item,e=t.obj_type,n=t.channel,o=![1,"1"].includes(n);return 2===e&&o},isLoraTrain:function(){var t=this.item,e=t.obj_type,n=t.channel,o=[1,"1"].includes(n);return 2===e&&o},cardLink:function(){var t=this.item,e=t.obj_type,n=t.id,o=t.sub_channel,r={1:"/explore/detail/".concat(n),2:"/models/detail/".concat(n),5:"/video/".concat(n),9:"/aiChat/".concat(n),14:"/workFlowAppDetail/".concat(n),15:"/ai-video/detail/".concat(n),11:"/editBoard/detail/".concat(n),16:"/ai-audio/detail/".concat(n),60:"/ai-tools/".concat(n)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(n)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(n)):4===e&&"article"===o?this.localePath("/articleDetail/".concat(n)):4===e&&"picture"===o?this.localePath("/artWorkDetail/".concat(n)):this.localePath(r[e]||"/")},hasCollection:function(){var t,e=null===(t=this.item)||void 0===t?void 0:t.collect;return Boolean(e&&e.id)},ktype:function(){return Object(v.d)(this.item.obj_type)},getPosition:function(){var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(m.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}}),watch:{hasCollection:{handler:function(t){this.isCollection=Boolean(t)},deep:!0}},methods:{goCardDetail:function(){if(!(0===Object.keys(this.maxHomeData).length)){var t,e=this.getPosition;this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:e,behavior_info_sub:(null===(t=this.item)||void 0===t?void 0:t.pt)||""})}this.$emit("onView",this.item),this.$router.push(this.cardLink)},setCollect:function(){var t=this;this.isLoggedIn?this.isCollection?this.unFavorite((function(){t.$emit("onCollect",t.item)})):this.addFavorite((function(){t.$emit("onCollect",t.item)})):this.$EventBus.$emit("openLoginDialog")},addFavorite:function(t){var e=this,n=this.item.id,r=v.b[this.ktype],c={artwork:"artwork_no",model:"art_model_no",lookbook:"post_no",gallery:"post_no",post:"post_no",palette:"tpl_no",swtft_app:"comfy_ui_no",workflow:"comfy_ui_no",character:"character_no",ai_video:"video_no",ai_audio:"timbre_no"}[r],d=Object(o.a)({},c,n);Object(l.k)(d).then((function(n){var o=n.data.id;e.item.collect={id:o},e.$EventBus.$emit("setCollectMsgBox",e.item,r),t&&t()}))},unFavorite:function(t){var e,n=this,o={id:null===(e=this.item)||void 0===e||null===(e=e.collect)||void 0===e?void 0:e.id};Object(l.m)(o).then((function(){n.item.collect={id:""},t&&t()}))},goUserDetail:function(){var t,path=this.localePath("/user/".concat(null===(t=this.item)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.id));window.open(path,"_blank")}}},x=(n(5549),n(0)),component=Object(x.a)(C,(function(){var t,e,n,o,r,l=this,c=l._self._c;return c("div",{staticClass:"card-item-box",attrs:{"data-id":null===(t=l.item)||void 0===t?void 0:t.id,"data-type":null===(e=l.item)||void 0===e?void 0:e.obj_type}},[c("a",{staticClass:"banalink",attrs:{href:l.cardLink,target:"_blank","data-event":"module-box-click","data-id":l.item.id,"data-pt":l.item.pt,"data-type":l.item.obj_type,"data-index":l.logData.index,"data-position":l.getPosition,"data-mindex":l.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),l.goCardDetail.apply(null,arguments)}}},[c("HyColorfulBorder",{attrs:{showBorder:l.item.edging,borderColor:l.borderColor}},[c("div",{staticClass:"cover-box flex_c"},[c("ImageItem",{staticClass:"cover-img",attrs:{item:l.item}}),l._v(" "),c("LeftUpMark",{staticClass:"left-marker",attrs:{item:l.item}})],1)]),l._v(" "),c("div",{staticClass:"author-box flex"},[c("div",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),l.goUserDetail.apply(null,arguments)}}},[c("BaseAvatar",{staticClass:"author-avatar",attrs:{userData:null===(n=l.item)||void 0===n?void 0:n.author,size:24,theme:"dark"}})],1),l._v(" "),c("div",{staticClass:"author-info"},[c("p",{staticClass:"author-name line-one"},[l._v(l._s((null===(o=l.item)||void 0===o||null===(o=o.author)||void 0===o?void 0:o.name)||""))]),l._v(" "),c("p",{staticClass:"author-desc line-one"},[l._v(l._s((null===(r=l.item)||void 0===r?void 0:r.title)||""))]),l._v(" "),c("div",{staticClass:"collect-btn",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),l.debounceSetCollect(l.item)}}},[c("i",{directives:[{name:"show",rawName:"v-show",value:!l.isCollection,expression:"!isCollection"}],staticClass:"iconfont icon-icon-collect1"}),l._v(" "),c("i",{directives:[{name:"show",rawName:"v-show",value:l.isCollection,expression:"isCollection"}],staticClass:"iconfont icon-icon-collect-selected"})])])])],1)])}),[],!1,null,"d05a8974",null);e.default=component.exports;installComponents(component,{BaseAvatar:n(53).default})},3412:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(24);var o=n(52),r=n(180),l=n(3413),c=n(410),d={components:{SwipeableList:o.default,HyPlateTitle:r.default,BlockCard:l.default,HyFitterListBox:c.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}},displayType:{type:String,default:"outer"}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num;return!n.length?Array(o).fill({}):n},minHeight:function(){return"inner"===this.displayType?220:240}},data:function(){return{}}},h=(n(5556),n(0)),component=Object(h.a)(d,(function(){var t,e,n,o=this,r=o._self._c;return r("div",{staticClass:"hy-block-list"},[r("HyPlateTitle",{attrs:{item:o.temp,leftName:o.temp.title,link:o.temp.link,indexes:o.indexes}}),o._v(" "),r("div",{style:{minHeight:o.minHeight+"px"}},[null!==(t=o.temp)&&void 0!==t&&t.wrap?o._e():[r("swipeable-list",o._b({attrs:{listAlignItems:"flex-start",listGap:"16px",top:"'0px'",bntTop:"outer"===o.displayType?"-74px":"0px"}},"swipeable-list",o.$attrs,!1),o._l(o.cardRunderList,(function(t,e){return r("BlockCard",{key:(t.id||"-")+e,attrs:{item:t,maxHomeData:o.maxHomeData,displayType:o.displayType,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)],o._v(" "),null!==(e=o.temp)&&void 0!==e&&e.wrap?[r("HyFitterListBox",{attrs:{rowsH:o.minHeight,rows:null===(n=o.temp)||void 0===n?void 0:n.width,colsW:220}},o._l(o.cardRunderList,(function(t,e){return r("BlockCard",{key:(t.id||"-")+e,staticClass:"hy-block-list-box-card",attrs:{item:t,maxHomeData:o.maxHomeData,displayType:o.displayType,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes}}})})),1)]:o._e()],2)],1)}),[],!1,null,"479c611d",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3413:function(t,e,n){"use strict";n.r(e);n(19),n(8);var o=n(252),r=n(108),l=n(155),c=n(589),d=n(10),h={provide:function(){return{CardApp:this}},components:{ImageItem:o.default,HyColorfulBorder:r.default,AutoplayVideo:c.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}},displayType:{type:String,default:"outer"}},data:function(){return{}},computed:{cardLink:function(){var t=this.item.id;return this.localePath("/tagInfo/".concat(t))},videoUrl:function(){var t=(this.item||{}).stream,e=void 0===t?{}:t,n=e.url||e.url2||e.url3;return"video"===Object(d.v)(n)?n:""},getPosition:function(){var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,c=Object(l.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(c,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}},methods:{goCardDetail:function(){if(!(0===Object.keys(this.maxHomeData).length)){var t,e,n,o=this.maxHomeData.homeData,r=this.logData,c=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,d=Object(l.getMenuIndex)({list:c,id:o.id}),h="home,".concat(o.id,",").concat(o.title,",").concat(d,",").concat(r.id,",").concat(r.title,",").concat(null!==(e=r.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(n=this.item)||void 0===n?void 0:n.pt)||""})}this.$emit("onView",this.item),this.$router.push(this.cardLink)}}},f=(n(5555),n(0)),component=Object(f.a)(h,(function(){var t,e,n,o=this,r=o._self._c;return r("div",{staticClass:"block-box",attrs:{"data-id":null===(t=o.item)||void 0===t?void 0:t.id,"data-type":null===(e=o.item)||void 0===e?void 0:e.obj_type}},[r("HyColorfulBorder",{attrs:{showBorder:o.item.edging,borderColor:o.borderColor}},[r("a",{staticClass:"block-item banalink",attrs:{href:o.cardLink,target:"_blank","data-event":"module-box-click","data-id":o.item.id,"data-pt":o.item.pt,"data-type":o.item.obj_type,"data-index":o.logData.index,"data-position":o.getPosition,"data-mindex":o.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),o.goCardDetail.apply(null,arguments)}}},[r("div",{staticClass:"content-box",class:{"has-inner-content":"inner"===o.displayType}},[o.videoUrl?r("AutoplayVideo",{attrs:{item:o.item,posterUrl:null===(n=o.item)||void 0===n||null===(n=n.cover)||void 0===n?void 0:n.url,videoUrl:o.videoUrl}}):r("ImageItem",{attrs:{item:o.item}}),o._v(" "),"inner"===o.displayType?r("div",{staticClass:"inner-content"},[r("p",{staticClass:"text-info line-one"},[o._v(o._s(o.item.title))]),o._v(" "),r("p",{staticClass:"tag-info line-one"},[o._v("#"+o._s(o.item.org_title))]),o._v(" "),o.item.sub_title?r("p",{staticClass:"desc-info line-two"},[o._v(o._s(o.item.sub_title))]):o._e()]):o._e()],1),o._v(" "),"outer"===o.displayType?r("div",{staticClass:"border-info flex_m"},[r("p",{staticClass:"text-info line-one"},[o._v(o._s(o.item.title))]),o._v(" "),r("p",{staticClass:"tag-info line-one"},[o._v("#"+o._s(o.item.org_title))]),o._v(" "),o.item.sub_title?r("p",{staticClass:"desc-info line-two"},[o._v(o._s(o.item.sub_title))]):o._e()]):o._e()])])],1)}),[],!1,null,"aa93350e",null);e.default=component.exports},3414:function(t,e,n){"use strict";n.r(e);n(50),n(22),n(4),n(43),n(40),n(41),n(141),n(142),n(109);var o=n(3415),r=n(3416),l=n(3417),c={name:"HyCreateInput",components:{ImageCreationPanel:o.default,VideoGenerate:r.default,SmartEditPanel:l.default},props:{temp:{type:Object,default:function(){}}},computed:{tabsList:function(){return this.temp.elList.map((function(t){var e;return{title:t.title,desc:t.sub_title,bgCover:null==t||null===(e=t.cover)||void 0===e?void 0:e.url,type:t.id}}))}},data:function(){return{activeIndex:0}},mounted:function(){this.setActiveIndex()},methods:{setActiveIndex:function(){var t=new URL(window.location.href).searchParams.get("type"),e=this.tabsList.findIndex((function(e){return e.type===t}));this.activeIndex=-1===e?0:e},handleTabClick:function(t,e){var n=e.type;this.activeIndex=t;var o=new URL(window.location.href);o.searchParams.set("type",n||"image"),window.history.replaceState(null,"",o.toString())}}},d=(n(5560),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"hy-create-input-box",attrs:{"data-group":"homepage_creation"}},[e("div",{staticClass:"top-tabs-box"},t._l(t.tabsList,(function(n,o){return e("div",{key:o,class:["tabs-item",t.activeIndex===o&&"act-item"],attrs:{"data-event":"homepage_creation_input_tab_".concat(n.type),"data-type":"homepage_creation_guide_ai_".concat(n.type),"data-desc":"tab点击切换"},on:{click:function(e){return t.handleTabClick(o,n)}}},[e("div",{staticClass:"tab-cover-mask",style:{zIndex:t.tabsList.length-o}},[e("div",{staticClass:"mask-box"}),t._v(" "),e("img",{staticClass:"cover-img",attrs:{src:n.bgCover,alt:""}})]),t._v(" "),e("div",{staticClass:"tab-info-box"},[e("div",{staticClass:"title flex_m",style:{paddingLeft:o>0&&"72px"}},[e("div",{staticClass:"title-text line-one"},[t._v(t._s(n.title))]),t._v(" "),e("i",{staticClass:"iconfont icon-gengduo5"})]),t._v(" "),e("div",{staticClass:"desc line-one",style:{paddingLeft:o>0&&"72px"}},[t._v(t._s(n.desc))])])])})),0),t._v(" "),e("div",{staticClass:"input-content-box"},[e("image-creation-panel",{directives:[{name:"show",rawName:"v-show",value:0===t.activeIndex,expression:"activeIndex === 0"}]}),t._v(" "),e("video-generate",{directives:[{name:"show",rawName:"v-show",value:1===t.activeIndex,expression:"activeIndex === 1"}]}),t._v(" "),e("smart-edit-panel",{directives:[{name:"show",rawName:"v-show",value:2===t.activeIndex,expression:"activeIndex === 2"}]})],1)])}),[],!1,null,"6db22936",null);e.default=component.exports},3415:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(7);var o=n(3),r=n(2),l=(n(20),n(32),n(31),n(4),n(83)),c=n(632),d=n(99),h=n(57),f=n(25),m=n(46),v=n(1);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"ImageCreationPanel",components:{HyUploadModal:l.default},mixins:[c.default],data:function(){return{imageInfo:{url:""},prompt:"",uploadObj:{fileMaxSize:10,accept:".jpg,.png,.jpeg,.webp,.bmp"},selectedTemplate:null,estimatedConsumption:0,debouncedGetEstimatedConsumption:function(){}}},beforeDestroy:function(){this.debouncedGetEstimatedConsumption=null},watch:{needCheckPromptAndImage:{handler:function(t,e){t!==e&&this.debouncedGetEstimatedConsumption()}}},mounted:function(){this.mix_getTemplateList({template_type:1,limit:3}),this.debouncedGetEstimatedConsumption=Object(f.debounce)(this.getEstimatedConsumption,500)},computed:y(y({},Object(v.c)("user",["isLoggedIn"])),{},{renderTemplateList:function(){return(this.mix_templateList||[]).slice(0,3)},defaultImageInfo:function(){return this.mix_image_default_template},needCheckPromptAndImage:function(){var t;return[!(null===(t=this.imageInfo)||void 0===t||!t.url),!!this.prompt]},renderEstimatedConsumption:function(){return this.isLoggedIn&&this.prompt&&this.estimatedConsumption>0?this.estimatedConsumption:0},currentRequestParams:function(){var t;return null===(t=this.assembleParams())||void 0===t?void 0:t.requestParams}}),methods:{handleRefreshTemplate:function(){return this.mix_getTemplateList({template_type:1,limit:3})},openPickImageModal:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.pickOrUploadImageModal)||void 0===t||t.openModal()},handleGenerate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.prompt){e.next=3;break}return t.$message.error(t.$t("PlsEnterPromptToCreate")),e.abrupt("return");case 3:if(null!=t&&null!==(n=t.defaultImageInfo)&&void 0!==n&&null!==(n=n.used_models)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.model_no){e.next=6;break}return e.next=6,t.mix_getTemplateList({template_type:1,limit:3});case 6:o=t.assembleParams(),console.log("handleGenerate",o),t.$EventBus.$emit("openGenerate",{action:1,data:{source:{openType:"HOME_CREATE_INPUT",homeCreateInputParams:y({targetTab:"generateImage"},o),taskVersion:"v2"}}});case 9:case"end":return e.stop()}}),e)})))()},handlePickImage:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||{};this.imageInfo=Object.assign({},this.imageInfo,t)},handleDeleteImage:function(){this.imageInfo={url:""}},handleSelectTemplate:function(t){var e;this.selectedTemplate=t,this.prompt=(null==t||null===(e=t.origin_meta)||void 0===e?void 0:e.prompt)||""},checkIsUseTemplate:function(){var t,e,n=this;return null!==(t=this.imageInfo)&&void 0!==t&&t.url?null:null===(e=this.mix_cacheTemplateList||[])||void 0===e?void 0:e.find((function(t){var e;return(null==t||null===(e=t.origin_meta)||void 0===e?void 0:e.prompt)===n.prompt}))},assembleParams:function(){var t,e,n,o,r,l,c,f,m,v={model_no:(null===(t=this.defaultImageInfo)||void 0===t||null===(t=t.used_models)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.model_no)||"",model_ver_no:(null===(e=this.defaultImageInfo)||void 0===e||null===(e=e.used_models)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.model_ver_no)||"",channel_id:"",meta:(null===(n=this.defaultImageInfo)||void 0===n?void 0:n.origin_meta)||{}},_=(null===(o=this.defaultImageInfo)||void 0===o||null===(o=o.used_models)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.base_model_name)||"",w=this.checkIsUseTemplate();w&&(v.model_no=(null==w||null===(c=w.used_models)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.model_no)||"",v.model_ver_no=(null==w||null===(f=w.used_models)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.model_ver_no)||"",v.meta=(null==w?void 0:w.origin_meta)||{},v.use_gen_guide_template_id=(null==w?void 0:w.id)||"",v.use_origin_gen_guide_template_meta=!0,_=(null==w||null===(m=w.used_models)||void 0===m||null===(m=m[0])||void 0===m?void 0:m.base_model_name)||"");v.meta.prompt=this.prompt||"";var C=Object(d.getCurrentModelType)(_);return v.meta=y(y({},v.meta),this.assembleImageParams(C)),w&&!this.isLoggedIn||(v.meta.seed=Object(h.getRandomSeed)("flux"===C)),(null!==(r=this.imageInfo)&&void 0!==r&&r.url||!w||this.isLoggedIn)&&(v.use_gen_guide_template_id="",v.use_origin_gen_guide_template_meta=!1),{requestParams:v,isImageToImage:!(null==this||null===(l=this.imageInfo)||void 0===l||!l.url)&&"flux"!==C}},assembleImageParams:function(){var t,e,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r={lab_base:{conds:[{image:(null===(t=this.imageInfo)||void 0===t?void 0:t.url)||"",mode:"ImagePrompt",stop_at:1,weight:.35}]}},l={init_images:[(null===(e=this.imageInfo)||void 0===e?void 0:e.url)||""],denoising_strength:.35};return null!==(n=this.imageInfo)&&void 0!==n&&n.url||(r.lab_base.conds=[],l.init_images=[],delete l.denoising_strength),"flux"===o?r:l},getEstimatedConsumption:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.assembleParams(),e.next=3,Object(m.easyEstimatedConsumption)(o.requestParams);case 3:1e4===(null==(r=e.sent)||null===(n=r.status)||void 0===n?void 0:n.code)&&(t.estimatedConsumption=(null==r||null===(l=r.data)||void 0===l?void 0:l.calculate_coins)||0);case 5:case"end":return e.stop()}}),e)})))()}}},C=w,x=(n(5557),n(0)),component=Object(x.a)(C,(function(){var t,e,n,o=this,r=o._self._c;return r("div",{staticClass:"c-image-creation-panel"},[r("div",{staticClass:"prompt-area"},[r("div",{staticClass:"icon-wrapper",on:{click:o.openPickImageModal}},[null!==(t=o.imageInfo)&&void 0!==t&&t.url?[r("img",{staticClass:"image-preview",attrs:{src:o.imageInfo.url,alt:"image"}}),o._v(" "),r("span",{staticClass:"delete-image-icon",on:{click:function(t){return t.stopPropagation(),o.handleDeleteImage.apply(null,arguments)}}},[o._v("×")])]:[r("i",{staticClass:"iconfont icon-a-icon-addimg2img add-image-icon"})]],2),o._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:o.prompt,expression:"prompt"}],staticClass:"prompt-input",attrs:{placeholder:o.$t("WhatDoUWantToCreate"),rows:"2"},domProps:{value:o.prompt},on:{input:function(t){t.target.composing||(o.prompt=t.target.value)}}})]),o._v(" "),r("div",{staticClass:"bottom-controls"},[r("div",{staticClass:"hints-section"},[r("span",{staticClass:"hints-label"},[o._v(o._s(o.$t("comicPage4")))]),o._v(" "),r("div",{staticClass:"hint-tags"},[o._l(o.renderTemplateList,(function(t){var e;return r("span",{key:null==t?void 0:t.id,staticClass:"hint-tag",attrs:{"data-type":"aiImage","data-info":JSON.stringify({obj_id:null==t?void 0:t.id,model_id:null==t||null===(e=t.used_models)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.model_no}),"data-desc":"图片生成模板点击切换"},on:{click:function(e){return o.handleSelectTemplate(t)}}},[o._v(o._s(null==t?void 0:t.title))])})),o._v(" "),r("button",{staticClass:"refresh-button",on:{click:o.handleRefreshTemplate}},[r("i",{staticClass:"iconfont icon-refresh-icon2"})])],2)]),o._v(" "),r("button",{staticClass:"generate-button",class:{"generate-button-disabled":!o.prompt},attrs:{"data-type":"aiImage","data-info":JSON.stringify({obj_id:null===(e=o.currentRequestParams)||void 0===e?void 0:e.model_no,model_id:null===(n=o.currentRequestParams)||void 0===n?void 0:n.model_ver_no}),"data-desc":"图片生成创作"},on:{click:o.handleGenerate}},[r("span",[o._v(o._s(o.$t("Generate")))]),o._v(" "),o.renderEstimatedConsumption>0?[r("i",{staticClass:"iconfont icon-Lightning"}),o._v(" "),r("span",[o._v(o._s(o.renderEstimatedConsumption))])]:o._e()],2)]),o._v(" "),r("HyUploadModal",{ref:"pickOrUploadImageModal",attrs:{"is-need-login":!1,isSingleSelect:"",uploadObj:o.uploadObj,category:36},on:{onConfirm:o.handlePickImage}})],1)}),[],!1,null,"79c9a210",null);e.default=component.exports},3416:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(7);var o=n(3),r=n(2),l=(n(18),n(8),n(4),n(26),n(20),n(83)),c=n(632),d=n(46),h=n(1),f=n(33);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={name:"videoCreationPanel",components:{HyUploadModal:l.default},mixins:[c.default],data:function(){return{imageInfo:{url:""},prompt:"",placeholder:"create_prompt_image",uploadObj:{fileMaxSize:10,accept:".jpg,.png,.jpeg,.webp,.bmp"},templateImages:[],config:{},templateId:"",estimatedConsumption:0,debounceTimer:null,defaultPrompt:{model_no:"",model_ver_no:"",meta:{prompt:"",generate_video:v({},f.AI_VIDEO_GENERATE_PARAMS.generate_video),width:640,height:640,lora_models:[],aspect_ratio:"",generate:{anime_enhance:2,mode:0,gen_mode:0,prompt_magic_mode:2},negative_prompt:"",n_iter:1},ss:52}}},computed:v({},Object(h.c)("user",["isLoggedIn"])),watch:{prompt:{handler:function(){0===this.estimatedConsumption&&this.isLoggedIn&&this.getEstimatedConsumption()}},"imageInfo.url":{handler:function(){0===this.estimatedConsumption&&this.isLoggedIn&&this.getEstimatedConsumption()}}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.mix_getTemplateList({template_type:2,limit:5});case 2:console.log("======> this.video_default_template",t.mix_video_default_template),t.setupDefaultPromptFromTemplate(),t.getConfigParams();case 5:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=null)},methods:{setupDefaultPromptFromTemplate:function(){var t;if(this.mix_video_default_template){var template=this.mix_video_default_template,e=template.origin_meta||{},n=(null===(t=template.used_models)||void 0===t?void 0:t[0])||{};this.defaultPrompt.meta.generate_video=v({},e.generate_video),this.defaultPrompt.meta.generate=v({},e.generate),this.defaultPrompt.meta.aspect_ratio=e.aspect_ratio||"",this.defaultPrompt.meta.lora_models=e.lora_models||[],this.defaultPrompt.meta.negative_prompt=e.negative_prompt||"",this.defaultPrompt.meta.n_iter=e.n_iter||1,this.defaultPrompt.model_no=n.id||"",this.defaultPrompt.model_ver_no=n.model_ver_no||""}},onRefreshTemplate:function(){console.log("======> onRefreshTemplate"),this.mix_getTemplateList({template_type:2,limit:5})},debouncedGetEstimatedConsumption:function(){var t=this;this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){var e;t.prompt||null!==(e=t.imageInfo)&&void 0!==e&&e.url?t.getEstimatedConsumption():t.estimatedConsumption=0}),500)},buildGenerateParams:function(){var t,e,n,o,r=JSON.parse(JSON.stringify(this.defaultPrompt));(r.meta.width=(null===(t=this.imageInfo)||void 0===t?void 0:t.width)||640,r.meta.height=(null===(e=this.imageInfo)||void 0===e?void 0:e.height)||640,r.meta.prompt=this.prompt||"",null!==(n=this.imageInfo)&&void 0!==n&&n.url)&&(r.meta.generate_video.image_opts=[{mode:"first_frame",url:(null===(o=this.imageInfo)||void 0===o?void 0:o.url)||""}]);return r},getEstimatedConsumption:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.buildGenerateParams(),e.next=3,Object(d.easyEstimatedConsumption)(o);case 3:1e4===(null==(r=e.sent)||null===(n=r.status)||void 0===n?void 0:n.code)&&(t.estimatedConsumption=(null==r||null===(l=r.data)||void 0===l?void 0:l.calculate_coins)||0);case 5:case"end":return e.stop()}}),e)})))()},getConfigParams:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchModelParams)({base_model_name:null==t||null===(n=t.mix_video_default_template)||void 0===n||null===(n=n.used_models)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.name,model_no:null==t||null===(o=t.mix_video_default_template)||void 0===o||null===(o=o.used_models)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.id,model_ver_no:null==t||null===(r=t.mix_video_default_template)||void 0===r||null===(r=r.used_models)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.model_ver_no});case 2:c=e.sent,t.config=(null===(l=c.data)||void 0===l||null===(l=l.model_param)||void 0===l?void 0:l.video_model_generation_param)||{};case 4:case"end":return e.stop()}}),e)})))()},handleSelectTemplate:function(template){var t;this.imageInfo=template.cover,this.prompt=this.$t(null===(t=template.origin_meta)||void 0===t?void 0:t.prompt)||"",this.templateId=template.id,this.defaultPrompt.meta.generate=v({},template.origin_meta.generate)},openPickImageModal:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.pickOrUploadImageModal)||void 0===t||t.openModal()},handleGenerate:function(){var t,e,n=this;if(this.prompt||null!==(t=this.imageInfo)&&void 0!==t&&t.url)if(this.config.i2v_model_param||this.prompt)if(this.config.t2v_model_param||null!==(e=this.imageInfo)&&void 0!==e&&e.url){var o=this.buildGenerateParams();if(console.log("======> this.isLoggedIn",this.isLoggedIn),!this.isLoggedIn){var r=(this.mix_cacheTemplateList||[]).some((function(template){var t,e,o,r=(null===(t=template.origin_meta)||void 0===t?void 0:t.prompt)||"",l=(null===(e=template.cover)||void 0===e?void 0:e.url)||"",c=n.prompt||"",d=(null===(o=n.imageInfo)||void 0===o?void 0:o.url)||"";return r===c&&l===d}));r&&(o.use_gen_guide_template_id=this.templateId,o.use_origin_gen_guide_template_meta=!0),console.log("是否使用模板:",r)}this.$EventBus.$emit("openGenerate",{action:1,data:{source:v(v({},o),{},{taskVersion:"v2",openType:"HOME_CREATE_INPUT",homeCreateInputParams:{targetTab:"generateVideo"}})}}),this.prompt="",this.handleDeleteImage()}else this.$message.error(this.$t("trainSelectAnImage"));else this.$message.error(this.$t("PlsEnterPromptToCreate"))},handlePickImage:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||{};this.imageInfo=Object.assign({},this.imageInfo,t),console.log(this.imageInfo,"this.imageInfo")},handleDeleteImage:function(){this.imageInfo={url:""}}}},y=_,w=(n(5558),n(0)),component=Object(w.a)(y,(function(){var t,e,n,o=this,r=o._self._c;return r("div",{staticClass:"c-video-creation-panel",attrs:{"data-group":"homepage_creation_guide_ai_video"}},[r("div",{staticClass:"prompt-area"},[o.config.i2v_model_param?r("div",{staticClass:"icon-wrapper",on:{click:o.openPickImageModal}},[null!==(t=o.imageInfo)&&void 0!==t&&t.url?[r("img",{staticClass:"image-preview",attrs:{src:o.imageInfo.url,alt:"image"}}),o._v(" "),r("span",{staticClass:"delete-image-icon",on:{click:function(t){return t.stopPropagation(),o.handleDeleteImage.apply(null,arguments)}}},[o._v("×")])]:[r("i",{staticClass:"iconfont icon-a-icon-addimg2img add-image-icon"})]],2):o._e(),o._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:o.prompt,expression:"prompt"}],staticClass:"prompt-input",attrs:{placeholder:o.$t(o.placeholder),rows:"2"},domProps:{value:o.prompt},on:{input:function(t){t.target.composing||(o.prompt=t.target.value)}}})]),o._v(" "),r("div",{staticClass:"bottom-controls"},[r("div",{staticClass:"hints-section"},[r("span",{staticClass:"hints-label"},[o._v(o._s(o.$t("comicPage4")))]),o._v(" "),r("div",{staticClass:"video-template-card-container"},o._l(o.mix_templateList,(function(template,t){var e;return r("div",{key:t,staticClass:"video-template-card-item",attrs:{"data-event":"homepage_creation_guide_ai_video_template_click","data-id":template.id,"data-desc":"视频模板点击切换"},on:{click:function(t){return o.handleSelectTemplate(template)}}},[r("img",{attrs:{src:null===(e=template.cover)||void 0===e?void 0:e.url,alt:"video template"}})])})),0),o._v(" "),r("button",{staticClass:"refresh-button",on:{click:o.onRefreshTemplate}},[r("i",{staticClass:"iconfont icon-refresh-icon2"})])]),o._v(" "),r("button",{staticClass:"generate-button",class:{"generate-button-disabled":!(o.prompt||null!==(e=o.imageInfo)&&void 0!==e&&e.url)},attrs:{"data-event":"homepage_creation_guide_ai_video_onGenerate","data-type":"homepage_creation_guide_ai_video","data-desc":"点击创作"},on:{click:o.handleGenerate}},[r("span",[o._v(o._s(o.$t("Generate")))]),o._v(" "),o.estimatedConsumption>0&&(o.prompt||null!==(n=o.imageInfo)&&void 0!==n&&n.url)&&o.isLoggedIn?[r("i",{staticClass:"iconfont icon-Lightning"}),o._v(" "),r("span",[o._v(o._s(o.estimatedConsumption))])]:o._e()],2)]),o._v(" "),r("HyUploadModal",{ref:"pickOrUploadImageModal",attrs:{"is-need-login":!1,isSingleSelect:"",uploadObj:o.uploadObj,category:36},on:{onConfirm:o.handlePickImage}})],1)}),[],!1,null,"2fd5d476",null);e.default=component.exports},3417:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(7);var o=n(2),r=n(3),l=(n(32),n(22),n(31),n(18),n(4),n(20),n(632)),c=n(83),d=n(1),h=n(402);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"SmartEditPanel",mixins:[l.default,h.a],components:{HyUploadModal:c.default},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.mix_getTemplateList({template_type:3,limit:5});case 2:t.workFlowAppData=m(m(m({},t.workFlowAppData),t.mix_edit_default_template||{}),{},{id:(null==t||null===(n=t.mix_edit_default_template)||void 0===n?void 0:n.app_id)||"",name:(null==t||null===(o=t.mix_edit_default_template)||void 0===o?void 0:o.app_name)||""});case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{imageInfo:{url:""},prompt:"",uploadObj:{fileMaxSize:10,accept:".jpg,.png,.jpeg,.webp,.bmp"},selectedTemplate:null,workFlowAppData:{}}},computed:m(m({},Object(d.c)("user",["isLoggedIn"])),{},{renderTemplateList:function(){return(this.mix_templateList||[]).slice(0,5)},estimatedConsumption:function(){var t,e;return this.isLoggedIn&&this.prompt&&null!==(t=this.imageInfo)&&void 0!==t&&t.url&&(null==this||null===(e=this.workFlowAppData)||void 0===e?void 0:e.estimate_coin)||0}}),methods:{getWorkFlowInputs:function(){var t,e,n=this;return null===(t=(null==this||null===(e=this.workFlowAppData)||void 0===e?void 0:e.inputs)||[])||void 0===t?void 0:t.map((function(t){var e;"LoadImage"===(null==t?void 0:t.node_type)&&(t.val=null===(e=n.imageInfo)||void 0===e?void 0:e.url);return"OpenSeaArtImageEdit"===(null==t?void 0:t.node_type)&&(t.val=n.prompt),{field:null==t?void 0:t.field,node_id:null==t?void 0:t.node_id,node_type:null==t?void 0:t.node_type,val:(null==t?void 0:t.val)||""}}))},handleGenerate:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c,d,h,f,v,_,y,w,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.imageInfo)&&void 0!==n&&n.url){e.next=3;break}return t.$message.warning(t.$t("trainSelectAnImage")),e.abrupt("return");case 3:if(t.prompt){e.next=6;break}return t.$message.warning(t.$t("PromptNotEmpty")),e.abrupt("return");case 6:if(0!==(null==t||null===(o=t.workFlowAppData)||void 0===o||null===(o=o.inputs)||void 0===o?void 0:o.length)){e.next=10;break}return e.next=9,t.handleRefreshTemplate();case 9:t.workFlowAppData=m(m(m({},t.workFlowAppData),t.mix_edit_default_template||{}),{},{id:(null==t||null===(f=t.mix_edit_default_template)||void 0===f?void 0:f.app_id)||"",name:(null==t||null===(v=t.mix_edit_default_template)||void 0===v?void 0:v.app_name)||""});case 10:_=t.getWorkFlowInputs(),y=(null===(r=t.workFlowAppData)||void 0===r?void 0:r.id)||"",w={apply_id:y,inputs:_},t.isLoggedIn||(w.g_mode=1),w.task_flow_version="v2",(C=t.checkIsUseTemplate())&&!t.isLoggedIn&&(w.use_gen_guide_template_id=(null==C?void 0:C.id)||"",w.use_origin_gen_guide_template_meta=!0),console.log("params",w),t.$EventBus.$emit("openGenerate",{action:1,data:{source:{openType:"HOME_CREATE_INPUT",taskVersion:"v2",homeCreateInputParams:{targetTab:"app",requestParams:m({},w),imageUrl:(null==t||null===(l=t.imageInfo)||void 0===l?void 0:l.url)||"",creativity:{id:(null===(c=t.workFlowAppData)||void 0===c?void 0:c.id)||"",name:(null===(d=t.workFlowAppData)||void 0===d?void 0:d.name)||"",banner:(null===(h=t.workFlowAppData)||void 0===h?void 0:h.cover)||{}}}}}});case 19:case"end":return e.stop()}}),e)})))()},handleRefreshTemplate:function(){return this.mix_getTemplateList({template_type:3,limit:5})},openPickImageModal:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.pickOrUploadImageModal)||void 0===t||t.openModal()},handlePickImage:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||{};this.imageInfo=Object.assign({},this.imageInfo,t)},handleDeleteImage:function(){this.imageInfo={url:""}},handleSelectTemplate:function(t){var e;this.selectedTemplate=t,this.prompt=(null==t||null===(e=t.origin_meta)||void 0===e?void 0:e.prompt)||"",this.$set(this,"imageInfo",Object.assign({},this.imageInfo,(null==t?void 0:t.cover)||{}))},checkIsUseTemplate:function(){var t,e=this;return null===(t=this.mix_cacheTemplateList||[])||void 0===t?void 0:t.find((function(t){var n,o,r;return(null==t||null===(n=t.origin_meta)||void 0===n?void 0:n.prompt)===e.prompt&&(null==t||null===(o=t.cover)||void 0===o?void 0:o.url)===(null===(r=e.imageInfo)||void 0===r?void 0:r.url)}))}}},_=v,y=(n(5559),n(0)),component=Object(y.a)(_,(function(){var t,e,n,o=this,r=o._self._c;return r("div",{staticClass:"c-smart-edit-panel"},[r("div",{staticClass:"prompt-area"},[r("div",{staticClass:"icon-wrapper",on:{click:o.openPickImageModal}},[null!==(t=o.imageInfo)&&void 0!==t&&t.url?[r("img",{staticClass:"image-preview",attrs:{src:o.imageInfo.url,alt:"image"}}),o._v(" "),r("span",{staticClass:"delete-image-icon",on:{click:function(t){return t.stopPropagation(),o.handleDeleteImage.apply(null,arguments)}}},[o._v("×")])]:[r("i",{staticClass:"iconfont icon-a-icon-addimg2img add-image-icon"})]],2),o._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:o.prompt,expression:"prompt"}],staticClass:"prompt-input",attrs:{placeholder:o.$t("SmartImageEditingTempDesc"),rows:"2"},domProps:{value:o.prompt},on:{input:function(t){t.target.composing||(o.prompt=t.target.value)}}})]),o._v(" "),r("div",{staticClass:"bottom-controls"},[r("div",{staticClass:"hints-section"},[r("span",{staticClass:"hints-label"},[o._v(o._s(o.$t("comicPage4")))]),o._v(" "),r("div",{staticClass:"image-template-card-container"},[o._l(o.renderTemplateList,(function(template,t){var e;return r("div",{key:t,staticClass:"image-template-card-item",attrs:{"data-type":"imageEditing","data-info":JSON.stringify({obj_id:null==template?void 0:template.id}),"data-desc":"智能改图模板点击切换"},on:{click:function(t){return o.handleSelectTemplate(template)}}},[r("img",{attrs:{src:null==template||null===(e=template.cover)||void 0===e?void 0:e.url,alt:"image template"}})])})),o._v(" "),r("button",{staticClass:"refresh-button",on:{click:o.handleRefreshTemplate}},[r("i",{staticClass:"iconfont icon-refresh-icon2"})])],2)]),o._v(" "),r("button",{staticClass:"generate-button",class:{"generate-button-disabled":!o.prompt||!(null!==(e=o.imageInfo)&&void 0!==e&&e.url)},attrs:{"data-type":"imageEditing","data-info":JSON.stringify({obj_id:null===(n=o.workFlowAppData)||void 0===n?void 0:n.id}),"data-desc":"智能改图创作"},on:{click:o.handleGenerate}},[r("span",[o._v(o._s(o.$t("Generate")))]),o._v(" "),o.estimatedConsumption>0&&""!==o.prompt?[r("i",{staticClass:"iconfont icon-Lightning"}),o._v(" "),r("span",[o._v(o._s(o.estimatedConsumption||0))])]:o._e()],2)]),o._v(" "),r("HyUploadModal",{ref:"pickOrUploadImageModal",attrs:{"is-need-login":!1,isSingleSelect:"",uploadObj:o.uploadObj,category:36},on:{onConfirm:o.handlePickImage}})],1)}),[],!1,null,"b0727e62",null);e.default=component.exports},3418:function(t,e,n){"use strict";n.r(e);n(24);var o={name:"StepList1",props:{value:{type:Number,default:0}},data:function(){return{list:[{key:1,value:"Male"},{key:2,value:"Female"},{key:3,value:"otherSex"}]}},methods:{handleClick:function(t){this.$emit("input",t)}}},r=(n(5606),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"step-list"},t._l(t.list,(function(n){return e("div",{key:n.key,staticClass:"step-list-item",class:{active:t.value===n.key},on:{click:function(e){return t.handleClick(n.key)}}},[t._v("\n    "+t._s(t.$t(n.value))+"\n  ")])})),0)}),[],!1,null,"081d086f",null);e.default=component.exports},3419:function(t,e,n){"use strict";n.r(e);n(16),n(21),n(6),n(4);var o={name:"StepList2",props:{value:{type:Array,default:function(){return[]}}},data:function(){return{list:[{key:"generate",title:"AI_Image_Generation",desc:"register_popup_desc3",img:"https://image.cdn2.seaart.me/static/register/generate.png"},{key:"character",title:"digitalHuman",desc:"register_popup_desc4",img:"https://image.cdn2.seaart.me/static/register/character.png"},{key:"ai_app",title:"aiapply",desc:"register_popup_desc5",img:"https://image.cdn2.seaart.me/static/register/ai_app.png"}]}},methods:{handleClick:function(t){var e=this.value;e.includes(t)?e=e.filter((function(e){return e!==t})):e.push(t),this.$emit("input",e)}}},r=(n(5607),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"step-list"},t._l(t.list,(function(n){return e("div",{key:n.key,staticClass:"step-list-item",class:{active:t.value.includes(n.key)},on:{click:function(e){return t.handleClick(n.key)}}},[e("div",{staticClass:"item-info"},[e("img",{attrs:{src:n.img,alt:""}}),t._v(" "),e("p",[t._v("\n        "+t._s(t.$t(n.title))+"\n      ")]),t._v(" "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t(n.desc),placement:"top"}},[e("span",{staticClass:"tag-tips"},[e("Icon",{attrs:{name:"tagTips",color:"rgba(255, 255, 255, 0.6)"}})],1)])],1)])})),0)}),[],!1,null,"5e244520",null);e.default=component.exports},3420:function(t,e,n){"use strict";n.r(e);n(16),n(21),n(6),n(4);var o={name:"StepList3",props:{value:{type:Array,default:function(){return[]}},list:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{handleClick:function(t){var e=this.value;e.includes(t)?e=e.filter((function(e){return e!==t})):e.push(t),this.$emit("input",e)}}},r=(n(5608),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"step-list"},t._l(t.list,(function(n){var o;return e("div",{key:n.id,staticClass:"step-list-item",class:{active:t.value.includes(n.id)},on:{click:function(e){return t.handleClick(n.id)}}},[e("div",{staticClass:"tag-cover"},[e("img",{attrs:{src:null===(o=n.cover)||void 0===o?void 0:o.url,alt:""}})]),t._v(" "),e("p",[t._v(t._s(t.$t(n.web)))])])})),0)}),[],!1,null,"30102a25",null);e.default=component.exports},3421:function(t,e,n){"use strict";n.r(e);n(32),n(18),n(4);var o={name:"NavTabs",props:{list:{type:Array,default:function(){return[]}},active:{type:String,default:""}},data:function(){return{}},methods:{handleTabClick:function(t){var e=this.list.find((function(e){return e.value===t.name}));this.$emit("onChange",e)}}},r=(n(5613),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-tabs"},[e("el-tabs",{attrs:{value:t.active},on:{"tab-click":t.handleTabClick}},t._l(t.list,(function(n){return e("el-tab-pane",{key:n.value,attrs:{name:n.value,label:t.$t(n.label)}})})),1)],1)}),[],!1,null,"d2ea8268",null);e.default=component.exports},3422:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(7);var o=n(2),r=(n(22),n(4),n(1)),l=n(129),c=n(64),d=n(36);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={name:"RecentlyUsed",inject:["AssembleModalApp"],props:{beforeView:{type:Function,default:function(){}},inputTypes:{type:Array,default:function(){return[]}}},components:{NoData:l.default,HyWaterfallFlowList:c.default},data:function(){return{list:[],loading:!1}},computed:f({},Object(r.c)("user",["isLoggedIn"])),mounted:function(){this.getRecentData()},methods:{getRecentData:function(){var t=this;if(this.isLoggedIn){this.showObj;var e={order_by:"new",page:1,page_size:30,source_types:[14],input_types:this.inputTypes};this.loading=!0,d.getWaterRecentList(e).then((function(e){var n=e.data.items||[];n=n.map((function(t,e){return f(f({},t),{},{position:{parent:0,index:e}})})),t.list=n})).finally((function(){t.loading=!1}))}}}},v=(n(5614),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"recently-used-wraper-box"},[e("div",{ref:"wraperCollection",staticClass:"waterfall-list-wraper"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.list,containerRef:t.$refs.wraperCollection,waterAllListFn:function(){return t.list},rollBox:"DoorWraperId",fixedRatios:[194,280],cols:6,isDoor:!0,beforeView:t.beforeView,beforeRemix:t.beforeView}}),t._v(" "),t.loading||0!==t.list.length?t._e():e("NoData",{staticClass:"no-data"}),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"loadBox"})],1)])}),[],!1,null,"18e007e5",null);e.default=component.exports;installComponents(component,{NoData:n(129).default})},3423:function(t,e,n){"use strict";n.r(e);var o=n(3),r=n(30),l=(n(20),n(16),n(22),n(243),n(4),n(21),n(7),n(910)),c=n(29),d=n(46),h=n(145),f={img2video:{id:"img2video",label:"ImageToVideo",bgImg:"https://image.cdn2.seaart.me/static/upload/20250421/80d84a25-341c-419e-9367-e43251d662d2.webp",desc:"play_image_to_video_desc",bgColor:"linear-gradient(\n            to top,\n            rgba(40, 41, 110, 1) 0%,\n            rgba(40, 41, 110, 1) 30%,\n            rgba(40, 41, 110, 0.7) 70%,\n            rgba(40, 41, 110, 0) 100%\n          )"},digitalHumanChat:{id:"digitalHumanChat",label:"digitalHuman",bgImg:"https://image.cdn2.seaart.me/static/upload/20250418/e3862cb8-4125-4210-8b56-58ea9ef656e1.webp",desc:"play_digital_human_desc",bgColor:"linear-gradient(\n            to top,\n            rgba(81, 70, 53, 1) 0%,\n            rgba(81, 70, 53, 1) 30%,\n            rgba(81, 70, 53, 0.7) 70%,\n            rgba(81, 70, 53, 0) 100%\n          )"},aiFilter:{id:"aiFilter",label:"ai_tools_4",bgImg:"https://image.cdn2.seaart.me/static/upload/20250418/b4e7d452-e79a-444d-8c6f-6539937b83ec.webp",desc:"play_ai_filter_desc",bgColor:"linear-gradient(\n            to top,\n            rgba(19, 43, 71, 1) 0%,\n            rgba(19, 43, 71, 1) 30%,\n            rgba(19, 43, 71, 0.7) 70%,\n            rgba(19, 43, 71, 0) 100%\n          )"},videoExtend:{id:"videoExtend",label:"videoProlong",bgImg:"https://image.cdn2.seaart.me/static/upload/20250623/0588096b-36db-4026-8cc3-19883ceea288.webp",desc:"newGenerate136",bgColor:"linear-gradient(\n            to top,\n            rgba(35,19,85, 1) 0%,\n            rgba(35,19,85, 1) 30%,\n            rgba(35,19,85, 0.7) 70%,\n            rgba(35,19,85, 0) 100%\n          )"},videoUpscale:{id:"videoUpscale",label:"IntelligentUpscale",bgImg:"https://image.cdn2.seaart.me/static/upload/20250623/c3b130a2-8d03-4a50-a7cd-b6e8d9284d33.webp",desc:"video_upscale_tips",bgColor:"linear-gradient(\n            to top,\n            rgba(15, 50, 85, 1) 0%,\n            rgba(15, 50, 85, 1) 30%,\n            rgba(15, 50, 85, 0.7) 70%,\n            rgba(15, 50, 85, 0) 100%\n          )"}},m={smartEdit:{id:"smartEdit",label:"SmartImageEditing",desc:"smart_edit_tips",icon:"icon-a-Smartimageediting",bgColor:"linear-gradient(to bottom, #4A5EA6FF 0%, #756B7DFF 100%)",iconSize:"25px"},extraUpscale:{id:"extraUpscale",label:"taskTabUpscale",desc:"hd_repair_tips",icon:"icon-icon_h_d_repair",bgColor:"linear-gradient(to bottom, #1e2235 0%, #63697e 100%)"},removeBackground:{id:"removeBackground",label:"RemoveBackground",desc:"remove_background_desc",svg:"icon-remove-background",bgColor:"linear-gradient(to bottom, #00536a 0%, #94acb2 100%)"},variation:{id:"variation",label:"Variations",desc:"variations_desc",char:"V",bgColor:"linear-gradient(to bottom, #242d5f 0%, #51a3a2 100%)"},upscale:{id:"upscale",label:"OriginalityUpscale",desc:"upscale_desc",char:"U",bgColor:"linear-gradient(to bottom, #753a88 0%, #b85373 100%)"},imgToText:{id:"imgToText",label:"newGenerate30",desc:"ai_escription_tips",icon:"icon-icon-describe",bgColor:"linear-gradient(to bottom, #513195FF 0%, #C47429FF 100%)",iconSize:"25px"},img2img:{id:"img2img",label:"ImgToImg",desc:"img_to_img_desc",icon:"icon-icon_imageToImage",bgColor:"linear-gradient(to bottom, #463046FF  0%, #807284FF 100%)",iconSize:"32px"},videoExtendFrame:{id:"videoExtendFrame",label:"videoFrameInterpolation",desc:"video_frame_interpolation_desc",icon:"icon-icon-buzhen",iconSize:"28px",bgColor:"linear-gradient(to bottom, #63697EFF 0%, #1E2235FF 100%)"},audioToVideo:{id:"audioToVideo",label:"video_music",desc:"play_video_music_desc",icon:"icon-a-addbgm",iconSize:"28px",bgColor:"linear-gradient(to bottom, #00536AFF 0%, #94ACB2FF 100%)"},lipSyncVideo:{id:"lipSyncVideo",label:"audio_tab2",desc:"play_video_lip_sync_desc",icon:"icon-a-icon-LipSync",iconSize:"28px",bgColor:"linear-gradient(to bottom, #242D5FFF 0%, #51A3A2FF 100%)"}},v={name:"BasicFun",inject:["AssembleModalApp"],mixins:[h.a],components:{AiChatByDetails:l.a},data:function(){return{loading:!1}},computed:{lableList:function(){var t;return((null===(t=this.AssembleModalApp)||void 0===t||null===(t=t.createRefer)||void 0===t?void 0:t.task_operation_label_items)||[]).map((function(t){return t.label}))},bigCardList:function(){var t=this,e=[],n=n={videoExtend:f.videoExtend,videoUpscale:f.videoUpscale,img2video:f.img2video};return Object.entries(n).forEach((function(n){var o=Object(r.a)(n,2),l=o[0],c=o[1];t.lableList.includes(l)&&e.push(c)})),this.isVideoDoor||(this.lableList.includes("digitalHumanChat")?e.push(f.digitalHumanChat):e.push(f.aiFilter)),e},smallCardList:function(){var t=this,e=[];return Object.entries(m).forEach((function(n){var o=Object(r.a)(n,2),l=o[0],c=o[1];t.lableList.includes(l)&&e.push(c)})),e},isVideoDoor:function(){return"aiVideoApp"===this.showObj.doorCode},createRefer:function(){var t,e=this.AssembleModalApp.createRefer;return Object.assign({},e,{id:(null==e?void 0:e.art_work_no)||(null===(t=this.showObj)||void 0===t?void 0:t.taskId)})},showObj:function(){var t=this.AssembleModalApp.showObj;return t}},methods:{handleClick:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.loading){n.next=2;break}return n.abrupt("return");case 2:o=t.id,r=!0,e.postLogData(e.$t(t.label,"en")),n.t0=o,n.next="img2video"===n.t0?8:"digitalHumanChat"===n.t0?10:"aiFilter"===n.t0?13:"audioToVideo"===n.t0?15:"lipSyncVideo"===n.t0?17:"videoExtend"===n.t0?19:"extraUpscale"===n.t0?21:"removeBackground"===n.t0?23:"variation"===n.t0?26:"upscale"===n.t0?28:"videoUpscale"===n.t0?30:"videoExtendFrame"===n.t0?32:"smartEdit"===n.t0?34:"img2img"===n.t0?36:"imgToText"===n.t0?38:40;break;case 8:return e.handleImg2Video(),n.abrupt("break",41);case 10:return r=!1,e.handleDigitalHumanChat(),n.abrupt("break",41);case 13:return e.handleAifilter(),n.abrupt("break",41);case 15:return e.handleVideoMusic(),n.abrupt("break",41);case 17:return e.handleVideoLipSync(),n.abrupt("break",41);case 19:return e.handleVideoExtension(),n.abrupt("break",41);case 21:return e.handleExtraUpscale(),n.abrupt("break",41);case 23:return n.next=25,e.handleRemoveBackground();case 25:return n.abrupt("break",41);case 26:return e.handleVariation(),n.abrupt("break",41);case 28:return e.handleUpscale(),n.abrupt("break",41);case 30:return e.handleVideoUpscale(),n.abrupt("break",41);case 32:return e.handleVideoFrameInterpolation(),n.abrupt("break",41);case 34:return e.handleSmartEdit(),n.abrupt("break",41);case 36:return e.handleImgGather("imgGenerate"),n.abrupt("break",41);case 38:return e.handleImgGather("aiImg"),n.abrupt("break",41);case 40:return n.abrupt("break",41);case 41:r&&e.AssembleModalApp.afterAction({actionType:o,data:e.showObj});case 42:case"end":return n.stop()}}),n)})))()},handleImg2Video:function(){var t;this.$EventBus.$emit("openGenerate",{action:0,taskVersion:"v2",data:{source:{imageToVideoUrl:(null===(t=this.showObj)||void 0===t?void 0:t.workUrl)||""},scene:"play-img-to-video"}})},handleVariation:function(){var t=Object.assign({},this.createRefer,{init_images:[this.createRefer.banner.url]});this.$EventBus.$emit("openGenerate",{action:3,data:{source:t}})},handleExtraUpscale:function(){var t,e,n=Object.assign({},this.createRefer.meta,{channel:this.createRefer.channel,init_images:[this.createRefer.banner.url]});this.$EventBus.$emit("openGenerate",{action:6,data:{imageUrl:null===(t=this.createRefer)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.url,art_work_no:null===(e=this.createRefer)||void 0===e?void 0:e.art_work_no,meta:n}})},handleRemoveBackground:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,d,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=Object.assign({},null===(n=t.createRefer)||void 0===n?void 0:n.meta,{init_images:[null===(o=t.createRefer)||void 0===o||null===(o=o.banner)||void 0===o?void 0:o.url],hi_res_arg:void 0,remove_background:{uri:null===(r=t.createRefer)||void 0===r||null===(r=r.banner)||void 0===r?void 0:r.url}}),h={action:7,art_work_no:null===(l=t.createRefer)||void 0===l?void 0:l.art_work_no,meta:d},t.loading=!0,e.next=5,Object(c.createTask)(h).finally((function(){t.loading=!1}));case 5:f=e.sent,t.$EventBus.$emit("openGenerate",{action:0,data:f.data});case 7:case"end":return e.stop()}}),e)})))()},handleDigitalHumanChat:function(){var t=this;this.$refs.AiChatByDetailsRef.handleClickChat((function(e){null!=e&&e.character_id&&t.AssembleModalApp.afterAction({actionType:"digitalHumanChat",data:t.showObj})}))},handleChatConfirm:function(){this.AssembleModalApp.hide(),this.AssembleModalApp.afterAction({actionType:"handleChatConfirm",data:this.showObj})},handleUpscale:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,h,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[2,"2"].includes(localStorage.getItem("generateMode")||1),l=Object.assign({},t.createRefer,{init_images:[t.createRefer.banner.url]}),h=r?d.easyImageUpscale:c.createTask,f=r?{model_ver_no:null===(n=t.createRefer)||void 0===n?void 0:n.model_ver_no,model_no:null===(o=t.createRefer)||void 0===o||null===(o=o.art_model)||void 0===o?void 0:o.id,meta:l}:{action:2,art_work_no:t.createRefer.art_work_no,meta:l},t.loading=!0,e.next=7,h(f).finally((function(){t.loading=!1}));case 7:m=e.sent,t.$EventBus.$emit("openGenerate",{action:0,data:m.data});case 9:case"end":return e.stop()}}),e)})))()},handleVideoMusic:function(){var t,e,n,o,r,l=null===(t=this.AssembleModalApp)||void 0===t||null===(t=t.createRefer)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.cover_url,c={action:1,data:{openType:"AUDIO",videoInfo:{id:(null===(e=this.showObj)||void 0===e?void 0:e.artWorkNo)||(null===(n=this.showObj)||void 0===n?void 0:n.taskId),isTask:!(null!==(o=this.showObj)&&void 0!==o&&o.artWorkNo),url:null===(r=this.showObj)||void 0===r?void 0:r.workUrl,coverUrl:l},prompt:"",negative_prompt:""},taskVersion:"v2"};this.$EventBus.$emit("openGenerate",c)},handleVideoLipSync:function(){var t,e,n,o,r={action:1,data:{openType:"AUDIO",currentAudioTab:"videoAddLipSync",videoInfo:{id:(null===(t=this.showObj)||void 0===t?void 0:t.artWorkNo)||(null===(e=this.showObj)||void 0===e?void 0:e.taskId),isTask:!(null!==(n=this.showObj)&&void 0!==n&&n.artWorkNo),url:null===(o=this.showObj)||void 0===o?void 0:o.workUrl,taskSource:0},prompt:""},taskVersion:"v2"};this.$EventBus.$emit("openGenerate",r)},handleAifilter:function(){var t,e=null===(t=this.showObj)||void 0===t?void 0:t.workUrl;e&&window.open(this.localePath("/ai-tools/ai-filter?imgUrl=".concat(encodeURIComponent(e))),"_blank")},handleVideoExtension:function(){var t;this.$EventBus.$emit("openGenerate",{action:14,data:{scene:"ai-tools-play",isTask:!0,parent_task_id:null===(t=this.showObj)||void 0===t?void 0:t.taskId}})},handleVideoUpscale:function(){var t;this.$EventBus.$emit("openGenerate",{action:13,data:{scene:"ai-tools-play",isTask:!0,parent_task_id:null===(t=this.showObj)||void 0===t?void 0:t.taskId}})},handleVideoFrameInterpolation:function(){var t;this.$EventBus.$emit("openGenerate",{action:19,data:{scene:"ai-tools-play",isTask:!0,parent_task_id:null===(t=this.showObj)||void 0===t?void 0:t.taskId}})},handleSmartEdit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(d.easyGetDefaultParams)().finally((function(){t.loading=!1}));case 3:if(r=e.sent,l=(null==r||null===(n=r.data)||void 0===n?void 0:n.smart_edit_template_id)||""){e.next=7;break}return e.abrupt("return");case 7:t.$EventBus.$emit("openGenerate",{action:1,data:{activeCategory:"aiApp",creativity:{id:l},imgUrlList:[null===(o=t.createRefer)||void 0===o||null===(o=o.banner)||void 0===o?void 0:o.url]}});case 8:case"end":return e.stop()}}),e)})))()},handleImgGather:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aiImg";this.$EventBus.$emit("openGenerate",{action:1,data:{type:e,scene:"ai-tools-play-img",url:null===(t=this.createRefer)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.url}})},postLogData:function(label){this.$logEvent("log_actions",{operation:"click",behavior_info:"".concat(this.isVideoDoor?"video":"image","_play_around_popup"),behavior_info_sub:label})}}},_=v,y=(n(5615),n(0)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return t.bigCardList.length||t.smallCardList.length?e("div",{staticClass:"basic-fun-container"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("commonFeatures")))]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"feature-cards-container"},[e("div",{staticClass:"large-cards-row",class:{"single-card":1===t.bigCardList.length}},t._l(t.bigCardList,(function(n,o){return e("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibility,expression:"handleVisibility"}],key:n.id,staticClass:"large-card",attrs:{"data-type":"".concat(t.isVideoDoor?"video":"image","_play_around_popup"),"data-id":n.id,"data-info":JSON.stringify({id:n.id,type:"".concat(t.isVideoDoor?"video":"image","_play_around_popup")})},on:{click:function(e){return t.handleClick(n)}}},[0==o?e("div",{staticClass:"hot-label"},[e("i",{staticClass:"iconfont icon-tag_bg"}),t._v(" "),e("span",{staticClass:"text"},[t._v("HOT")])]):t._e(),t._v(" "),e("img",{staticClass:"bg-img",attrs:{src:n.bgImg}}),t._v(" "),e("div",{staticClass:"large-card-bottom",style:{background:n.bgColor}},[e("div",{staticClass:"large-card-text"},[e("div",{staticClass:"large-card-title"},[t._v(t._s(t.$t(n.label)))]),t._v(" "),e("div",{staticClass:"large-card-description"},[t._v("\n              "+t._s(t.$t(n.desc))+"\n            ")])]),t._v(" "),e("el-button",{staticClass:"large-card-btn"},[t._v(t._s(t.$t("trytrain")))])],1)])})),0),t._v(" "),t.smallCardList.length?e("div",{staticClass:"small-cards-row",class:{"single-card":t.smallCardList.length<2}},t._l(t.smallCardList,(function(n,o){return e("el-tooltip",{key:o,attrs:{content:t.$t(n.desc),disabled:t.smallCardList.length<=4,placement:"top","open-delay":200}},[e("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibility,expression:"handleVisibility"}],staticClass:"small-card",attrs:{"data-id":n.id,"data-type":"".concat(t.isVideoDoor?"video":"image","_play_around_popup"),"data-info":JSON.stringify({id:n.id,type:"".concat(t.isVideoDoor?"video":"image","_play_around_popup")})},on:{click:function(e){return t.handleClick(n)}}},[e("div",{staticClass:"small-card-icon",style:{background:n.bgColor}},[n.icon?e("i",{staticClass:"iconfont icon",class:n.icon,style:{fontSize:n.iconSize}}):t._e(),t._v(" "),n.svg?e("svg-icon",{staticClass:"icon",attrs:{"icon-class":n.svg}}):t._e(),t._v(" "),n.char?e("span",{staticClass:"icon-character"},[t._v(t._s(n.char))]):t._e()],1),t._v(" "),e("div",{staticClass:"small-card-content"},[e("div",{staticClass:"small-card-title"},[t._v(t._s(t.$t(n.label)))]),t._v(" "),t.smallCardList.length<=4?e("div",{staticClass:"small-card-description"},[e("el-tooltip",{attrs:{content:t.$t(n.desc),placement:"top"}},[e("span",[t._v("\n                  "+t._s(t.$t(n.desc))+"\n                ")])])],1):t._e()])])])})),1):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e("AiChatByDetails",{ref:"AiChatByDetailsRef",attrs:{chatObj:t.createRefer},on:{onConfirm:t.handleChatConfirm}})],1)]):t._e()}),[],!1,null,"48ac61e5",null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default})},3424:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(19),n(22),n(98)),l=n(129),c=n(64),d=n(36);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={name:"MyCollection",inject:["AssembleModalApp"],components:{NoData:l.default,HyWaterfallFlowList:c.default},data:function(){return{dbGetWaterfallData:Object(r.a)(this.getWaterfallData,500),waterfallList:[],waterLoading:!1,keyword:"",pageParam:{offset:"",page:1,page_size:35}}},mounted:function(){this.getWaterfallData()},methods:{getWaterfallData:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).afterCall,n=this.AssembleModalApp,o=n.showObj,r=n.activeTab;if(!this.waterLoading&&"collect"===r){this.waterLoading=!0;var l=f(f({},this.pageParam),{},{keyword:this.keyword,source_types:[14],input_types:{aiImageApp:["image"],aiVideoApp:["video"]}[o.doorCode]||[]});Object(d.getAiNovelCollect)(l).then((function(n){e&&e();var o=((null==n?void 0:n.data)||{}).items,r=void 0===o?[]:o,l=r[r.length-1]||{};t.pageParam.page++,t.pageParam.offset=String(l.collect.collect_at)||"",r=r.map((function(t,e){return f(f({},t),{},{position:{parent:0,index:e}})})),t.waterfallList=t.waterfallList.concat(r||[]),t.waterLoading=!1})).catch((function(){t.waterLoading=!1}))}},beforeAction:function(t){return this.AssembleModalApp.beforeAction(t,"waterfall"),!1},changeKeyword:function(t){var e=this;this.keyword=t,this.pageParam.page=1,this.pageParam.offset="",this.dbGetWaterfallData({afterCall:function(){e.waterfallList=[]}})}}},v=m,_=(n(5616),n(0)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-collection-wraper-box"},[e("div",{ref:"wraperCollection",staticClass:"waterfall-list-wraper"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.waterfallList,containerRef:t.$refs.wraperCollection,waterAllListFn:function(){return t.waterfallList},rollBox:"DoorWraperId",fixedRatios:[194,280],cols:6,isDoor:!0,beforeView:t.beforeAction,beforeRemix:t.beforeAction},on:{load:t.getWaterfallData}}),t._v(" "),t.waterLoading||0!==t.waterfallList.length?t._e():e("NoData",{staticClass:"no-data"}),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waterLoading,expression:"waterLoading"}],staticClass:"loadBox"})],1)])}),[],!1,null,"e4690658",null);e.default=component.exports;installComponents(component,{NoData:n(129).default})},3425:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(19),n(22),n(129)),l=n(64),c=n(36);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"MyCreateWork",inject:["AssembleModalApp"],components:{NoData:r.default,HyWaterfallFlowList:l.default},data:function(){return{waterfallList:[],waterLoading:!1,pageParam:{offset:"",page:1,page_size:35}}},mounted:function(){this.getWaterfallData()},methods:{getWaterfallData:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).afterCall,n=this.AssembleModalApp,o=n.showObj,r=n.activeTab;if(!this.waterLoading&&"mine"===r){this.waterLoading=!0;var l=h(h({},this.pageParam),{},{source_types:[14],input_types:{aiImageApp:["image"],aiVideoApp:["video"]}[o.doorCode]||[]});Object(c.getMyAiApp)(l).then((function(n){e&&e(),t.pageParam.page++,t.pageParam.offset=n.data.has_more&&n.data.offset||"";var o=n.data.items||[];o=o.map((function(t,e){return h(h({},t),{},{position:{parent:0,index:e}})})),t.waterfallList=t.waterfallList.concat(o),t.waterLoading=!1})).catch((function(){t.waterLoading=!1}))}},beforeAction:function(t){return this.AssembleModalApp.beforeAction(t,"waterfall"),!1}}},m=f,v=(n(5617),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-collection-wraper-box"},[e("div",{ref:"wraperCollection",staticClass:"waterfall-list-wraper"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.waterfallList,containerRef:t.$refs.wraperCollection,waterAllListFn:function(){return t.waterfallList},rollBox:"DoorWraperId",fixedRatios:[194,280],cols:6,isDoor:!0,beforeView:t.beforeAction,beforeRemix:t.beforeAction},on:{load:t.getWaterfallData}}),t._v(" "),t.waterLoading||0!==t.waterfallList.length?t._e():e("NoData",{staticClass:"no-data"}),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waterLoading,expression:"waterLoading"}],staticClass:"loadBox"})],1)])}),[],!1,null,"b4e27d32",null);e.default=component.exports;installComponents(component,{NoData:n(129).default})},3426:function(t,e,n){"use strict";n.r(e);var o={model:{prop:"keyword",event:"onChange"},props:{keyword:{type:String,default:""}},data:function(){return{isFocus:!1}},methods:{inputText:function(t){this.$emit("onChange",t)},onFocusFn:function(){this.isFocus=!0},onBlurFn:function(){this.isFocus=!1}}},r=(n(5618),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("el-input",t._g(t._b({ref:"inputRef",staticClass:"my-lenovo-input",class:t.isFocus&&"input-act",attrs:{value:t.keyword,placeholder:t.$t("searchWorkflowAppPlaceHolder")},on:{focus:t.onFocusFn,blur:t.onBlurFn,input:t.inputText}},"el-input",t.$attrs,!1),t.$listeners),[e("template",{slot:"prefix"},[e("i",{staticClass:"iconfont icon-search"})])],2)}),[],!1,null,"04732af3",null);e.default=component.exports},3427:function(t,e,n){"use strict";n.r(e);n(16),n(21);var o={name:"ConfirmStyle1",props:{item:{type:Object,default:function(){}}},methods:{closeModal:function(){this.$emit("onClose")},confirmCallback:function(){this.$emit("onConfirm")},cancelCallback:function(){this.$emit("onCancel")}}},r=(n(5620),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"confirm-style1-box"},[e("div",{staticClass:"header-box"},[e("h1",{staticClass:"title-box"},[t._v(t._s(t.$t(t.item.title)))]),t._v(" "),e("div",{staticClass:"close-box",on:{click:t.closeModal}},[e("i",{staticClass:"iconfont icon-guanbi2"})])]),t._v(" "),e("div",{staticClass:"content-box"},[e("p",{staticClass:"content-text"},[t._v(t._s(t.$t(t.item.content)))])]),t._v(" "),e("div",{staticClass:"footer-box"},[t.item.btnList.includes("cancel")?e("div",{staticClass:"cancel-box flex_c_m",on:{click:t.cancelCallback}},[t._v("\n      "+t._s(t.$t(t.item.cancelText))+"\n    ")]):t._e(),t._v(" "),t.item.btnList.includes("confirm")?e("div",{staticClass:"confirm-box flex_c_m",on:{click:t.confirmCallback}},[t._v("\n      "+t._s(t.$t(t.item.confirmText))+"\n    ")]):t._e()])])}),[],!1,null,"0fa514de",null);e.default=component.exports},3428:function(t,e,n){"use strict";n.r(e);n(16),n(21);var o={warning:{icon:"icon-warn",iconColor:"rgba(220,38,38,1)",bgColor:"rgba(220,38,38,0.2)"}},r={name:"ConfirmStyle2",props:{item:{type:Object,default:function(){}}},data:function(){return{typeIconMap:o}},computed:{iconConfig:function(){var t=this.item.type||"warning";return this.typeIconMap[t]||this.typeIconMap.warning},iconClass:function(){return this.item.iconClass?this.item.iconClass:this.iconConfig.icon},iconColor:function(){return this.iconConfig.iconColor},iconBgColor:function(){return this.iconConfig.bgColor}},methods:{closeModal:function(){this.$emit("onClose")},confirmCallback:function(){this.$emit("onConfirm")},cancelCallback:function(){this.$emit("onCancel")}}},l=(n(5621),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{class:["confirm-style2-box",t.item.type?"confrim-style2-".concat(t.item.type):""]},[e("div",{staticClass:"header-box"},[e("h1",{staticClass:"title-box"},[t._v(t._s(t.$t(t.item.title)))]),t._v(" "),e("div",{staticClass:"close-box",on:{click:t.closeModal}},[e("i",{staticClass:"iconfont icon-guanbi2"})])]),t._v(" "),e("div",{staticClass:"content-box"},[e("div",{staticClass:"content-icon",style:{background:t.iconBgColor}},[e("i",{class:["iconfont",t.iconClass],style:{color:t.iconColor}})]),t._v(" "),e("div",{staticClass:"content-box-text"},[e("h1",{staticClass:"content-title words-wrap"},[t._v(t._s(t.$t(t.item.contentTitle)))]),t._v(" "),e("p",{staticClass:"content-text words-wrap"},[t._v(t._s(t.$t(t.item.content)))])])]),t._v(" "),e("div",{staticClass:"footer-box"},[t.item.btnList.includes("cancel")?e("div",{staticClass:"cancel-box flex_c_m",on:{click:t.cancelCallback}},[t._v("\n      "+t._s(t.$t(t.item.cancelText))+"\n    ")]):t._e(),t._v(" "),t.item.btnList.includes("confirm")?e("div",{staticClass:"confirm-box flex_c_m",on:{click:t.confirmCallback}},[t._v("\n      "+t._s(t.$t(t.item.confirmText))+"\n    ")]):t._e()])])}),[],!1,null,"c3b274cc",null);e.default=component.exports},3429:function(t,e,n){"use strict";n.r(e);n(16),n(18),n(11),n(6),n(12),n(13);var o=n(3),r=n(2),l=(n(20),n(19),n(199),n(22),n(49),n(449),n(306),n(307),n(8),n(4),n(40),n(350),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(7),n(41),n(26),n(51)),c=n(29),d=n(104),h=n(10),f=n(1),m=n(264),v=n(121),_=n.n(v),y=n(61),w=n(80),C=n(623);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={name:"AiEraseDialog",props:{mask:{type:String,default:function(){return""}}},data:function(){return{dialogVisible:!1,intLoading:!0,intImg:{url:"",width:0,height:0,size:50},MasterDrawing:"",intHeight:0,intWidth:0,mouseX:0,mouseY:0,isMousedown:!1,sizeList:[{name:"400%",value:400},{name:"200%",value:200},{name:"125%",value:125},{name:"100%",value:100},{name:"75%",value:75},{name:"50%",value:50},{name:"30%",value:30},{name:"20%",value:20},{name:"10%",value:10},{name:"fitToScreen",value:50},{name:"ai_erase3",value:100}],toolType:"smear",toolList:[{name:this.$t("erasePage1"),icon:"iconfont icon-tumo",value:"smear"},{name:this.$t("fastToolsEraser"),icon:"iconfont icon-icon_zidongcachu",value:"eraser"},{name:this.$t("addMaticSelection"),icon:"iconfont icon-jianyiban",value:"quick"},{name:this.$t("cancelMaticSelection"),icon:"iconfont icon-jianyiban",value:"cancelQuick"}],brushSize:40,canvas:null,context:null,startX:0,startY:0,blankCanvas:"",currentStep:-1,historyList:[],isDrawing:!1,uploading:!1,UPLOAD:new l.a({type:20}),drewPoints:[],rectList:[],imgSegmentUrlList:[],hoverMaskUrl:"",hasHover:!0,debounceHandleMouseMove:null,imagesList:[],loading:!1,inTimes:!1,retryCount:0,jsonUrl:"",imgUrl:"",imgShow:!0,lengthOfLongSide:0,consumption:1,minScaleSize:10,maxScaleSize:400,callback:null,appData:null,appId:""}},watch:{dialogVisible:{handler:function(t){t||(this.intImg={url:"",width:0,height:0,size:100},this.toolType="smear",this.historyList=[],this.imagesList=[],this.imgSegmentUrlList=[],this.debounceHandleMouseMove=null,this.currentStep=-1,this.imgUrl="",this.imgShow=!0,this.MasterDrawing="")}}},components:{generateRectItem:m.default,GenerateButton:C.default},computed:O(O({},Object(f.c)("user",["isLoggedIn","cdnHostFun"])),{},{setCanvasStyle:function(){var t="";if(["smear","eraser"].includes(this.toolType)){var e=this.brushSize;e<10&&(e=10);var n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 ').concat(e," ").concat(e,'">\n    <circle cx="').concat(e/2,'" cy="').concat(e/2,'" r="').concat(e/2,'" fill="purple" fill-opacity="0.5" />\n  </svg>'),o=btoa(n),r="data:image/svg+xml;base64,".concat(o);t="url(".concat(r,") ").concat(e/2," ").concat(e/2,", auto")}return"rectangle"==this.toolType&&(t="url(https://".concat(this.cdnHostFun(),"/20240312/cb26a6cd-7ca5-4e32-a633-df7094cb570d.cur) 8 8, auto")),"noose"==this.toolType&&(t="url(https://".concat(this.cdnHostFun(),"/20240307/3b553f30-1a01-4287-85b9-b1840754b717.cur) 8 8, auto")),"drag"==this.toolType&&(t="grab"),t}}),created:function(){this.debounceHandleMouseMove=Object(d.throttle)(this.handleMouseMove,300)},mounted:function(){document.addEventListener("keydown",this.shortcutKey)},beforeDestroy:function(){document.removeEventListener("keydown",this.shortcutKey)},methods:{getWorkFlowAppDetail:function(){var t=this;Object(w.e)({template_id:this.appId}).then((function(e){t.appData=(null==e?void 0:e.data)||{}}))},setImageZoomIn:function(){this.intImg.size+10>=this.maxScaleSize?this.intImg.size=this.maxScaleSize:this.intImg.size+=10},setImageZoomOut:function(){this.intImg.size-10<=this.minScaleSize?this.intImg.size=this.minScaleSize:this.intImg.size-=10},resetData:function(){this.intImg={url:"",width:0,height:0,size:100},this.uploading=!1,this.toolType="smear",this.historyList=[],this.imagesList=[],this.imgSegmentUrlList=[],this.debounceHandleMouseMove=null,this.currentStep=-1,this.imgUrl="",this.imgShow=!0,this.MasterDrawing="",this.callback=null,this.appData=null},reupload:function(){this.$emit("reupload")},shortcutKey:function(t){(t.ctrlKey||t.metaKey)&&t.shiftKey&&"z"===t.key.toLowerCase()?this.handleNext():(t.ctrlKey||t.metaKey)&&"z"===t.key.toLowerCase()&&this.handlePre()},dwn:function(){Object(h.M)(this.imgUrl)},changeTool:function(t){this.toolType=t.value,this.setDrawType(),["cancelQuick","quick"].includes(this.toolType)&&!this.imgSegmentUrlList.length&&this.getSegmentMaskData()},handleMouseMove:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.checkCoordinate(t.offsetX,t.offsetY,e.imagesList);case 2:(o=n.sent)>=0&&e.hasHover&&e.setHoverMask(o);case 4:case"end":return n.stop()}}),n)})))()},getCacheSegmentMaskData:function(){var t=arguments;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["",null,void 0].includes(n=t.length>0&&void 0!==t[0]?t[0]:"")){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,_.a.getItem(n);case 5:return o=e.sent,e.abrupt("return",o||null);case 7:case"end":return e.stop()}}),e)})))()},setHoverMask:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!["",null,void 0,-1].includes(t)){n.next=3;break}return e.hoverMaskUrl="",n.abrupt("return");case 3:(r=new Image).src=e.imgSegmentUrlList[t],r.onload=Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=document.createElement("canvas")).width=e.intImg.width,n.height=e.intImg.height,(o=n.getContext("2d")).clearRect(0,0,e.intImg.width,e.intImg.height),o.globalCompositeOperation="source-in",o.fillStyle="#fff",o.fillRect(0,0,e.intImg.width,e.intImg.height),o.globalCompositeOperation="source-over",o.drawImage(r,0,0,e.intImg.width,e.intImg.height),e.hoverMaskUrl=n.toDataURL();case 11:case"end":return t.stop()}}),t)})));case 6:case"end":return n.stop()}}),n)})))()},selectRegion:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(["cancelQuick","quick"].includes(e.toolType)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.checkCoordinate(t.offsetX,t.offsetY,e.imagesList);case 4:(o=n.sent)>=0&&e.selectSegmentMask(o);case 6:case"end":return n.stop()}}),n)})))()},cancelSelectSegmentMask:function(t){var e=document.createElement("canvas"),n=this.intImg,o=n.width,r=n.height;e.width=o,e.height=r;var l=e.getContext("2d"),c=new Image;c.src=this.imgSegmentUrlList[t],c.onload=function(){for(var t=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],i=0;i<t.length;i+=2)l.drawImage(c,4*t[i],4*t[i+1],o,r);l.drawImage(c,0,0,o,r);for(var e=l.getImageData(0,0,o,r).data,n=this.context.getImageData(0,0,o,r),d=n.data,h=0;h<r;h++)for(var f=0;f<o;f++){var m=4*(h*o+f);e[m+3]>0&&(d[m]=0,d[m+1]=0,d[m+2]=0,d[m+3]=0)}this.context.putImageData(n,0,0)}},selectSegmentMask:function(t){var e=this,n=new Image,o=this.$refs.canvas.getContext("2d"),r=this.intImg,l=r.width,c=r.height;n.src=this.imgSegmentUrlList[t],n.onload=function(){o.globalCompositeOperation=["cancelQuick"].includes(e.toolType)?"destination-out":"source-over";for(var t=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],i=0;i<t.length;i+=2)o.drawImage(n,4*t[i],4*t[i+1],l,c);o.drawImage(n,0,0,l,c),e.saveToHistory()}},checkCoordinate:function(t,e,n){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",r.detectClickedImage(t,e,n));case 1:case"end":return o.stop()}}),o)})))()},detectClickedImage:function(t,e,n){for(var o=this.canvas.width/this.canvas.offsetWidth,i=n.length-1;i>=0;i--){var r=n[i],l=parseInt(t*o),c=parseInt(e*o);if(this.checkPixelTransparency(r,l,c))return i}},checkPixelTransparency:function(t,e,n){return 0!==t.data[4*(e+n*t.width)+3]},getSegmentMaskData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,d,h,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.loading||t.imgSegmentUrlList.length||t.uploading)){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.getCacheSegmentMaskData(null===(n=t.intImg)||void 0===n?void 0:n.url);case 5:if(!(o=e.sent)||!o.imgSegmentUrlList.length){e.next=12;break}return l=(r=o||{}).imgSegmentUrlList,d=void 0===l?[]:l,h=r.imagesList,f=void 0===h?[]:h,t.imgSegmentUrlList=d,t.imagesList=f,t.loading=!1,e.abrupt("return");case 12:m={action:14,meta:{smart_edit:{uri:t.intImg.url}}},Object(c.createTask)(m).then((function(e){1e4==e.status.code&&t.getTaskInfo([e.data.id])})).catch((function(e){t.loading=!1}));case 14:case"end":return e.stop()}}),e)})))()},getTaskInfo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o={};if(o.task_ids=t,o.scene=1,!["cancelQuick","quick"].includes(this.toolType))return this.inTimes&&clearTimeout(this.inTimes),this.loading=!1,this.uploading=!1,void(this.intLoading=!1);this.isLoggedIn||(o.g_mode=1),Object(c.batchFetchTaskProcess)(o).then((function(o){var r,l,c,d,h;if(1e4==o.status.code)if(null!==(r=o.data)&&void 0!==r&&r.items[0]&&3==(null===(l=o.data)||void 0===l||null===(l=l.items[0])||void 0===l?void 0:l.status))if(clearTimeout(e.inTimes),e.jsonUrl=null===(h=o.data)||void 0===h?void 0:h.items[0].segment,1==n)e.loadJsonFile(e.jsonUrl);else{var f,m;e.imgUrl=null===(f=o.data)||void 0===f||null===(f=f.items[0])||void 0===f||null===(f=f.img_uris[0])||void 0===f?void 0:f.url;var img=new Image;img.src=null===(m=o.data)||void 0===m||null===(m=m.items[0])||void 0===m||null===(m=m.img_uris[0])||void 0===m?void 0:m.url,img.onload=function(){e.intImg.url=img.src,e.uploading=!1,e.loading=!1,e.intLoading=!1,e.rectList=[],e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.saveToHistory()},img.onerror=function(){e.intImg.url=img.src,e.uploading=!1,e.loading=!1,e.intLoading=!1,e.rectList=[],e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.saveToHistory()}}else null!==(c=o.data)&&void 0!==c&&c.items[0]&&4==(null===(d=o.data)||void 0===d||null===(d=d.items[0])||void 0===d?void 0:d.status)?(clearTimeout(e.inTimes),e.loading=!1,e.intLoading=!1,e.uploading=!1):(clearTimeout(e.inTimes),e.inTimes=setTimeout((function(){e.getTaskInfo(t,n)}),1e3))})).catch((function(t){e.loading=!1,e.uploading=!1,e.intLoading=!1}))},loadJsonFile:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(e).then((function(e){return e.ok||t.$message.error(t.$t("ServerError")),e.json()})).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initCanvas(null==data?void 0:data.result);case 2:t.loading=!1;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(n){0===t.retryCount?(t.loadJsonFile(e).finally((function(){t.loading=!1})),t.retryCount++):t.$message.error(t.$t("ServerError"))}))},initCanvas:function(){var t=arguments,e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var data,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return data=t.length>0&&void 0!==t[0]?t[0]:[],e.imgSegmentUrlList=data.map((function(t){return"data:image/png;base64,".concat(t.mask_png)})),n.next=4,e.loadAllMask(e.imgSegmentUrlList);case 4:if(e.imagesList=n.sent,!e.imagesList.length){n.next=10;break}return{},r={imgSegmentUrlList:e.imgSegmentUrlList,imagesList:e.imagesList},n.next=10,_.a.setItem(null===(o=e.intImg)||void 0===o?void 0:o.url,r);case 10:case"end":return n.stop()}}),n)})))()},loadAllMask:function(){var t=this,source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.intImg||{},n=e.width,o=e.height,r=(source||[]).map((function(t){return new Promise((function(e,n){var img=new Image;img.onload=function(){return e(img)},img.onerror=function(t){return n(t)},img.src=t}))}));return Promise.all(r).then((function(e){for(var r=[],i=0;i<e.length;i++){var img=e[i],l=document.createElement("canvas");l.width=n,l.height=o;var c=l.getContext("2d");c.drawImage(img,0,0,t.intImg.width,t.intImg.height);var d=c.getImageData(0,0,t.intImg.width,t.intImg.height);d.data;c.putImageData(d,0,0);var h=l.toDataURL();t.$set(t.imgSegmentUrlList,i,h);var f=c.getImageData(0,0,t.intImg.width,t.intImg.height);r.push(f),l=null,c=null}return r}))},show:function(t){var e=this,n=t.url,o=t.callback,r=void 0===o?null:o,l=t.appId,c=void 0===l?"":l;this.callback=r,this.appId=c,this.getWorkFlowAppDetail(),this.currentStep=-1,this.historyList=[],this.rectList=[],this.toolType="smear",this.context&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.intImg.url="",this.imgUrl="",this.MasterDrawing="",this.imagesList=[],this.debounceHandleMouseMove=Object(d.throttle)(this.handleMouseMove,300),this.intLoading=!0,this.$nextTick((function(){e.intImg.url=n,e.MasterDrawing=n,e.dialogVisible=!0,e.imgLoad()}))},intSize:function(){var t=window.innerHeight-240,e=this.intImg.height;this.intImg.width>2*this.intImg.height&&(t=window.innerWidth-100,e=window.innerWidth),this.intImg.size=parseInt(t/e*100)},changeSize:function(t){var e=this;if("fitToScreen"==t.name){var n=this.$refs.draggable;return n.style.left=null,n.style.top=null,void this.$nextTick((function(){e.intSize()}))}this.intImg.size=t.value},setConsumption:function(){this.consumption=1,this.lengthOfLongSide>=1024&&this.lengthOfLongSide<=2048?this.consumption=1.5:this.lengthOfLongSide>=2048&&this.lengthOfLongSide<=4096&&(this.consumption=4)},setDrawType:function(){this.context&&(this.context.globalCompositeOperation="eraser"===this.toolType?"destination-out":"source-over")},imgLoad:function(){this.intLoading=!0;var img=new Image;img.src=this.intImg.url;var t=this;img.onload=function(){t.lengthOfLongSide=Math.max(this.width,this.height),t.setConsumption(),t.intImg.width=this.width,t.intImg.height=this.height,t.intSize(),t.intLoading=!1,t.$nextTick(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canvas=t.$refs.canvas,t.context=t.canvas.getContext("2d"),t.context.fillStyle="rgba(255, 255, 255, 1)",t.context.lineJoin="round",t.context.lineCap="round",t.rectCanvas=t.$refs.rectCanvas,t.rectText=t.rectCanvas.getContext("2d"),t.rectText.strokeStyle="rgba(0,0,0,1)",t.rectText.fillStyle="rgba(255, 255, 255, 1)",t.rectText.lineJoin="round",t.rectText.lineCap="round",t.blankCanvas=t.canvas.toDataURL(),!t.mask){e.next=15;break}return e.next=15,t.displayMaskToCanvas(t.mask);case 15:t.saveToHistory();case 16:case"end":return e.stop()}}),e)}))))},img.onerror=function(){t.$message.error(t.$t("ai_erase4")),t.intLoading=!1}},displayMaskToCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this;return new Promise((function(n,o){var img=new Image;img.onload=function(){e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.context.drawImage(img,0,0,e.canvas.width,e.canvas.height),n()},img.onerror=function(t){n()},img.src=t}))},downElement:function(t){if("drag"==this.toolType){this.isMousedown=!0;var e=this.$refs.draggable;this.mouseX=t.clientX-e.offsetLeft,this.mouseY=t.clientY-e.offsetTop}},moveElement:function(t){if(this.isMousedown&&"drag"==this.toolType){var e=this.$refs.draggable;e.style.left=t.clientX-this.mouseX+"px",e.style.top=t.clientY-this.mouseY+"px"}},seupElement:function(){"drag"==this.toolType&&(this.isMousedown=!1)},startDrawing:function(t){if(["smear","eraser","noose"].includes(this.toolType))if(this.isDrawing=!0,this.startX=t.offsetX,this.startY=t.offsetY,["smear","eraser"].includes(this.toolType))this.context.strokeStyle="#fff",this.context.lineWidth=this.brushSize<10?10:this.brushSize,this.context.setLineDash([]);else if("noose"==this.toolType){var e=this.$refs.draggable;this.context.strokeStyle="rgba(0,0,0,1)";var n=e.getBoundingClientRect();this.drewPoints.push([{x:t.clientX-n.left,y:t.clientY-n.top}]),this.context.setLineDash([10,5]),this.context.lineWidth=2}},draw:function(t){if(this.isDrawing){var e,n,o=this.canvas.width/this.canvas.offsetWidth;if(this.context.scale(o,o),["smear","eraser"].includes(this.toolType)){var r=t.offsetX,l=t.offsetY;this.context.beginPath(),this.context.moveTo(this.startX,this.startY),this.context.lineTo(r,l),this.context.stroke(),this.startX=r,this.startY=l}else if("noose"==this.toolType){var c,d,h=this.$refs.draggable.getBoundingClientRect();c=t.clientX,d=t.clientY;var f=this.drewPoints[this.drewPoints.length-1];f.push({x:c-h.left,y:d-h.top});var m=f[0],v=f[1],_=f.length;this.context.beginPath(),this.context.moveTo(m.x,m.y);for(var i=1;i<_;i++){var y=(n=v,{x:(e=m).x+(n.x-e.x)/2,y:e.y+(n.y-e.y)/2});this.context.quadraticCurveTo(m.x,m.y,y.x,y.y),m=f[i],v=f[i+1]}this.context.lineTo(m.x,m.y),this.context.stroke()}this.context.scale(1/o,1/o)}},stopDrawing:function(){["smear","noose","eraser"].includes(this.toolType)&&this.isDrawing&&(this.isDrawing=!1,"noose"==this.toolType&&(this.context.closePath(),this.context.stroke(),this.context.fill()),this.saveToHistory())},startRectDrawing:function(t){"rectangle"==this.toolType&&(this.isDrawing=!0,this.startX=t.offsetX,this.startY=t.offsetY)},rectDraw:function(t){var e=this;if(this.isDrawing){var n=t.offsetX,o=t.offsetY;this.rectText.clearRect(0,0,this.rectCanvas.width,this.rectCanvas.height),this.$nextTick((function(){var t=e.rectCanvas.width/e.rectCanvas.offsetWidth;e.rectText.scale(t,t),e.rectText.beginPath(),e.rectText.rect(e.startX,e.startY,n-e.startX,o-e.startY),e.rectText.fill(),e.rectText.stroke(),e.rectText.scale(1/t,1/t)})),this.rectCanvas.style.zIndex=9999}},stopRectDrawing:function(t){if("rectangle"==this.toolType&&this.isDrawing){this.isDrawing=!1,this.rectText.clearRect(0,0,this.rectCanvas.width,this.rectCanvas.height);var e=t.offsetX,n=t.offsetY;this.rectList.push({left:e-this.startX>0?this.startX:e,top:n-this.startY>0?this.startY:n,width:Math.abs(e-this.startX),height:Math.abs(n-this.startY)}),this.saveToHistory(),this.rectCanvas.style.zIndex=2}},rectDelete:function(t){this.rectList.splice(t,1)},rectChange:function(t){this.rectList[t.index].top=t.top,this.rectList[t.index].left=t.left,this.rectList[t.index].width=t.width,this.rectList[t.index].height=t.height},saveToHistory:function(){var t=JSON.parse(JSON.stringify(this.rectList)),e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),img=JSON.parse(JSON.stringify(this.intImg.url));this.currentStep++,1==this.currentStep&&this.historyList.splice(1,this.historyList.length-1),this.historyList.push({currentImageData:e,rects:t,img:img}),this.currentStep=this.historyList.length-1},handlePre:function(){this.historyList.length>0&&this.currentStep>0&&(this.currentStep--,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.putImageData(this.historyList[this.currentStep].currentImageData,0,0),this.rectList=JSON.parse(JSON.stringify(this.historyList[this.currentStep].rects)),this.intImg.url=JSON.parse(JSON.stringify(this.historyList[this.currentStep].img)))},handleNext:function(){this.currentStep<this.historyList.length-1&&(this.currentStep++,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.putImageData(this.historyList[this.currentStep].currentImageData,0,0),this.rectList=JSON.parse(JSON.stringify(this.historyList[this.currentStep].rects)),this.intImg.url=JSON.parse(JSON.stringify(this.historyList[this.currentStep].img)))},handleReset:function(){this.historyList.length>1&&(this.currentStep=-1,this.historyList=[],this.rectList=[],this.toolType="smear",this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.intImg.url=this.MasterDrawing,this.imgUrl="",this.imgLoad())},checkImageSize:function(t){var e=this;return new Promise((function(n,o){var r=new FileReader;r.onload=function(t){var img=new Image;img.onload=function(){var t=img.width,o=img.height;e.$set(e,"style",{width:t,height:o});var r=[t,o].every((function(t){return t<=4096}));n(r)},img.onerror=function(){o(!1)},img.src=t.target.result},r.readAsDataURL(t)}))},getMaskImage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,i,l,c,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedIn){e.next=3;break}return t.$EventBus.$emit("openLoginDialog"),e.abrupt("return");case 3:if(t.intImg.width){e.next=5;break}return e.abrupt("return");case 5:if(!t.uploading&&!t.loading){e.next=7;break}return e.abrupt("return");case 7:for(t.uploading=!0,t.loading=!0,(n=document.createElement("canvas")).width=t.intImg.width,n.height=t.intImg.height,(o=n.getContext("2d")).clearRect(0,0,n.width,n.height),r=t.context.getImageData(0,0,t.canvas.width,t.canvas.height),i=0;i<r.data.length;i+=4)255==r.data[i+3]?r.data[i+3]=0:r.data[i+3]=255,r.data[i]=0,r.data[i+1]=0,r.data[i+2]=0;if(o.putImageData(r,0,0),l=t.canvas.width/t.canvas.offsetWidth,t.rectList.length>0&&t.rectList.forEach((function(t){o.fillStyle="rgba(255, 255, 255, 1)",o.beginPath(),o.rect(t.left*l,t.top*l,t.width*l,t.height*l),o.fill()})),(c=n.toDataURL("image/png",.1))!==t.blankCanvas){e.next=25;break}return t.handleGenerate(),t.uploading=!1,t.loading=!1,e.abrupt("return");case 25:d=t.dataURLToBlob(c),h="clipspace-mask-"+Date.now()+".png",t.uploadMask(d,h);case 28:case"end":return e.stop()}}),e)})))()},dataURLToBlob:function(t){for(var e=t.split(";base64,"),n=e[0].split(":")[1],o=atob(e[1]),r=new ArrayBuffer(o.length),l=new Uint8Array(r),i=0;i<o.length;i++)l[i]=o.charCodeAt(i);return new Blob([r],{type:n})},uploadMask:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,l,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r="",o.prev=1,!(t.size/1024/1024>10)){o.next=12;break}return o.prev=3,o.next=6,Object(y.a)(t,10485760);case 6:t=o.sent,o.next=12;break;case 9:return o.prev=9,o.t0=o.catch(3),o.abrupt("return");case 12:return c=(null===(l=n.intImg)||void 0===l?void 0:l.url)||"",o.next=15,n.UPLOAD.startUpload(t,{category:20,name:"".concat(e),type:"png",isRedirection:!0,sub_category:1,originalMergeUrl:c,mergeCategory:2}).then((function(t){t&&(r=t,n.handleGenerate(r))})).catch((function(t){n.$message.error(n.$t("uploadError"))}));case 15:n.loading=!1,o.next=22;break;case 18:o.prev=18,o.t1=o.catch(1),n.$message.error(n.$t("uploadError")),n.loading=!1;case 22:case"end":return o.stop()}}),o,null,[[1,18],[3,9]])})))()},handleClose:function(){this.resetData(),this.dialogVisible=!1},handleGenerate:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=(null===(o=e.appData)||void 0===o?void 0:o.inputs)||[]).length){n.next=3;break}return n.abrupt("return");case 3:l=r[0],c=l.field,d=l.node_id,h=l.node_type,f={apply_id:e.appId,inputs:[{field:c,node_id:d,node_type:h,val:t||e.intImg.url}]},e.intLoading=!0,e.$emit("generateTask",f,e.appData,(function(t,data){e.intLoading=!1,"error"!==t?(e.callback&&e.callback(data),e.handleClose()):e.$message.error(e.$t("comicPage17"))}));case 7:case"end":return n.stop()}}),n)})))()}}},j=k,I=(n(5628),n(5629),n(0)),component=Object(I.a)(j,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"c-generate-redraw-modal",fullscreen:!0,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.intLoading,expression:"intLoading"}],staticClass:"main"},[e("div",{staticClass:"top"},[e("div",{staticClass:"topItem"},[e("div",{staticClass:"back",on:{click:function(e){t.dialogVisible=!1}}},[e("i",{staticClass:"el-icon-back"})])]),t._v(" "),e("div",{staticClass:"topItem",class:{disabledStyle:t.intLoading}},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("ai_erase")))])]),t._v(" "),e("div",{staticClass:"topItem",staticStyle:{visibility:"hidden"}})]),t._v(" "),e("div",{staticClass:"right",class:{disabledStyle:t.intLoading}},[e("div",{staticClass:"dragIcon",on:{click:function(e){"drag"==t.toolType?t.toolType="smear":t.toolType="drag"}}},[e("i",{staticClass:"iconfont icon-zhuashou-copy",style:{color:"drag"==t.toolType?"#4784FF":null}})]),t._v(" "),e("div",{staticClass:"sizeBox"},[e("div",{staticClass:"sizeBnt",class:{disabledStyle:t.intImg.size<=t.minScaleSize},on:{click:t.setImageZoomOut}},[e("i",{staticClass:"el-icon-minus"})]),t._v(" "),e("el-popover",{attrs:{placement:"top",trigger:"hover","visible-arrow":!1,"popper-class":"sizeListBox"}},[e("div",{staticClass:"sizeList"},t._l(t.sizeList,(function(n,o){return e("div",{key:o,staticClass:"sizeItem",on:{click:function(e){return t.changeSize(n)}}},[t._v("\n              "+t._s(t.$t(n.name))+"\n            ")])})),0),t._v(" "),e("div",{staticClass:"sizeNum",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.intImg.size)+"%")])]),t._v(" "),e("div",{staticClass:"sizeBnt",class:{disabledStyle:t.intImg.size>=t.maxScaleSize},on:{click:t.setImageZoomIn}},[e("i",{staticClass:"el-icon-plus"})])],1)]),t._v(" "),e("div",{staticClass:"left",class:{disabledStyle:t.intLoading}},t._l(t.toolList,(function(n,o){return e("div",{key:o,staticClass:"toolItem",class:{activateToolItem:t.toolType==n.value},on:{click:function(e){return t.changeTool(n)}}},[e("i",{class:n.icon}),t._v(" "),e("span",[t._v(t._s(t.$t(n.name)))]),t._v(" "),"smear"==n.value&&"smear"==t.toolType||"eraser"==n.value&&"eraser"==t.toolType?e("div",{staticClass:"lineSize"},[e("span",[t._v(t._s(t.$t("Size")))]),t._v(" "),e("el-slider",{attrs:{"show-input":"","show-input-controls":!1,min:10},model:{value:t.brushSize,callback:function(e){t.brushSize=e},expression:"brushSize"}})],1):t._e()])})),0),t._v(" "),t.intLoading?t._e():e("div",{ref:"draggable",staticClass:"draggable",style:{width:t.intImg.width*t.intImg.size/100+"px",height:t.intImg.height*t.intImg.size/100+"px",cursor:t.setCanvasStyle},attrs:{id:"draggable"},on:{mousedown:function(e){return e.preventDefault(),t.downElement.apply(null,arguments)},mousemove:function(e){return e.preventDefault(),t.moveElement.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),t.seupElement.apply(null,arguments)}}},[t.loading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"laodMsk"}):t._e(),t._v(" "),t.intImg.url?e("img",{directives:[{name:"show",rawName:"v-show",value:t.imgShow,expression:"imgShow"}],attrs:{src:t.intImg.url,alt:""}}):t._e(),t._v(" "),t.MasterDrawing?e("img",{directives:[{name:"show",rawName:"v-show",value:!t.imgShow,expression:"!imgShow"}],attrs:{src:t.MasterDrawing,alt:""}}):t._e(),t._v(" "),e("canvas",{ref:"canvas",attrs:{width:t.intImg.width,height:t.intImg.height},on:{"&mousedown":function(e){return t.startDrawing.apply(null,arguments)},"&mousemove":function(e){["cancelQuick","quick"].includes(t.toolType)?t.debounceHandleMouseMove(e):t.draw(e)},"&mouseup":function(e){return t.stopDrawing.apply(null,arguments)},mouseenter:function(e){t.hasHover=!0},mouseleave:function(e){t.hasHover=!1,t.hoverMaskUrl="",t.stopDrawing()},mousedown:t.selectRegion}}),t._v(" "),t.hoverMaskUrl?e("img",{staticClass:"segment-image-draw-img-hover-mask",style:{width:t.intImg.width*t.intImg.size/100+"px",height:t.intImg.height*t.intImg.size/100+"px"},attrs:{src:t.hoverMaskUrl,alt:""}}):t._e(),t._v(" "),e("canvas",{directives:[{name:"show",rawName:"v-show",value:"rectangle"==t.toolType,expression:"toolType == 'rectangle'"}],ref:"rectCanvas",staticClass:"rectCanvas",attrs:{width:t.intImg.width,height:t.intImg.height},on:{"&mousedown":function(e){return t.startRectDrawing.apply(null,arguments)},"&mousemove":function(e){return t.rectDraw.apply(null,arguments)},"&mouseup":function(e){return t.stopRectDrawing.apply(null,arguments)}}}),t._v(" "),t._l(t.rectList,(function(n,o){return e("generate-rect-item",{key:"rect"+o,attrs:{item:n,index:o,size:t.intImg.size},on:{delete:t.rectDelete,change:t.rectChange}})}))],2),t._v(" "),t.appData?e("div",{staticClass:"generate-btn-box",attrs:{"data-group":"ai-app-erase-generate","data-id":t.appId,"data-type":"ai-app-image-edit","data-sub-type":"ai-app-erase","data-desc":"ai应用图片编辑智能消除弹窗-生成点击"},on:{click:t.getMaskImage}},[e("GenerateButton",{attrs:{data:t.appData,loading:t.intLoading}})],1):t._e()])])}),[],!1,null,"74e4ba74",null);e.default=component.exports;installComponents(component,{GenerateRectItem:n(264).default})},3430:function(t,e,n){"use strict";n.r(e);n(16),n(18),n(11),n(6),n(12),n(13);var o=n(3),r=n(2),l=(n(20),n(19),n(199),n(32),n(22),n(49),n(449),n(306),n(307),n(8),n(4),n(40),n(350),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(7),n(41),n(26),n(51)),c=n(29),d=n(104),h=n(10),f=n(1),m=n(264),v=n(121),_=n.n(v),y=n(61),w=n(80),C=n(623),x=n(9);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j={name:"PartialRedrawingDialog",props:{mask:{type:String,default:function(){return""}}},data:function(){return{dialogVisible:!1,intLoading:!0,intImg:{url:"",width:0,height:0,size:50},MasterDrawing:"",intHeight:0,intWidth:0,mouseX:0,mouseY:0,isMousedown:!1,sizeList:[{name:"400%",value:400},{name:"200%",value:200},{name:"125%",value:125},{name:"100%",value:100},{name:"75%",value:75},{name:"50%",value:50},{name:"30%",value:30},{name:"20%",value:20},{name:"10%",value:10},{name:"fitToScreen",value:50},{name:"ai_erase3",value:100}],toolType:"smear",toolList:[{name:this.$t("erasePage1"),icon:"iconfont icon-tumo",value:"smear"},{name:this.$t("fastToolsEraser"),icon:"iconfont icon-icon_zidongcachu",value:"eraser"},{name:this.$t("addMaticSelection"),icon:"iconfont icon-jianyiban",value:"quick"},{name:this.$t("cancelMaticSelection"),icon:"iconfont icon-jianyiban",value:"cancelQuick"}],brushSize:40,canvas:null,context:null,startX:0,startY:0,blankCanvas:"",currentStep:-1,historyList:[],isDrawing:!1,UPLOAD:new l.a({type:20}),drewPoints:[],rectList:[],imgSegmentUrlList:[],hoverMaskUrl:"",hasHover:!0,debounceHandleMouseMove:null,imagesList:[],loading:!1,inTimes:!1,retryCount:0,jsonUrl:"",imgUrl:"",imgShow:!0,lengthOfLongSide:0,consumption:1,minScaleSize:10,maxScaleSize:400,callback:null,appId:"",appData:null,prompt:""}},watch:{dialogVisible:{handler:function(t){t||(this.intImg={url:"",width:0,height:0,size:100},this.toolType="smear",this.historyList=[],this.imagesList=[],this.imgSegmentUrlList=[],this.debounceHandleMouseMove=null,this.currentStep=-1,this.imgUrl="",this.imgShow=!0,this.MasterDrawing="")}}},components:{generateRectItem:m.default,GenerateButton:C.default},computed:k(k({},Object(f.c)("user",["isLoggedIn","cdnHostFun"])),{},{setCanvasStyle:function(){var t="";if(["smear","eraser"].includes(this.toolType)){var e=this.brushSize;e<10&&(e=10);var n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 ').concat(e," ").concat(e,'">\n    <circle cx="').concat(e/2,'" cy="').concat(e/2,'" r="').concat(e/2,'" fill="purple" fill-opacity="0.5" />\n  </svg>'),o=btoa(n),r="data:image/svg+xml;base64,".concat(o);t="url(".concat(r,") ").concat(e/2," ").concat(e/2,", auto")}return"rectangle"==this.toolType&&(t="url(https://".concat(this.cdnHostFun(),"/20240312/cb26a6cd-7ca5-4e32-a633-df7094cb570d.cur) 8 8, auto")),"noose"==this.toolType&&(t="url(https://".concat(this.cdnHostFun(),"/20240307/3b553f30-1a01-4287-85b9-b1840754b717.cur) 8 8, auto")),"drag"==this.toolType&&(t="grab"),t}}),created:function(){this.debounceHandleMouseMove=Object(d.throttle)(this.handleMouseMove,300)},mounted:function(){document.addEventListener("keydown",this.shortcutKey)},beforeDestroy:function(){document.removeEventListener("keydown",this.shortcutKey)},methods:{getWorkFlowAppDetail:function(){var t=this;Object(w.e)({template_id:this.appId}).then((function(e){t.appData=(null==e?void 0:e.data)||{}}))},setImageZoomIn:function(){this.intImg.size+10>=this.maxScaleSize?this.intImg.size=this.maxScaleSize:this.intImg.size+=10},setImageZoomOut:function(){this.intImg.size-10<=this.minScaleSize?this.intImg.size=this.minScaleSize:this.intImg.size-=10},resetData:function(){this.intImg={url:"",width:0,height:0,size:100},this.toolType="smear",this.historyList=[],this.imagesList=[],this.imgSegmentUrlList=[],this.debounceHandleMouseMove=null,this.currentStep=-1,this.imgUrl="",this.imgShow=!0,this.MasterDrawing="",this.callback=null,this.appData=null},reupload:function(){this.$emit("reupload")},shortcutKey:function(t){(t.ctrlKey||t.metaKey)&&t.shiftKey&&"z"===t.key.toLowerCase()?this.handleNext():(t.ctrlKey||t.metaKey)&&"z"===t.key.toLowerCase()&&this.handlePre()},dwn:function(){Object(h.M)(this.imgUrl)},changeTool:function(t){this.toolType=t.value,this.setDrawType(),["cancelQuick","quick"].includes(this.toolType)&&!this.imgSegmentUrlList.length&&this.getSegmentMaskData()},handleMouseMove:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.checkCoordinate(t.offsetX,t.offsetY,e.imagesList);case 2:(o=n.sent)>=0&&e.hasHover&&e.setHoverMask(o);case 4:case"end":return n.stop()}}),n)})))()},getCacheSegmentMaskData:function(){var t=arguments;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["",null,void 0].includes(n=t.length>0&&void 0!==t[0]?t[0]:"")){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,_.a.getItem(n);case 5:return o=e.sent,e.abrupt("return",o||null);case 7:case"end":return e.stop()}}),e)})))()},setHoverMask:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!["",null,void 0,-1].includes(t)){n.next=3;break}return e.hoverMaskUrl="",n.abrupt("return");case 3:(r=new Image).src=e.imgSegmentUrlList[t],r.onload=Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=document.createElement("canvas")).width=e.intImg.width,n.height=e.intImg.height,(o=n.getContext("2d")).clearRect(0,0,e.intImg.width,e.intImg.height),o.globalCompositeOperation="source-in",o.fillStyle="#fff",o.fillRect(0,0,e.intImg.width,e.intImg.height),o.globalCompositeOperation="source-over",o.drawImage(r,0,0,e.intImg.width,e.intImg.height),e.hoverMaskUrl=n.toDataURL();case 11:case"end":return t.stop()}}),t)})));case 6:case"end":return n.stop()}}),n)})))()},selectRegion:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(["cancelQuick","quick"].includes(e.toolType)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.checkCoordinate(t.offsetX,t.offsetY,e.imagesList);case 4:(o=n.sent)>=0&&e.selectSegmentMask(o);case 6:case"end":return n.stop()}}),n)})))()},cancelSelectSegmentMask:function(t){var e=document.createElement("canvas"),n=this.intImg,o=n.width,r=n.height;e.width=o,e.height=r;var l=e.getContext("2d"),c=new Image;c.src=this.imgSegmentUrlList[t],c.onload=function(){for(var t=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],i=0;i<t.length;i+=2)l.drawImage(c,4*t[i],4*t[i+1],o,r);l.drawImage(c,0,0,o,r);for(var e=l.getImageData(0,0,o,r).data,n=this.context.getImageData(0,0,o,r),d=n.data,h=0;h<r;h++)for(var f=0;f<o;f++){var m=4*(h*o+f);e[m+3]>0&&(d[m]=0,d[m+1]=0,d[m+2]=0,d[m+3]=0)}this.context.putImageData(n,0,0)}},selectSegmentMask:function(t){var e=this,n=new Image,o=this.$refs.canvas.getContext("2d"),r=this.intImg,l=r.width,c=r.height;n.src=this.imgSegmentUrlList[t],n.onload=function(){o.globalCompositeOperation=["cancelQuick"].includes(e.toolType)?"destination-out":"source-over";for(var t=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],i=0;i<t.length;i+=2)o.drawImage(n,4*t[i],4*t[i+1],l,c);o.drawImage(n,0,0,l,c),e.saveToHistory()}},checkCoordinate:function(t,e,n){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",r.detectClickedImage(t,e,n));case 1:case"end":return o.stop()}}),o)})))()},detectClickedImage:function(t,e,n){for(var o=this.canvas.width/this.canvas.offsetWidth,i=n.length-1;i>=0;i--){var r=n[i],l=parseInt(t*o),c=parseInt(e*o);if(this.checkPixelTransparency(r,l,c))return i}},checkPixelTransparency:function(t,e,n){return 0!==t.data[4*(e+n*t.width)+3]},getSegmentMaskData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,d,h,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading&&!t.imgSegmentUrlList.length){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.getCacheSegmentMaskData(null===(n=t.intImg)||void 0===n?void 0:n.url);case 5:if(!(o=e.sent)||!o.imgSegmentUrlList.length){e.next=12;break}return l=(r=o||{}).imgSegmentUrlList,d=void 0===l?[]:l,h=r.imagesList,f=void 0===h?[]:h,t.imgSegmentUrlList=d,t.imagesList=f,t.loading=!1,e.abrupt("return");case 12:m={action:14,meta:{smart_edit:{uri:t.intImg.url}}},Object(c.createTask)(m).then((function(e){1e4==e.status.code&&t.getTaskInfo([e.data.id])})).catch((function(e){t.loading=!1}));case 14:case"end":return e.stop()}}),e)})))()},getTaskInfo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o={};if(o.task_ids=t,o.scene=1,!["cancelQuick","quick"].includes(this.toolType))return this.inTimes&&clearTimeout(this.inTimes),this.loading=!1,void(this.intLoading=!1);this.isLoggedIn||(o.g_mode=1),Object(c.batchFetchTaskProcess)(o).then((function(o){var r,l,c,d,h;if(1e4==o.status.code)if(null!==(r=o.data)&&void 0!==r&&r.items[0]&&3==(null===(l=o.data)||void 0===l||null===(l=l.items[0])||void 0===l?void 0:l.status))if(clearTimeout(e.inTimes),e.jsonUrl=null===(h=o.data)||void 0===h?void 0:h.items[0].segment,1==n)e.loadJsonFile(e.jsonUrl);else{var f,m;e.imgUrl=null===(f=o.data)||void 0===f||null===(f=f.items[0])||void 0===f||null===(f=f.img_uris[0])||void 0===f?void 0:f.url;var img=new Image;img.src=null===(m=o.data)||void 0===m||null===(m=m.items[0])||void 0===m||null===(m=m.img_uris[0])||void 0===m?void 0:m.url,img.onload=function(){e.intImg.url=img.src,e.loading=!1,e.intLoading=!1,e.rectList=[],e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.saveToHistory()},img.onerror=function(){e.intImg.url=img.src,e.loading=!1,e.intLoading=!1,e.rectList=[],e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.saveToHistory()}}else null!==(c=o.data)&&void 0!==c&&c.items[0]&&4==(null===(d=o.data)||void 0===d||null===(d=d.items[0])||void 0===d?void 0:d.status)?(clearTimeout(e.inTimes),e.loading=!1,e.intLoading=!1):(clearTimeout(e.inTimes),e.inTimes=setTimeout((function(){e.getTaskInfo(t,n)}),1e3))})).catch((function(t){e.loading=!1,e.intLoading=!1}))},loadJsonFile:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(e).then((function(e){return e.ok||t.$message.error(t.$t("ServerError")),e.json()})).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initCanvas(null==data?void 0:data.result);case 2:t.loading=!1;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(n){0===t.retryCount?(t.loadJsonFile(e).finally((function(){t.loading=!1})),t.retryCount++):t.$message.error(t.$t("ServerError"))}))},initCanvas:function(){var t=arguments,e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var data,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return data=t.length>0&&void 0!==t[0]?t[0]:[],e.imgSegmentUrlList=data.map((function(t){return"data:image/png;base64,".concat(t.mask_png)})),n.next=4,e.loadAllMask(e.imgSegmentUrlList);case 4:if(e.imagesList=n.sent,!e.imagesList.length){n.next=10;break}return{},r={imgSegmentUrlList:e.imgSegmentUrlList,imagesList:e.imagesList},n.next=10,_.a.setItem(null===(o=e.intImg)||void 0===o?void 0:o.url,r);case 10:case"end":return n.stop()}}),n)})))()},loadAllMask:function(){var t=this,source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.intImg||{},n=e.width,o=e.height,r=(source||[]).map((function(t){return new Promise((function(e,n){var img=new Image;img.onload=function(){return e(img)},img.onerror=function(t){return n(t)},img.src=t}))}));return Promise.all(r).then((function(e){for(var r=[],i=0;i<e.length;i++){var img=e[i],l=document.createElement("canvas");l.width=n,l.height=o;var c=l.getContext("2d");c.drawImage(img,0,0,t.intImg.width,t.intImg.height);var d=c.getImageData(0,0,t.intImg.width,t.intImg.height);d.data;c.putImageData(d,0,0);var h=l.toDataURL();t.$set(t.imgSegmentUrlList,i,h);var f=c.getImageData(0,0,t.intImg.width,t.intImg.height);r.push(f),l=null,c=null}return r}))},show:function(t){var e=this,n=t.url,o=t.callback,r=void 0===o?null:o,l=t.appId,c=void 0===l?"":l;this.callback=r,this.appId=c,this.prompt="",this.getWorkFlowAppDetail(),this.currentStep=-1,this.historyList=[],this.rectList=[],this.toolType="smear",this.context&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.intImg.url="",this.imgUrl="",this.MasterDrawing="",this.imagesList=[],this.debounceHandleMouseMove=Object(d.throttle)(this.handleMouseMove,300),this.intLoading=!0,this.$nextTick((function(){e.intImg.url=n,e.MasterDrawing=n,e.dialogVisible=!0,e.imgLoad()}))},intSize:function(){var t=window.innerHeight-350,e=this.intImg.height;this.intImg.width>2*this.intImg.height&&(t=window.innerWidth-100,e=window.innerWidth),this.intImg.size=parseInt(t/e*100)},changeSize:function(t){var e=this;if("fitToScreen"==t.name){var n=this.$refs.draggable;return n.style.left=null,n.style.top=null,void this.$nextTick((function(){e.intSize()}))}this.intImg.size=t.value},setConsumption:function(){this.consumption=1,this.lengthOfLongSide>=1024&&this.lengthOfLongSide<=2048?this.consumption=1.5:this.lengthOfLongSide>=2048&&this.lengthOfLongSide<=4096&&(this.consumption=4)},setDrawType:function(){this.context&&(this.context.globalCompositeOperation="eraser"===this.toolType?"destination-out":"source-over")},imgLoad:function(){this.intLoading=!0;var img=new Image;img.src=this.intImg.url;var t=this;img.onload=function(){t.lengthOfLongSide=Math.max(this.width,this.height),t.setConsumption(),t.intImg.width=this.width,t.intImg.height=this.height,t.intSize(),t.intLoading=!1,t.$nextTick(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canvas=t.$refs.canvas,t.context=t.canvas.getContext("2d"),t.context.fillStyle="rgba(255, 255, 255, 1)",t.context.lineJoin="round",t.context.lineCap="round",t.rectCanvas=t.$refs.rectCanvas,t.rectText=t.rectCanvas.getContext("2d"),t.rectText.strokeStyle="rgba(0,0,0,1)",t.rectText.fillStyle="rgba(255, 255, 255, 1)",t.rectText.lineJoin="round",t.rectText.lineCap="round",t.blankCanvas=t.canvas.toDataURL(),!t.mask){e.next=15;break}return e.next=15,t.displayMaskToCanvas(t.mask);case 15:t.saveToHistory();case 16:case"end":return e.stop()}}),e)}))))},img.onerror=function(){t.$message.error(t.$t("ai_erase4")),t.intLoading=!1}},displayMaskToCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this;return new Promise((function(n,o){var img=new Image;img.onload=function(){e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.context.drawImage(img,0,0,e.canvas.width,e.canvas.height),n()},img.onerror=function(t){n()},img.src=t}))},downElement:function(t){if("drag"==this.toolType){this.isMousedown=!0;var e=this.$refs.draggable;this.mouseX=t.clientX-e.offsetLeft,this.mouseY=t.clientY-e.offsetTop}},moveElement:function(t){if(this.isMousedown&&"drag"==this.toolType){var e=this.$refs.draggable;e.style.left=t.clientX-this.mouseX+"px",e.style.top=t.clientY-this.mouseY+"px"}},seupElement:function(){"drag"==this.toolType&&(this.isMousedown=!1)},startDrawing:function(t){if(["smear","eraser","noose"].includes(this.toolType))if(this.isDrawing=!0,this.startX=t.offsetX,this.startY=t.offsetY,["smear","eraser"].includes(this.toolType))this.context.strokeStyle="#fff",this.context.lineWidth=this.brushSize<10?10:this.brushSize,this.context.setLineDash([]);else if("noose"==this.toolType){var e=this.$refs.draggable;this.context.strokeStyle="rgba(0,0,0,1)";var n=e.getBoundingClientRect();this.drewPoints.push([{x:t.clientX-n.left,y:t.clientY-n.top}]),this.context.setLineDash([10,5]),this.context.lineWidth=2}},draw:function(t){if(this.isDrawing){var e,n,o=this.canvas.width/this.canvas.offsetWidth;if(this.context.scale(o,o),["smear","eraser"].includes(this.toolType)){var r=t.offsetX,l=t.offsetY;this.context.beginPath(),this.context.moveTo(this.startX,this.startY),this.context.lineTo(r,l),this.context.stroke(),this.startX=r,this.startY=l}else if("noose"==this.toolType){var c,d,h=this.$refs.draggable.getBoundingClientRect();c=t.clientX,d=t.clientY;var f=this.drewPoints[this.drewPoints.length-1];f.push({x:c-h.left,y:d-h.top});var m=f[0],v=f[1],_=f.length;this.context.beginPath(),this.context.moveTo(m.x,m.y);for(var i=1;i<_;i++){var y=(n=v,{x:(e=m).x+(n.x-e.x)/2,y:e.y+(n.y-e.y)/2});this.context.quadraticCurveTo(m.x,m.y,y.x,y.y),m=f[i],v=f[i+1]}this.context.lineTo(m.x,m.y),this.context.stroke()}this.context.scale(1/o,1/o)}},stopDrawing:function(){["smear","noose","eraser"].includes(this.toolType)&&this.isDrawing&&(this.isDrawing=!1,"noose"==this.toolType&&(this.context.closePath(),this.context.stroke(),this.context.fill()),this.saveToHistory())},startRectDrawing:function(t){"rectangle"==this.toolType&&(this.isDrawing=!0,this.startX=t.offsetX,this.startY=t.offsetY)},rectDraw:function(t){var e=this;if(this.isDrawing){var n=t.offsetX,o=t.offsetY;this.rectText.clearRect(0,0,this.rectCanvas.width,this.rectCanvas.height),this.$nextTick((function(){var t=e.rectCanvas.width/e.rectCanvas.offsetWidth;e.rectText.scale(t,t),e.rectText.beginPath(),e.rectText.rect(e.startX,e.startY,n-e.startX,o-e.startY),e.rectText.fill(),e.rectText.stroke(),e.rectText.scale(1/t,1/t)})),this.rectCanvas.style.zIndex=9999}},stopRectDrawing:function(t){if("rectangle"==this.toolType&&this.isDrawing){this.isDrawing=!1,this.rectText.clearRect(0,0,this.rectCanvas.width,this.rectCanvas.height);var e=t.offsetX,n=t.offsetY;this.rectList.push({left:e-this.startX>0?this.startX:e,top:n-this.startY>0?this.startY:n,width:Math.abs(e-this.startX),height:Math.abs(n-this.startY)}),this.saveToHistory(),this.rectCanvas.style.zIndex=2}},rectDelete:function(t){this.rectList.splice(t,1)},rectChange:function(t){this.rectList[t.index].top=t.top,this.rectList[t.index].left=t.left,this.rectList[t.index].width=t.width,this.rectList[t.index].height=t.height},saveToHistory:function(){var t=JSON.parse(JSON.stringify(this.rectList)),e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),img=JSON.parse(JSON.stringify(this.intImg.url));this.currentStep++,1==this.currentStep&&this.historyList.splice(1,this.historyList.length-1),this.historyList.push({currentImageData:e,rects:t,img:img}),this.currentStep=this.historyList.length-1},handlePre:function(){this.historyList.length>0&&this.currentStep>0&&(this.currentStep--,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.putImageData(this.historyList[this.currentStep].currentImageData,0,0),this.rectList=JSON.parse(JSON.stringify(this.historyList[this.currentStep].rects)),this.intImg.url=JSON.parse(JSON.stringify(this.historyList[this.currentStep].img)))},handleNext:function(){this.currentStep<this.historyList.length-1&&(this.currentStep++,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.putImageData(this.historyList[this.currentStep].currentImageData,0,0),this.rectList=JSON.parse(JSON.stringify(this.historyList[this.currentStep].rects)),this.intImg.url=JSON.parse(JSON.stringify(this.historyList[this.currentStep].img)))},handleReset:function(){this.historyList.length>1&&(this.currentStep=-1,this.historyList=[],this.rectList=[],this.toolType="smear",this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.intImg.url=this.MasterDrawing,this.imgUrl="",this.imgLoad())},checkImageSize:function(t){var e=this;return new Promise((function(n,o){var r=new FileReader;r.onload=function(t){var img=new Image;img.onload=function(){var t=img.width,o=img.height;e.$set(e,"style",{width:t,height:o});var r=[t,o].every((function(t){return t<=4096}));n(r)},img.onerror=function(){o(!1)},img.src=t.target.result},r.readAsDataURL(t)}))},getMaskImage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,i,l,c,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedIn){e.next=3;break}return t.$EventBus.$emit("openLoginDialog"),e.abrupt("return");case 3:if(t.prompt){e.next=6;break}return t.$message.warning(t.$t("gptRulesPop")),e.abrupt("return");case 6:if(!t.loading&&t.intImg.width){e.next=8;break}return e.abrupt("return");case 8:if(!t.prompt){e.next=19;break}return e.prev=9,t.loading=!0,e.next=13,t.batchQuerySensitiveWords(t.prompt);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),t.loading=!1,e.abrupt("return");case 19:for(t.loading=!0,(n=document.createElement("canvas")).width=t.intImg.width,n.height=t.intImg.height,(o=n.getContext("2d")).clearRect(0,0,n.width,n.height),r=t.context.getImageData(0,0,t.canvas.width,t.canvas.height),i=0;i<r.data.length;i+=4)255==r.data[i+3]?r.data[i+3]=0:r.data[i+3]=255,r.data[i]=0,r.data[i+1]=0,r.data[i+2]=0;if(o.putImageData(r,0,0),l=t.canvas.width/t.canvas.offsetWidth,t.rectList.length>0&&t.rectList.forEach((function(t){o.fillStyle="rgba(255, 255, 255, 1)",o.beginPath(),o.rect(t.left*l,t.top*l,t.width*l,t.height*l),o.fill()})),(c=n.toDataURL("image/png",.1))!==t.blankCanvas){e.next=35;break}return t.handleGenerate(),t.loading=!1,e.abrupt("return");case 35:d=t.dataURLToBlob(c),h="clipspace-mask-"+Date.now()+".png",t.uploadMask(d,h);case 38:case"end":return e.stop()}}),e,null,[[9,15]])})))()},dataURLToBlob:function(t){for(var e=t.split(";base64,"),n=e[0].split(":")[1],o=atob(e[1]),r=new ArrayBuffer(o.length),l=new Uint8Array(r),i=0;i<o.length;i++)l[i]=o.charCodeAt(i);return new Blob([r],{type:n})},uploadMask:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,l,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r="",o.prev=1,!(t.size/1024/1024>10)){o.next=12;break}return o.prev=3,o.next=6,Object(y.a)(t,10485760);case 6:t=o.sent,o.next=12;break;case 9:return o.prev=9,o.t0=o.catch(3),o.abrupt("return");case 12:return c=(null===(l=n.intImg)||void 0===l?void 0:l.url)||"",o.next=15,n.UPLOAD.startUpload(t,{category:20,name:"".concat(e),type:"png",isRedirection:!0,sub_category:1,originalMergeUrl:c,mergeCategory:2}).then((function(t){r=t})).catch((function(t){n.$message.error(n.$t("uploadError"))}));case 15:n.handleGenerate(r),n.loading=!1,o.next=23;break;case 19:o.prev=19,o.t1=o.catch(1),n.$message.error(n.$t("uploadError")),n.loading=!1;case 23:case"end":return o.stop()}}),o,null,[[1,19],[3,9]])})))()},handleClose:function(){this.resetData(),this.dialogVisible=!1},batchQuerySensitiveWords:function(text){var t=this;return new Promise((function(e,n){Object(w.b)({items:[{texts:[{text:text,category:"prompt",point_type:"creative-aiapp-redraw@prompt"}],type:x.e.GenerateCreate}]}).then((function(o){var r,data=(null==o?void 0:o.data)||{};1e4!==(null==o||null===(r=o.status)||void 0===r?void 0:r.code)&&n(!1),null!=data&&data.has_sensitive_word?(t.$message.error(t.$t("audio_Inpu_detection1",{X:t.$t("Prompt")})),n(!1)):e(!0)})).catch((function(t){n(!1)}))}))},handleGenerate:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=(null===(o=e.appData)||void 0===o?void 0:o.inputs)||[]).length){n.next=3;break}return n.abrupt("return");case 3:l=r.find((function(t){return"image"===t.field})),c=r.find((function(t){return"text"===t.field})),d={apply_id:e.appId,inputs:[{field:l.field,node_id:l.node_id,node_type:l.node_type,val:t||e.intImg.url},{field:c.field,node_id:c.node_id,node_type:c.node_type,val:e.prompt}]},e.intLoading=!0,e.$emit("generateTask",d,e.appData,(function(t,data){e.intLoading=!1,"error"!==t?(e.callback&&e.callback(data),e.handleClose()):e.$message.error(e.$t("comicPage17"))}));case 8:case"end":return n.stop()}}),n)})))()}}},I=j,S=(n(5630),n(5631),n(0)),component=Object(S.a)(I,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"c-generate-redraw-modal",fullscreen:!0,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.intLoading,expression:"intLoading"}],staticClass:"main"},[e("div",{staticClass:"top"},[e("div",{staticClass:"topItem"},[e("div",{staticClass:"back",on:{click:function(e){t.dialogVisible=!1}}},[e("i",{staticClass:"el-icon-back"})])]),t._v(" "),e("div",{staticClass:"topItem",class:{disabledStyle:t.intLoading}},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("PartialRedrawing")))])]),t._v(" "),e("div",{staticClass:"topItem",staticStyle:{visibility:"hidden"}})]),t._v(" "),e("div",{staticClass:"right",class:{disabledStyle:t.intLoading}},[e("div",{staticClass:"dragIcon",on:{click:function(e){"drag"==t.toolType?t.toolType="smear":t.toolType="drag"}}},[e("i",{staticClass:"iconfont icon-zhuashou-copy",style:{color:"drag"==t.toolType?"#4784FF":null}})]),t._v(" "),e("div",{staticClass:"sizeBox"},[e("div",{staticClass:"sizeBnt",class:{disabledStyle:t.intImg.size<=t.minScaleSize},on:{click:t.setImageZoomOut}},[e("i",{staticClass:"el-icon-minus"})]),t._v(" "),e("el-popover",{attrs:{placement:"top",trigger:"hover","visible-arrow":!1,"popper-class":"sizeListBox"}},[e("div",{staticClass:"sizeList"},t._l(t.sizeList,(function(n,o){return e("div",{key:o,staticClass:"sizeItem",on:{click:function(e){return t.changeSize(n)}}},[t._v("\n              "+t._s(t.$t(n.name))+"\n            ")])})),0),t._v(" "),e("div",{staticClass:"sizeNum",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.intImg.size)+"%")])]),t._v(" "),e("div",{staticClass:"sizeBnt",class:{disabledStyle:t.intImg.size>=t.maxScaleSize},on:{click:t.setImageZoomIn}},[e("i",{staticClass:"el-icon-plus"})])],1)]),t._v(" "),e("div",{staticClass:"left",class:{disabledStyle:t.intLoading}},t._l(t.toolList,(function(n,o){return e("div",{key:o,staticClass:"toolItem",class:{activateToolItem:t.toolType==n.value},on:{click:function(e){return t.changeTool(n)}}},[e("i",{class:n.icon}),t._v(" "),e("span",[t._v(t._s(t.$t(n.name)))]),t._v(" "),"smear"==n.value&&"smear"==t.toolType||"eraser"==n.value&&"eraser"==t.toolType?e("div",{staticClass:"lineSize"},[e("span",[t._v(t._s(t.$t("Size")))]),t._v(" "),e("el-slider",{attrs:{"show-input":"","show-input-controls":!1,min:10},model:{value:t.brushSize,callback:function(e){t.brushSize=e},expression:"brushSize"}})],1):t._e()])})),0),t._v(" "),t.intLoading?t._e():e("div",{ref:"draggable",staticClass:"draggable",style:{width:t.intImg.width*t.intImg.size/100+"px",height:t.intImg.height*t.intImg.size/100+"px",cursor:t.setCanvasStyle},attrs:{id:"draggable"},on:{mousedown:function(e){return e.preventDefault(),t.downElement.apply(null,arguments)},mousemove:function(e){return e.preventDefault(),t.moveElement.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),t.seupElement.apply(null,arguments)}}},[t.loading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"laodMsk"}):t._e(),t._v(" "),t.intImg.url?e("img",{directives:[{name:"show",rawName:"v-show",value:t.imgShow,expression:"imgShow"}],attrs:{src:t.intImg.url,alt:""}}):t._e(),t._v(" "),t.MasterDrawing?e("img",{directives:[{name:"show",rawName:"v-show",value:!t.imgShow,expression:"!imgShow"}],attrs:{src:t.MasterDrawing,alt:""}}):t._e(),t._v(" "),e("canvas",{ref:"canvas",attrs:{width:t.intImg.width,height:t.intImg.height},on:{"&mousedown":function(e){return t.startDrawing.apply(null,arguments)},"&mousemove":function(e){["cancelQuick","quick"].includes(t.toolType)?t.debounceHandleMouseMove(e):t.draw(e)},"&mouseup":function(e){return t.stopDrawing.apply(null,arguments)},mouseenter:function(e){t.hasHover=!0},mouseleave:function(e){t.hasHover=!1,t.hoverMaskUrl="",t.stopDrawing()},mousedown:t.selectRegion}}),t._v(" "),t.hoverMaskUrl?e("img",{staticClass:"segment-image-draw-img-hover-mask",style:{width:t.intImg.width*t.intImg.size/100+"px",height:t.intImg.height*t.intImg.size/100+"px"},attrs:{src:t.hoverMaskUrl,alt:""}}):t._e(),t._v(" "),e("canvas",{directives:[{name:"show",rawName:"v-show",value:"rectangle"==t.toolType,expression:"toolType == 'rectangle'"}],ref:"rectCanvas",staticClass:"rectCanvas",attrs:{width:t.intImg.width,height:t.intImg.height},on:{"&mousedown":function(e){return t.startRectDrawing.apply(null,arguments)},"&mousemove":function(e){return t.rectDraw.apply(null,arguments)},"&mouseup":function(e){return t.stopRectDrawing.apply(null,arguments)}}}),t._v(" "),t._l(t.rectList,(function(n,o){return e("generate-rect-item",{key:"rect"+o,attrs:{item:n,index:o,size:t.intImg.size},on:{delete:t.rectDelete,change:t.rectChange}})}))],2),t._v(" "),t.appData?e("div",{staticClass:"generate-box"},[e("div",{staticClass:"prompt-box"},[e("el-input",{attrs:{type:"textarea",rows:"3",resize:"none",placeholder:t.$t("ai_app_partial_redrawing_placeholder")},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}})],1),t._v(" "),e("div",{staticClass:"generate-btn-box",attrs:{"data-group":"ai-app-partial-redrawing-generate","data-id":t.appId,"data-desc":"ai应用图片编辑局部重绘弹窗-生成点击","data-type":"ai-app-image-edit","data-sub-type":"ai-app-partial-redrawing"},on:{click:t.getMaskImage}},[e("GenerateButton",{attrs:{data:t.appData,loading:t.intLoading}})],1)]):t._e()])])}),[],!1,null,"3a0e5eec",null);e.default=component.exports;installComponents(component,{GenerateRectItem:n(264).default})},3431:function(t,e,n){"use strict";n.r(e);n(19),n(11),n(6),n(12),n(13),n(8),n(7);var o=n(3),r=n(2),l=(n(20),n(32),n(16),n(4),n(21),n(1)),c=n(264),d=n(80),h=n(623),f=n(25),m=n(9);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"ExpandImageDialog",props:{},data:function(){return{dialogVisible:!1,loading:!1,url:"",callback:null,appId:"",appData:null,prompt:"",containerRatio:16/9,ratioOptions:[{value:"",label:this.$t("camera_Freedom"),icon:"icon-a-icon-free"},{value:"1:1",label:"1:1",example:{width:16,height:16}},{value:"4:3",label:"4:3",example:{width:16,height:12}},{value:"16:9",label:"16:9",example:{width:16,height:9}},{value:"3:4",label:"3:4",example:{width:12,height:16}},{value:"9:16",label:"9:16",example:{width:16,height:9}}],editAreaSize:{width:1120,height:0},activeRatio:"",originalImageSize:{},imageInfo:{width:0,height:0,x:0,y:0},frameSize:{width:0,height:0,maxWidth:0,maxHeight:0},frameDrag:{isDragging:!1,start:{x:0,y:0,direction:"",width:0,height:0,lockedAxis:""}},imageDrag:{isDragging:!1,x:0,y:0,start:{x:0,y:0}}}},components:{generateRectItem:c.default,GenerateButton:h.default},computed:_(_({},Object(l.c)("user",["isLoggedIn"])),{},{currentRatio:function(){return this.activeRatio?(console.log("activeRatio computed",this.activeRatio.split(":")[0]/this.activeRatio.split(":")[1]),this.activeRatio.split(":")[0]/this.activeRatio.split(":")[1]):(console.log("frameSize computed",this.frameSize.width/this.frameSize.height),this.frameSize.width/this.frameSize.height)}}),watch:{},mounted:function(){},methods:{getWorkFlowAppDetail:function(){var t=this;Object(d.e)({template_id:this.appId}).then((function(e){t.appData=(null==e?void 0:e.data)||{}}))},show:function(t){var e=t.url,n=t.callback,o=void 0===n?null:n,r=t.appId,l=void 0===r?"":r;this.reset(),this.callback=o,this.appId=l,this.dialogVisible=!0,this.prompt="",this.getWorkFlowAppDetail(),this.initContainer(),this.addEvent(),this.loadImageLoad(e)},addEvent:function(){window.addEventListener("resize",this.handleSize)},reset:function(){window.removeEventListener("resize",this.handleSize),this.editAreaSize={width:1120,height:0},this.activeRatio="",this.originalImageSize={},this.resetImageFrame(),this.url="",this.prompt="",this.appData=null,this.appId="",this.callback=null,this.dialogVisible=!1,this.loading=!1,this.resetEvent()},handleSize:Object(f.throttle)((function(){this.initContainer()}),150),loadImageLoad:function(t){var e=this,img=new Image;img.onload=function(){e.originalImageSize={width:img.naturalWidth,height:img.naturalHeight},e.url=t,e.updateImageRenderSize()},img.src=t},initContainer:function(){var t=this;console.log("initContainer"),this.$nextTick((function(){var e=t.$refs.contentRef,n=e.offsetHeight-20,o=e.offsetWidth-246;o/n>=t.containerRatio?(t.$set(t.editAreaSize,"width",n*t.containerRatio),t.$set(t.editAreaSize,"height",n)):(t.$set(t.editAreaSize,"width",o),t.$set(t.editAreaSize,"height",o/t.containerRatio)),t.updateImageRenderSize()}))},handleClose:function(){this.reset(),this.dialogVisible=!1,this.loading=!1},handleRatioChange:function(t){var e=this;this.activeRatio=t,this.resetImageFrame(),this.$nextTick((function(){e.updateImageRenderSize()}))},resetImageFrame:function(){this.$set(this,"imageInfo",{width:0,height:0,x:0,y:0}),this.$set(this,"frameSize",{width:0,height:0,maxWidth:0,maxHeight:0}),this.$set(this,"frameDrag",{isDragging:!1,start:{x:0,y:0,direction:"",width:0,height:0,lockedAxis:""}}),this.$set(this,"imageDrag",{isDragging:!1,x:0,y:0,start:{x:0,y:0}})},updateImageRenderSize:function(){var t=this.containerRatio;console.log("updateImageRenderSize"),this.activeRatio&&(t=this.activeRatio.split(":")[0]/this.activeRatio.split(":")[1]);var e=this.originalImageSize.width/this.originalImageSize.height;this.updateFrameMaxSize(t);var n=this.frameSize,o=n.maxWidth,r=n.maxHeight/2,l=r*e,c=0,d=0;l>o&&(r=(l=o)/e),e>t?d=(c=l)/t:c=(d=r)*t,this.$set(this,"imageInfo",{width:l,height:r,x:0,y:0}),this.$set(this.frameSize,"width",c),this.$set(this.frameSize,"height",d)},updateFrameMaxSize:function(t){var e=this.editAreaSize.width,n=this.editAreaSize.height,o=0,r=0;t>this.containerRatio?(o=e,r=Math.ceil(o/t)):(r=n,o=Math.ceil(r*t)),this.$set(this.frameSize,"maxWidth",o),this.$set(this.frameSize,"maxHeight",r)},handleResizeHandleMouseDown:function(t,e){t.preventDefault(),t.stopPropagation(),this.frameDrag={isDragging:!0,start:{x:t.pageX,y:t.pageY,width:this.frameSize.width,height:this.frameSize.height},direction:e,lockedAxis:e.includes("e")||e.includes("w")?"width":"height"};var n=["ne","nw","se","sw"].includes(e);this.updateFrameMaxSize(n?this.currentRatio:this.containerRatio),document.addEventListener("mousemove",this.handleResizeHandleMouseMove),document.addEventListener("mouseup",this.handleResizeHandleMouseUp)},handleResizeHandleMouseMove:Object(f.throttle)((function(t){if(this.frameDrag.isDragging){var e=t.pageX,n=t.pageY,o=e-this.frameDrag.start.x,r=n-this.frameDrag.start.y,l=this.frameDrag.start.width,c=this.frameDrag.start.height,d=0,h=0,f=this.currentRatio;this.frameDrag.direction.includes("e")&&(d=l+o),this.frameDrag.direction.includes("w")&&(d=l-o),this.frameDrag.direction.includes("s")&&(h=c+r),this.frameDrag.direction.includes("n")&&(h=c-r);var m=["ne","nw","se","sw"].includes(this.frameDrag.direction),v=this.getFrameMinSize(m,this.frameDrag.lockedAxis);m?("width"===this.frameDrag.lockedAxis?h=d/f:d=h*f,(this.frameSize.maxWidth<d||h>this.frameSize.maxHeight)&&(d=this.frameSize.maxWidth,h=this.frameSize.maxHeight),d<=v.width&&(d=v.width,h=v.height)):(d&&(d>=this.frameSize.maxWidth&&(d=this.frameSize.maxWidth),d<=v.width&&(d=v.width)),h&&(h>=this.frameSize.maxHeight&&(h=this.frameSize.maxHeight),h<=v.height&&(h=v.height))),d&&(this.frameSize.width=d),h&&(this.frameSize.height=h)}}),10),handleResizeHandleMouseUp:function(t){this.frameDrag.isDragging=!1,this.resetEvent()},getFrameMinSize:function(t){var e=this.$refs.imageContainerRef,n=this.$refs.canvasRef,o=null==e?void 0:e.getBoundingClientRect(),r=o.left,l=o.top,c=o.bottom,d=o.right,h=null==n?void 0:n.getBoundingClientRect(),f=h.left,m=h.top,v=h.bottom,_=h.right,y=this.currentRatio,w=this.originalImageSize.width/this.originalImageSize.height,C=Math.min(r-f,_-d),x=Math.min(l-m,v-c),O=0,k=0;return t?C/this.frameSize.maxWidth<=x/this.frameSize.maxHeight||w>y?k=(O=this.frameSize.maxWidth-2*C)/y:O=(k=this.frameSize.maxHeight-2*x)*y:(O=this.frameSize.maxWidth-2*C,k=this.frameSize.maxHeight-2*x),{width:O,height:k}},handleImageMouseDown:function(t){t.preventDefault(),t.stopPropagation(),this.imageDrag={isDragging:!0,x:this.imageInfo.x||0,y:this.imageInfo.y||0,start:{x:t.pageX,y:t.pageY}},document.addEventListener("mousemove",this.handleImageMouseMove),document.addEventListener("mouseup",this.handleImageMouseUp)},handleImageMouseMove:Object(f.throttle)((function(t){if(this.imageDrag.isDragging){var e=t.pageX,n=t.pageY,o=e-this.imageDrag.start.x,r=n-this.imageDrag.start.y,l=Math.ceil((this.frameSize.width-this.imageInfo.width)/2),c=Math.ceil((this.frameSize.height-this.imageInfo.height)/2),d=this.imageDrag.x+o,h=this.imageDrag.y+r;Math.abs(d)>=l&&(d=d>0?l:-l),Math.abs(h)>=c&&(h=h>0?c:-c),this.$set(this.imageInfo,"x",d),this.$set(this.imageInfo,"y",h)}}),10),handleImageMouseUp:function(t){t.preventDefault(),this.imageDrag={isDragging:!1,start:{x:0,y:0}},this.resetEvent()},resetEvent:function(){document.removeEventListener("mousemove",this.handleImageMouseMove),document.removeEventListener("mouseup",this.handleImageMouseUp),document.removeEventListener("mousemove",this.handleResizeHandleMouseMove),document.removeEventListener("mouseup",this.handleResizeHandleMouseUp)},getExpandDistances:function(){var t=this.$refs.imageContainerRef,e=this.$refs.frameRef,n=null==t?void 0:t.getBoundingClientRect(),o=n.left,r=n.top,l=n.bottom,c=n.right,d=null==e?void 0:e.getBoundingClientRect(),h=d.left,f=d.top,m=d.bottom,v=d.right,_=this.originalImageSize.width,y=this.originalImageSize.height,w=_/y;w>=1&&_>1536&&(y=(_=1536)/w),w<1&&y>1536&&(_=(y=1536)*w);var C=_/this.imageInfo.width,x=(o-h)*C,O=(v-c)*C,k=(r-f)*C,j=(m-l)*C;return{left:x>0?Math.ceil(x):0,right:O>0?Math.ceil(O):0,top:k>0?Math.ceil(k):0,bottom:j>0?Math.ceil(j):0}},batchQuerySensitiveWords:function(text){var t=this;return this.loading=!0,new Promise((function(e,n){Object(d.b)({items:[{texts:[{text:text,category:"prompt",point_type:"creative-aiapp-image-expansion@prompt"}],type:m.e.GenerateCreate}]}).then((function(o){var r,data=(null==o?void 0:o.data)||{};1e4!==(null==o||null===(r=o.status)||void 0===r?void 0:r.code)&&n(!1),null!=data&&data.has_sensitive_word?(t.$message.error(t.$t("audio_Inpu_detection1",{X:t.$t("Prompt")})),n(!1)):e(!0)})).catch((function(t){n(!1)}))}))},handleGenerate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c,d,h,f,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=(null===(n=t.appData)||void 0===n?void 0:n.inputs)||[]).length){e.next=3;break}return e.abrupt("return");case 3:if(t.prompt){e.next=6;break}return t.$message.warning(t.$t("gptRulesPop")),e.abrupt("return");case 6:return e.prev=6,t.loading=!0,e.next=10,t.batchQuerySensitiveWords(t.prompt);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),t.loading=!1,e.abrupt("return");case 16:r=t.getExpandDistances(),l=o.find((function(t){return"image"===t.field})),c=o.find((function(t){return"value"===t.field})),d=o.find((function(t){return"left"===t.field})),h=o.find((function(t){return"right"===t.field})),f=o.find((function(t){return"top"===t.field})),m=o.find((function(t){return"bottom"===t.field})),v={apply_id:t.appId,inputs:[{field:l.field,node_id:l.node_id,node_type:l.node_type,val:t.url},{field:c.field,node_id:c.node_id,node_type:c.node_type,val:t.prompt},{field:d.field,node_id:d.node_id,node_type:d.node_type,val:r.left},{field:h.field,node_id:h.node_id,node_type:h.node_type,val:r.right},{field:f.field,node_id:f.node_id,node_type:f.node_type,val:r.top},{field:m.field,node_id:m.node_id,node_type:m.node_type,val:r.bottom}]},t.loading=!0,t.$emit("generateTask",v,t.appData,(function(e,data){t.loading=!1,"error"!==e?(t.callback&&t.callback(data),t.handleClose()):t.$message.error(t.$t("comicPage17"))}));case 26:case"end":return e.stop()}}),e,null,[[6,12]])})))()}}},w=(n(5632),n(5633),n(0)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"c-generate-redraw-modal",fullscreen:!0,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main"},[e("div",{staticClass:"top"},[e("div",{staticClass:"topItem"},[e("div",{staticClass:"back",on:{click:function(e){t.dialogVisible=!1}}},[e("i",{staticClass:"el-icon-back"})])]),t._v(" "),e("div",{staticClass:"topItem",class:{disabledStyle:t.loading}},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("expand_image")))])]),t._v(" "),e("div",{staticClass:"topItem",staticStyle:{visibility:"hidden"}})]),t._v(" "),e("div",{ref:"contentRef",staticClass:"content"},[e("div",{ref:"editAreaRef",staticClass:"edit-area",style:{width:t.editAreaSize.width+"px",height:t.editAreaSize.height?t.editAreaSize.height+"px":"auto"}},[e("div",{staticClass:"ratio-selector"},[e("div",{staticClass:"ratio-options"},t._l(t.ratioOptions,(function(n){return e("div",{key:n.value,staticClass:"ratio-item",class:{active:t.activeRatio===n.value},on:{click:function(e){return t.handleRatioChange(n.value)}}},[e("div",{staticClass:"left-content"},[n.icon?e("i",{class:"iconfont ".concat(n.icon)}):t._e(),t._v(" "),n.example?e("span",{staticClass:"ratio-example",style:{width:n.example.width+"px",height:n.example.height+"px"}}):t._e()]),t._v("\n              "+t._s(n.label)+"\n            ")])})),0)]),t._v(" "),e("div",{ref:"canvasRef",staticClass:"canvas-content",style:{width:t.frameSize.maxWidth+"px",height:t.frameSize.maxHeight+"px"}},[e("div",{ref:"imageContainerRef",staticClass:"image-container",class:{"is-dragging":t.imageDrag.isDragging},style:{width:t.imageInfo.width+"px",height:t.imageInfo.height+"px",transform:"translate(calc(-50% + ".concat(t.imageInfo.x,"px), calc(-50% + ").concat(t.imageInfo.y,"px))")},on:{mousedown:function(e){return e.stopPropagation(),t.handleImageMouseDown.apply(null,arguments)}}},[t.url?e("img",{staticClass:"edit-image",attrs:{src:t.url,draggable:"false"}}):t._e()]),t._v(" "),t.url?e("div",{ref:"frameRef",staticClass:"resize-frame",class:{"is-dragging":t.frameDrag.isDragging},style:{width:t.frameSize.width+"px",height:t.frameSize.height+"px"}},[e("div",{staticClass:"lock-resize-handle lock-resize-handle-nw",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"nw")}.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"lock-resize-handle lock-resize-handle-ne",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"ne")}.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"lock-resize-handle lock-resize-handle-sw",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"sw")}.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"lock-resize-handle lock-resize-handle-se",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"se")}.apply(null,arguments)}}}),t._v(" "),t.activeRatio?t._e():[e("div",{staticClass:"resize-handle resize-handle-n",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"n")}.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"resize-handle resize-handle-e",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"e")}.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"resize-handle resize-handle-s",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"s")}.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"resize-handle resize-handle-w",on:{mousedown:function(e){return e.stopPropagation(),function(e){return t.handleResizeHandleMouseDown(e,"w")}.apply(null,arguments)}}})]],2):t._e()]),t._v(" "),e("div",{ref:"canvasContainer",staticClass:"canvas-container"})])]),t._v(" "),t.appData?e("div",{staticClass:"generate-box"},[e("div",{staticClass:"prompt-box"},[e("el-input",{attrs:{type:"textarea",rows:"3",resize:"none",placeholder:t.$t("ai_app_expand_image_placeholder")},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}})],1),t._v(" "),e("div",{staticClass:"generate-btn-box",attrs:{"data-group":"ai-app-expand-image-generate","data-id":t.appId,"data-desc":"ai应用图片编辑扩图弹窗-生成点击","data-type":"ai-app-image-edit","data-sub-type":"ai-app-expand"},on:{click:t.handleGenerate}},[e("GenerateButton",{attrs:{data:t.appData,loading:t.loading}})],1)]):t._e()])])}),[],!1,null,"23b3f1ad",null);e.default=component.exports},3435:function(t,e,n){"use strict";n(24);var o=n(1289),r={name:"TextEllipsis",props:{lines:{type:Number,default:1},expandable:{type:Boolean,default:!1},expandText:{type:String,default:function(){return"更多"}},closeable:{type:Boolean,default:!1},closeText:{type:String,default:function(){return"收起"}},forceExpandable:{type:Boolean,default:!1}},mounted:function(){var t=this;this.$watch("forceExpandable",(function(){t.initMultiClamp()})),this.$nextTick((function(){window.addEventListener("click",(function(e){var n=e.target.className;"more-btn"===n&&t.$emit("moreClick"),"retract-btn"===n&&t.$emit("retractClick")}))}))},methods:{initMultiClamp:function(){var t=this;this.$nextTick((function(){new o.default(t.$refs.textEllipsis,{rows:t.lines,ellipsis:"...",expandable:t.expandable,expandText:t.expandText,closeable:t.closeable,closeText:t.closeText,forceExpandable:t.forceExpandable})}))}}},l=(n(5412),n(0)),component=Object(l.a)(r,(function(){return(0,this._self._c)("div",{ref:"textEllipsis",staticClass:"text-ellipsis"},[this._t("default")],2)}),[],!1,null,"ac89c2e8",null);e.a=component.exports},361:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=n(1);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var c={name:"Report",components:{HyReportModal:n(845).default},props:{targetItem:{type:Object,default:function(){return{}}},isBack:{type:Boolean,default:!1}},data:function(){return{reportModalVisible:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.c)("user",["isLoggedIn"])),methods:{handleClick:function(){this.isLoggedIn?(this.reportModalVisible=!0,this.$emit("onClick",this.targetItem)):this.$EventBus.$emit("openLoginDialog")},handleReport:function(t){this.$emit("onReport",t)}}},d=c,h=n(0),component=Object(h.a)(d,(function(){var t,e,n=this,o=n._self._c;return o("div",{attrs:{"data-event":"click_report","data-id":null===(t=n.targetItem)||void 0===t?void 0:t.id,"data-type":null===(e=n.targetItem)||void 0===e?void 0:e.obj_type,"data-desc":"举报按钮点击"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handleClick.apply(null,arguments)}}},[n._t("default"),n._v(" "),o("HyReportModal",{attrs:{targetItem:n.targetItem,isBack:n.isBack},on:{onClick:n.handleReport},model:{value:n.reportModalVisible,callback:function(t){n.reportModalVisible=t},expression:"reportModalVisible"}})],2)}),[],!1,null,"7ca32040",null);e.default=component.exports},362:function(t,e,n){"use strict";n.r(e);n(19),n(16),n(18),n(11),n(12),n(13),n(7);var o=n(2),r=(n(6),n(73),n(22),n(24),n(8),n(4),n(28),n(21),n(44),n(1)),l=n(39),c=n(29);n(9);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={props:{meta:{type:Object,require:!0,default:function(){return{}}},sourceFrom:{type:String,default:""},model:{type:String,default:""},modelName:{type:String,default:""},category:{type:[String,Number],default:1},msgId:{type:String,default:""},loraModels:{type:Object,default:function(){}},showCreate:{type:Boolean,default:!0}},data:function(){return{intLoraModel:[],loading:!1}},computed:h(h(h(h({},Object(r.c)("user",["isLoggedIn"])),Object(r.e)("creation",["generateViewShow"])),Object(r.c)("creation",["studioStyle","lab_styles"])),{},{isSdModel:function(){return[5,"5","sdxl"].includes(null==this?void 0:this.category)},isStudioFlux:function(){return!1},isStudioModel:function(){return[7,"7","studio",11].includes(null==this?void 0:this.category)},studioRenderList:function(){var t=this;return(this.lab_styles||[]).map((function(e){var n="labStyle_".concat(e.value.replace(/\s/g,""));return{label:t.$t(n)||e.value,id:e.value}}))},getStudioStyle:function(){var t,e=(null===(t=this.meta)||void 0===t||null===(t=t.lab_base)||void 0===t?void 0:t.style_selections)||[];return(this.studioRenderList||[]).filter((function(t){return e.includes(t.id)})).map((function(t){return t.label})).join("、")||""}}),mounted:function(){this.msgId&&this.getMsgInfo()},methods:{getMsgInfo:function(){var t=this;this.loading=!0;var e=0===Object.keys(this.loraModels).length,n=["",null,void 0].includes(this.modelName),o=![this.loraModels&&this.loraModels[this.msgId]];[e,n,o].some((function(t){return t}))?Object(c.getMetaInfo)({id:this.msgId}).then((function(n){var o,r;if(1e4===n.status.code){t.intLoraModel=(null===(o=n.data.meta)||void 0===o?void 0:o.lora_models)||[];var l=(null==n||null===(r=n.data)||void 0===r?void 0:r.art_model_name)||"",c={};c[t.msgId]=t.intLoraModel,["",null,void 0].includes(t.modelName)&&t.$emit("updateModelName",l),e&&t.$emit("setLoraModel",c)}})).finally((function(){t.loading=!1})):this.loading=!1,this.intLoraModel&&!this.intLoraModel.length&&(this.intLoraModel=this.loraModels[this.msgId]||[])},handleClick:function(){this.$emit("copyGenerationData",{model:this.model,meta:this.meta})},openLora:function(t){window.open("/models/detail/"+t.art_model.id)},handleJumpDetail:function(){if(!["",null,void 0].includes(this.model)){var t={action:"view",obj_no:this.model,obj_type:2,category:"default",batch_id:"",negative_ids:[],view_domain:"details_model"};Object(l.i)({items:[t]}),this.$emit("close"),this.generateViewShow&&this.$EventBus.$emit("closeGenerateModal"),this.$logEvent("log_actions",{operation:"click_model",behavior_info:this.model}),"imageDetail"===this.sourceFrom?window.open("/models/detail/".concat(this.model)):this.$router.push("/models/detail/".concat(this.model))}}}},m=(n(4070),n(0)),component=Object(m.a)(f,(function(){var t,e,n,o,r,l,c,d,h,f,m,v,_=this,y=_._self._c;return y("div",{staticClass:"tooltipWraper"},[y("div",[_._v(_._s(_.$t("Prompt")))]),_._v(" "),y("div",{staticClass:"promptDesc"},[_._v("\n    "+_._s(null===(t=_.meta)||void 0===t?void 0:t.prompt)+"\n  ")]),_._v(" "),_.isStudioModel?_._e():y("div",{staticClass:"negativeTitle"},[_._v("\n    "+_._s([3,"3","midjourney"].includes(_.category)?_.$t("metaExtraParams"):_.$t("NegativePrompts"))+"\n  ")]),_._v(" "),_.isStudioModel?_._e():y("div",{staticClass:"promptDesc"},[[3,"3","midjourney"].includes(_.category)?[_._v(_._s((null===(n=_.meta)||void 0===n?void 0:n.extra_prompt)||""))]:[_._v(_._s(null===(e=_.meta)||void 0===e?void 0:e.negative_prompt))]],2),_._v(" "),[3,"3","midjourney"].includes(_.category)?_._e():[y("div",{directives:[{name:"show",rawName:"v-show",value:!_.isStudioFlux,expression:"!isStudioFlux"}],staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("CFGScale")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":null===(o=_.meta)||void 0===o?void 0:o.cfg_scale))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter",staticStyle:{"text-align":"right","margin-right":"10px"}},[_._v("\n          "+_._s(_.$t("Steps"))+"\n        ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":null===(r=_.meta)||void 0===r?void 0:r.steps))])])]),_._v(" "),y("div",{directives:[{name:"show",rawName:"v-show",value:!_.isStudioFlux,expression:"!isStudioFlux"}],staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("Sampler")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":null===(l=_.meta)||void 0===l?void 0:l.sampler_name))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter",staticStyle:{"text-align":"right","margin-right":"10px"}},[_._v("\n          "+_._s(_.$t("Seed"))+"\n        ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(null===(c=_.meta)||void 0===c?void 0:c.seed))])])]),_._v(" "),_.isStudioModel?_._e():y("div",{staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("clipSkip")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s((null===(d=_.meta)||void 0===d?void 0:d.clip_skip)||""))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("imageDimensions")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s("".concat(_.meta.width," X ").concat(_.meta.height)))])])]),_._v(" "),!_.isStudioModel&&null!==(h=_.meta)&&void 0!==h&&h.denoising_strength?y("div",{staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v("\n          "+_._s(_.$t("DenoisingStrength"))+"\n        ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v("\n          "+_._s((null===(f=_.meta)||void 0===f?void 0:f.denoising_strength)||"")+"\n        ")])])]):_._e(),_._v(" "),_.isStudioModel?y("div",{staticClass:"flex-center flex-wrpaer"},[_.isStudioFlux?y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v("\n          "+_._s(_.$t("Seed"))+"\n        ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(null===(m=_.meta)||void 0===m?void 0:m.seed))])]):y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("studio20")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":(null===(v=_.meta)||void 0===v||null===(v=v.lab_base)||void 0===v?void 0:v.scheduler)||""))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("imageDimensions")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s("".concat(_.meta.width," X ").concat(_.meta.height)))])])]):_._e(),_._v(" "),y("div",{directives:[{name:"show",rawName:"v-show",value:!_.loading,expression:"!loading"}],staticClass:"flex-center",staticStyle:{"margin-top":"14px","justify-content":"flex-start"}},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("Model")))]),_._v(" "),y("div",{staticClass:"scale-link-class",on:{click:_.handleJumpDetail}},[_._v("\n        "+_._s(_.modelName||_.model)+"\n      ")])])],_._v(" "),_.intLoraModel.length>0?y("div",{staticClass:"flex-center",staticStyle:{"margin-top":"14px","flex-wrap":"wrap","justify-content":"flex-start","align-items":"self-start"}},[y("div",{staticClass:"parameter"},[_._v("Lora")]),_._v(" "),y("div",{staticClass:"scaleBox"},_._l(_.intLoraModel,(function(t){return y("div",{key:t.id,staticClass:"scale-link-class",on:{click:function(e){return _.openLora(t)}}},[_._v("\n        "+_._s(t.art_model.name)+"\n      ")])})),0)]):_._e(),_._v(" "),_.showCreate?y("div",{staticClass:"copyClass",on:{click:_.handleClick}},[_._v("\n    "+_._s(_.$t("Generate"))+"\n  ")]):_._e()],2)}),[],!1,null,"f055605c",null);e.default=component.exports},379:function(t,e,n){"use strict";n.r(e);n(6),n(18),n(4),n(11),n(12),n(13),n(8);var o=n(14),r=n(2),l=(n(19),n(32),n(50),n(16),n(22),n(122),n(21),n(7),n(26),n(39)),c=n(1),d=n(35),h=n.n(d),f=n(52),m=n(139),v=n(10),_=n(9);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={props:{active:{type:String,default:""},useNewTag:{type:Boolean,default:!1},renderList:{type:Array,default:function(){return[]}},clickType:{type:Boolean,default:!0},ssrData:{type:Array,default:function(){return[]}},styleType:{type:String,default:"classic"}},components:{SwipeableList:f.default},data:function(){return{replaceImageType:v.K,itemScrollLeft:null,itemScroll:null,selectItem:{},tagInfo:{categories:[],items:[]},SEOTagList:[]}},computed:w(w(w({},Object(c.e)("app",["tagHot","tagNew"])),Object(c.e)("user",["token","userInfo"])),{},{setActive:function(){return function(t){return t.id===this.active||t.id===this.selectItem.id}},sortedItems:function(){var t,e=this.useNewTag?this.renderList.length>0?this.renderList:this.tagNew:Object(o.a)(this.tagHot);if(e=e.length?e:this.ssrData,this.useNewTag&&this.userInfo&&null!==(t=this.userInfo)&&void 0!==t&&null!==(t=t.collect_tags)&&void 0!==t&&t.length){var n,r,l=h()((null===(n=this.userInfo)||void 0===n?void 0:n.collect_tags)||[]);r=l.map((function(t){return e.find((function(e){return e.id===t}))})).filter((function(t){return!!t}));var c=e.filter((function(t){return!l.includes(t.id)}));e=[].concat(Object(o.a)(r),Object(o.a)(c))}if(this.userInfo&&this.userInfo.tags&&this.userInfo.tags.length>0&&!this.useNewTag){var d=h()(this.userInfo.tags);return d.reverse(),e.sort((function(a,b){var t=d.findIndex((function(t){return t.id===a.id})),e=d.findIndex((function(t){return t.id===b.id}));return-1!==t&&-1!==e?t-e:-1!==t?-1:-1!==e?1:0}))}return e},tagHref:function(){var t=this;return function(e){var path=t.getTagType();return t.localePath("/tagInfo"+path+"/"+(null==e?void 0:e.id))}}}),watch:{sortedItems:function(t){var e=this;this.$nextTick((function(){e.updateLazyLoad()}))}},created:function(){var t=this;this.$EventBus.$on("updateHomeTag",(function(){t.getTags()}))},mounted:function(){var t=this;this.renderList&&0!=this.renderList.length||setTimeout((function(){t.getTags()}),500)},activated:function(){this.getItemScrollLeft()},methods:w(w({},Object(c.d)("app",["setTagHot","setTagNew"])),{},{updateLazyLoad:function(){var t=this;this.$el.querySelectorAll("[data-v-lazyload]").forEach((function(e){t.$options.directives.lazyload.inserted(e)}))},getTagType:function(){var t=this.$route,e=t.name,n=t.params;e=e.split("___")[0];var o=_.D.find((function(t){return e="TagDetail"===e?null==n?void 0:n.type:e,t.name.includes(e)}));return null==o?void 0:o.path},getTags:function(){var t=this;if(this.useNewTag){Object(m.d)({size:1e3}).then((function(e){var n;if(["10000",1e4].includes(null==e||null===(n=e.status)||void 0===n?void 0:n.code)){var o=e.data||{},r=o.categories,l=void 0===r?[]:r,c=o.items,d=void 0===c?[]:c;t.tagInfo.categories=Array.isArray(l)?l:[];var h=Array.isArray(d)?d:[];return t.tagInfo.items=(h||[]).map((function(t){return t.name=t.title||t.id,t.style={},t.style.url=t.cover||"",t})),t.tagInfo.items.length&&t.setTagNew(t.tagInfo.items),t.tagInfo.categories.length&&t.setTagHot(t.tagInfo.categories),e}})).finally((function(){}))}else this.tagHot.length>0?this.getItemScrollLeft():Object(l.o)().then((function(e){t.setTagHot(e.data),t.getItemScrollLeft()}))},getItemScrollLeft:function(){var t=this;this.itemScrollLeft=null,this.$nextTick((function(){t.$refs.listItem&&t.$refs.listItem.forEach((function(e){var n;null!==(n=e.classList)&&void 0!==n&&n.contains("active")&&(t.itemScrollLeft=e.getBoundingClientRect().left)}))}))},selectTags:function(t){var e=this;this.active||!this.clickType?this.selectItem=t:this.selectItem.id===t.id?this.selectItem={}:this.selectItem=t,this.$emit("changeTags",w(w({},this.selectItem),{},{path:this.tagHref(t)})),this.$nextTick((function(){e.changeScroll(t)}))},changeScroll:function(t){var e=this;this.selectItem.id===t.id&&this.$refs.listItem.forEach((function(t,n){t.classList.contains("active")&&(e.itemScroll={value:t.getBoundingClientRect().left,index:n})}))}}),beforeDestroy:function(){this.$EventBus.$off("updateHomeTag")}},x=(n(4844),n(0)),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("swipeable-list",t._b({attrs:{scrollLeftnum:t.itemScrollLeft,scrollChange:t.itemScroll,iconBntWidth:28}},"swipeable-list",t.$attrs,!1),["classic"===t.styleType?t._l(t.sortedItems.filter((function(t,i){return i<40})),(function(n,o){var r,l;return e("a",{directives:[{name:"lazyload",rawName:"v-lazyload"}],key:o+"_tags",ref:"listItem",refInFor:!0,staticClass:"tags-item",attrs:{href:t.tagHref(n),target:"_blank"},on:{click:function(e){return e.preventDefault(),t.selectTags(n)}}},[n.style&&null!==(r=n.style)&&void 0!==r&&r.url||n.cover?e("img",{attrs:{alt:t.$t(n.name||n.title),width:"30",height:"30","data-src":t.replaceImageType((null===(l=n.style)||void 0===l?void 0:l.url)||n.cover,"low")}}):t._e(),t._v(" "),e("span",[t._v(t._s(t.$t(n.name||n.title)))])])})):t._e(),t._v(" "),"new1"===t.styleType?t._l(t.sortedItems.filter((function(t,i){return i<40})),(function(n,o){var r;return e("a",{key:o+"_tags",ref:"listItem",refInFor:!0,staticClass:"tags-item-new1",style:{backgroundImage:"url(".concat(t.replaceImageType((null===(r=n.style)||void 0===r?void 0:r.url)||n.cover,"low"),")")},attrs:{href:t.tagHref(n),target:"_blank"},on:{click:function(e){return e.preventDefault(),t.selectTags(n)}}},[e("div",{staticClass:"tag-text flex_c_m"},[t._v(t._s(t.$t(n.name||n.title)))])])})):t._e()],2)}),[],!1,null,"0397e5a6",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},3868:function(t,e,n){"use strict";n(1551)},3874:function(t,e,n){"use strict";n(1557)},3876:function(t,e,n){"use strict";n(1559)},3877:function(t,e,n){"use strict";n(1560)},3878:function(t,e,n){"use strict";n(1561)},3879:function(t,e,n){"use strict";n(1562)},3880:function(t,e,n){"use strict";n(1563)},3888:function(t,e,n){"use strict";n(1572)},3895:function(t,e,n){"use strict";n(1578)},3896:function(t,e,n){"use strict";n(1579)},3897:function(t,e,n){"use strict";n(1580)},3902:function(t,e,n){"use strict";n(1585)},3903:function(t,e,n){"use strict";n(1586)},3904:function(t,e,n){"use strict";n(1587)},3905:function(t,e,n){"use strict";n(1588)},3906:function(t,e,n){"use strict";n(1589)},3907:function(t,e,n){"use strict";n(1590)},3909:function(t,e,n){"use strict";n(1592)},3910:function(t,e,n){"use strict";n(1593)},3911:function(t,e,n){"use strict";n(1594)},3917:function(t,e,n){"use strict";n(1599)},3918:function(t,e,n){"use strict";n(1600)},3919:function(t,e,n){"use strict";n(1601)},3920:function(t,e,n){"use strict";n(1603)},3921:function(t,e,n){"use strict";n(1604)},3922:function(t,e,n){"use strict";n(1605)},3923:function(t,e,n){"use strict";n(1606)},3925:function(t,e,n){"use strict";n(1607)},3927:function(t,e,n){"use strict";n(1609)},3928:function(t,e,n){"use strict";n(1610)},3929:function(t,e,n){"use strict";n(1611)},3930:function(t,e,n){"use strict";n(1612)},3996:function(t,e,n){"use strict";n(1642)},3997:function(t,e,n){"use strict";n(1643)},3998:function(t,e,n){"use strict";n(1644)},4001:function(t,e,n){"use strict";n(1646)},4002:function(t,e,n){"use strict";n(1647)},4003:function(t,e,n){"use strict";n(1648)},4004:function(t,e,n){"use strict";n(1649)},4005:function(t,e,n){"use strict";n(1650)},4008:function(t,e,n){"use strict";n(1653)},4009:function(t,e,n){"use strict";n(1654)},4010:function(t,e,n){"use strict";n(1655)},4011:function(t,e,n){"use strict";n(1656)},4013:function(t,e,n){"use strict";n(1657)},4023:function(t,e,n){"use strict";n(1666)},404:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=n(1),l=n(39);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"NoLike",props:{targetItem:{type:Object,default:function(){return{}}},isBack:{type:Boolean,default:!1}},computed:d({},Object(r.c)("user",["isLoggedIn"])),methods:d(d({},Object(r.d)("user",["SET_NO_LIKE_LIST"])),{},{handleClick:function(){var t=this;if(this.isLoggedIn){var e=this.targetItem||{},n=e.id,o=void 0===n?"":n,r=e.obj_type,c=void 0===r?1:r,d=e.view_domain,h=void 0===d?"detail":d,f=e.obj_filter,m=[{action:"not_interested",obj_no:o,obj_type:c,view_domain:h,filter_category:f}];Object(l.i)({items:m}).then((function(){t.$message({message:t.$t("reduceWork"),type:"success"}),t.SET_NO_LIKE_LIST(o),t.isBack&&t.$router.back(),t.$emit("onClick",t.targetItem)}))}else this.$EventBus.$emit("openLoginDialog")}})},f=n(0),component=Object(f.a)(h,(function(){var t,e,n=this;return(0,n._self._c)("div",{attrs:{"data-event":"not_interest","data-id":null===(t=n.targetItem)||void 0===t?void 0:t.id,"data-type":null===(e=n.targetItem)||void 0===e?void 0:e.obj_type,"data-desc":"不感兴趣按钮点击"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handleClick.apply(null,arguments)}}},[n._t("default")],2)}),[],!1,null,"fd1addce",null);e.default=component.exports},4049:function(t,e,n){"use strict";n(1690)},405:function(t,e,n){"use strict";n.r(e);n(16),n(21);var o=n(107),r=n(9),l={inject:["CardApp"],data:function(){return{}},props:{item:{type:Object,default:function(){return{}}}},computed:{isShowMark:function(){var t,e;return 1==(null===(t=this.item)||void 0===t?void 0:t.obj_type)&&7==(null===(e=this.item)||void 0===e?void 0:e.sub_obj_type)||![1,2].includes(this.item.obj_type)},leftMarkICon:function(){var t,e=this.item,n=e.obj_type,r=e.sub_channel;e.channel;if(60===n)return"icon-a-icon-tag-AIquickapp";if(61===n&&(null===(t=this.item)||void 0===t||null===(t=t.id)||void 0===t||!t.includes("event-center/daily")))return"icon-url-line-icon";if("article"===r)return"icon-icon-tag-article";var l=this.CardApp,c=l.isWorkflow,d=l.isAiApp,h=l.isVideo;return c?"icon-icon_jiedian":d?"icon-a-icon-tag-AIquickapp":h?"icon-icon-tag-creation":o.e[o.a[n]]||""},getModelType:function(){var t=this.item,e=t.content_type,n=void 0===e?"":e,o=t.content_sub_type,l=void 0===o?"":o,c={LORA:"LoRA",LoCon:"LyCORIS",TextualInversion:this.$t("embedding1")}[n]||n,d=(null===r.L||void 0===r.L?void 0:r.L.flux)||[],h="Pony"===l,f=l;return"Illustrious"===l?c+" | IL ":"NoobAI"===l?c+" | NAI ":l.includes("SDXL")&&!h?c+" | XL ":"HiDream"===l?c+" | HID ":"SeaArt Film"===l?c+" | SAF ":d.includes(f)?c+" | F1 ":c},isModelVideo:function(){return 2===this.item.obj_type&&7===this.item.sub_obj_type}}},c=(n(3922),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[t.isShowMark&&t.leftMarkICon?e("div",{staticClass:"mark-box flex_c_m"},[e("i",{class:["iconfont",t.leftMarkICon]})]):t._e(),t._v(" "),2===t.item.obj_type?e("div",{staticClass:"model-mark flex_c_m"},[t._v("\n    "+t._s(t.getModelType)+"\n    "),"Pony"===t.item.content_sub_type?e("span",[t._v(" | "),e("i",{staticClass:"iconfont icon-icon-horse"})]):t._e(),t._v(" "),t.isModelVideo?e("span",[t._v(" | "),e("i",{staticClass:"iconfont icon-icon-tag-video"})]):t._e()]):t._e()])}),[],!1,null,"1a682324",null);e.default=component.exports},4058:function(t,e,n){"use strict";n(1699)},4070:function(t,e,n){"use strict";n(1711)},4077:function(t,e,n){"use strict";n(1718)},4080:function(t,e,n){"use strict";n(1721)},4081:function(t,e,n){"use strict";n(1722)},4090:function(t,e,n){"use strict";n(1731)},410:function(t,e,n){"use strict";n.r(e);n(19),n(73),n(22),n(24),n(8),n(4),n(7);var o=n(98),r=n(458),l={name:"HyFitterListBox",props:{rowsH:{type:Number,default:0},colsW:{type:Number,default:200},gap:{type:Number,default:16},rows:{type:Number,default:2}},data:function(){return{logInfos:[],debounceReport:Object(o.a)(this.reportImageExposure,1e3)}},mounted:function(){this.observeImageExposure()},methods:{observeImageExposure:function(){var t=this,e=this.$el.querySelectorAll(".gl-exposure-node");if(e){var n=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){n.unobserve(e.target);var o=e.target.getAttribute("log-exposure");o&&t.logInfos.push(o)}})),t.debounceReport(t.logInfos)}),{threshold:.3});e.forEach((function(t){n.observe(t)}))}},reportImageExposure:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n="";if(e.length){var o=e.map((function(t){return JSON.parse(t)})),l=[],c=Object(r.a)(this.$el).group;o.forEach((function(t){var e="".concat(t.type,",").concat(t.id,",").concat(t.pt),o=t.id,r=t.type,c=t.pt,d=t.index,h=t.position;n+=e+";",l.push({obj_id:o,obj_category:r,obj_pt:c,obj_index:d,position:h})}));var d=o.map((function(t){return t.position})).join(";");this.$logEvent("log_actions",{operation:"goods_exposure",behavior_info:n,position:d},(function(){t.logInfos=[]})),this.$xyLogEvent({log:"222",entity_type:c,front_operation:"exposure",obj_info_group:l})}}}},c=l,d=(n(5539),n(0)),component=Object(d.a)(c,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"hy-fitter-list-box",style:{gridAutoRows:"".concat(t.rowsH,"px"),maxHeight:"calc(".concat(t.rows," * ").concat(t.rowsH,"px + ").concat(t.rows*t.gap,"px)"),gridTemplateColumns:"repeat(auto-fill, minmax(".concat(t.colsW,"px, 1fr))"),gap:"".concat(t.gap,"px")}},[t._t("default")],2)}),[],!1,null,"15319b78",null);e.default=component.exports},4142:function(t,e,n){"use strict";n(1784)},4143:function(t,e,n){"use strict";n(1785)},4144:function(t,e,n){"use strict";n(1786)},4145:function(t,e,n){"use strict";n(1787)},4147:function(t,e,n){"use strict";n(1789)},4148:function(t,e,n){"use strict";n(1790)},4149:function(t,e,n){"use strict";n(1791)},4150:function(t,e,n){"use strict";n(1792)},4151:function(t,e,n){"use strict";n(1793)},423:function(t,e,n){"use strict";n.r(e);n(16),n(24);var o=n(3200),r=n(3201),l=n(3202),c={components:{WorksItem:o.default,UserItem:r.default,WordTxt:l.default},props:{list:{type:Array,default:function(){return[]}},keyword:{type:String,default:""},showType:{type:Number,default:1}},data:function(){return{}},computed:{isShowWorks:function(){return[2,4,7,13,14,11,9,15,16,21,20].includes(this.showType)},isShowUser:function(){return[6,8].includes(this.showType)}},methods:{handClick:function(t){this.$emit("onClick",t)}}},d=(n(3878),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"lenovo-list-box"},[t._l(t.list,(function(n,i){return["query"!==n.source&&t.isShowWorks?[e("WorksItem",{key:n.source_id+i,attrs:{item:n,keyword:t.keyword,showType:t.showType,index:i},on:{onClick:t.handClick,mousedown:function(t){t.preventDefault()}}})]:t._e(),t._v(" "),"query"!==n.source&&t.isShowUser?[e("UserItem",{key:n.source_id+i,attrs:{item:n,keyword:t.keyword,showType:t.showType},on:{onClick:t.handClick,mousedown:function(t){t.preventDefault()}}})]:t._e(),t._v(" "),"query"===n.source?[e("WordTxt",{key:n.payload+i,attrs:{item:n,keyword:t.keyword},on:{onClick:t.handClick,mousedown:function(t){t.preventDefault()}}})]:t._e()]}))],2)}),[],!1,null,"13fb1d18",null);e.default=component.exports},4244:function(t,e,n){"use strict";n(1820)},4245:function(t,e,n){"use strict";n(1821)},4246:function(t,e,n){"use strict";n(1822)},4247:function(t,e,n){"use strict";n(1823)},4248:function(t,e,n){"use strict";n(1824)},4255:function(t,e,n){"use strict";n(1831)},4256:function(t,e,n){"use strict";n(1832)},4257:function(t,e,n){"use strict";n(1833)},4258:function(t,e,n){"use strict";n(1834)},4259:function(t,e,n){"use strict";n(1835)},426:function(t,e,n){"use strict";n.r(e);var o={name:"InfiniteScrollLoad",props:{disabled:{type:Boolean,default:!1},autoLoad:{type:Boolean,default:!0},noMore:{type:Boolean,default:!1},showNoMore:{type:Boolean,default:!0}},data:function(){return{observer:null,firstLoaded:!1}},mounted:function(){this.initObserver(),!this.autoLoad||this.disabled||this.noMore||this.triggerLoad()},beforeDestroy:function(){this.destroyObserver()},watch:{disabled:function(t){t?this.destroyObserver():(this.initObserver(),!this.autoLoad||this.firstLoaded||this.noMore||this.triggerLoad())},noMore:function(t){t?this.destroyObserver():this.initObserver()}},methods:{initObserver:function(){var t=this;this.observer||this.disabled||this.noMore||(this.observer=new IntersectionObserver((function(e){!e[0].isIntersecting||t.noMore||t.disabled||t.triggerLoad()}),{root:null,threshold:.1}),this.$refs.loading&&this.observer.observe(this.$refs.loading))},destroyObserver:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},triggerLoad:function(){this.firstLoaded=!0,this.$emit("load-more")}}},r=(n(4441),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"infinite-scroll"},[t._t("default"),t._v(" "),t.noMore?t._e():e("div",{ref:"loading",staticClass:"infinite-scroll-loading"},[t._t("loading")],2),t._v(" "),t.showNoMore&&!t.noMore?e("div",{staticClass:"infinite-scroll-no-more"},[t._t("noMore",(function(){return[e("span",{staticClass:"no-more-default"},[t._v(t._s(t.$t("done_tip")))])]}))],2):t._e()],2)}),[],!1,null,"851318b4",null);e.default=component.exports},4260:function(t,e,n){"use strict";n(1836)},4266:function(t,e,n){"use strict";n(1842)},4267:function(t,e,n){"use strict";n(1843)},4268:function(t,e,n){"use strict";n(1844)},4270:function(t,e,n){"use strict";n(1846)},4278:function(t,e,n){"use strict";n(1854)},4279:function(t,e,n){"use strict";n(1855)},4284:function(t,e,n){"use strict";n(1860)},4285:function(t,e,n){"use strict";n(1861)},433:function(t,e,n){"use strict";n.r(e);n(8),n(11),n(6),n(12),n(13);var o=n(14),r=n(3),l=n(2),c=(n(20),n(19),n(16),n(22),n(18),n(4),n(7),n(71)),d=n(175),h=n(3283),f=n(52),m=n(1),v=n(9);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={components:{Waterfall:h.default,SwipeableList:f.default},props:{title:{type:String,default:""},effect:{type:Object,default:function(){}}},data:function(){return{effectList:[],hasMore:!0,page:1,tagList:[],currentTagItem:{},currentEffectItem:{}}},computed:y({},Object(m.e)("user",["cdnHost"])),watch:{effect:{handler:function(t){this.currentEffectItem=y(y({},t),{},{title:t.title||t.name})},deep:!0,immediate:!0}},mounted:function(){this.getTagsList(),this.getVideoEffect()},methods:{getTagsList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.d)({show_area:"ai_video_effect"});case 2:1e4===(n=e.sent).status.code&&(t.tagList=n.data.map((function(e){return y({title:e[v.r[t.$i18n.locale]]||e.en},e)}))||[]);case 4:case"end":return e.stop()}}),e)})))()},getVideoEffect:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasMore){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.d)({page:t.page,page_size:35,order_by:"",offset:"",comfy_ui_type:6,tag_ids:t.currentTagItem.id?[t.currentTagItem.id]:[]});case 4:1e4===(n=e.sent).status.code&&(n.data.items.length?t.page++:t.hasMore=!1,(l=(null===(r=n.data)||void 0===r?void 0:r.items)||[]).forEach((function(e){e.titleHref=t.localePath("/workFlowAppDetail/".concat(e.id))})),t.effectList=[].concat(Object(o.a)(t.effectList),Object(o.a)(l)),t.$nextTick((function(){t.$refs.waterfall.finishLoad()})));case 6:case"end":return e.stop()}}),e)})))()},loadMore:function(){this.getVideoEffect()},cancel:function(){this.$emit("cancel")},getEffectItemType:function(t){var e,n,o=null!=t&&null!==(e=t.cover)&&void 0!==e&&e.url?null==t||null===(n=t.cover)||void 0===n||null===(n=n.url)||void 0===n?void 0:n.split(".").pop():"";return["jpg","jpeg","png","gif","bmp","webp"].includes(o)?"image":["mp4","avi","mov","wmv","flv","mpeg","mpg","m4v","webm","mkv"].includes(o)?"video":void 0},backgroundImage:function(t){return"url(https://".concat(this.cdnHost,"/").concat(null==t?void 0:t.cover,")")},handleTagItemClick:function(t){this.currentTagItem=t,this.page=1,this.effectList=[],this.hasMore=!0,this.getVideoEffect();try{if(t.id){var e=null!=t&&t.en?"click_".concat(null==t?void 0:t.en,"_tab"):"";e&&this.$logEvent("log_actions",{operation:e,behavior_info:"on_createflow_page",behavior_info_sub:"special_effect_tab"})}}catch(t){}},handleEffectTitleClick:function(t){this.$emit("cancel"),this.$router.push({path:t.titleHref})},handleEffectItemClick:function(t){this.currentEffectItem=t,this.$emit("selectEffect",t)}}},C=(n(4279),n(0)),component=Object(C.a)(w,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[e("div",{staticClass:"select-effect-modal"},[e("div",{staticClass:"effect-container"},[e("div",{staticClass:"effect-container-header"},[e("div",{staticClass:"effect-container-header-title"},[t._v(t._s(t.title||t.$t("Effect")))]),t._v(" "),e("div",{staticClass:"effect-container-header-close",on:{click:t.cancel}},[e("i",{staticClass:"iconfont icon-guanbi1"})])]),t._v(" "),e("div",{staticClass:"effect-container-content"},[e("div",{staticClass:"tag-list"},[e("swipeable-list",t._b({attrs:{listGap:"20px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),[e("div",{staticClass:"tag-item tag-item-all",class:{"is-active":0===Object.keys(t.currentTagItem).length},on:{click:function(e){return t.handleTagItemClick({})}}},[e("div",{staticClass:"tag-item-title",attrs:{"data-id":"All"}},[t._v(t._s(t.$t("All")))])]),t._v(" "),t._l(t.tagList,(function(n){return e("div",{key:n.id,staticClass:"tag-item",class:{"is-active":t.currentTagItem.id===n.id},style:{backgroundImage:t.backgroundImage(n)},on:{click:function(e){return t.handleTagItemClick(n)}}},[e("div",{staticClass:"tag-item-title",attrs:{"data-id":n.id}},[t._v(t._s(n.title))])])}))],2)],1),t._v(" "),e("div",{staticClass:"effect-list"},[e("waterfall",{ref:"waterfall",attrs:{items:t.effectList,initLoad:t.effectList.length>0,gap:16,hasMore:t.hasMore},on:{"load-more":t.loadMore},scopedSlots:t._u([{key:"default",fn:function(n){var o,r=n.item;return[e("div",{staticClass:"effect-item",on:{click:function(e){return t.handleEffectItemClick(r)}}},[e("div",{staticClass:"effect-item-content"},["image"===t.getEffectItemType(r)?[e("img",{attrs:{src:r.cover.url,alt:"effect"}})]:[e("video",{attrs:{src:r.cover.url,alt:"effect",controls:!1,autoplay:!0,loop:!0},domProps:{muted:!0}})]],2),t._v(" "),r.sys_tag?e("div",{staticClass:"tag",class:{hot:"Hot"===(null==r?void 0:r.sys_tag[0]),new:"New"===(null==r?void 0:r.sys_tag[0])}},[t._v("\n                  "+t._s(null!==(o=null==r?void 0:r.sys_tag[0])&&void 0!==o?o:"")+"\n                ")]):t._e(),t._v(" "),e("a",{staticClass:"effect-item-title",attrs:{href:r.titleHref},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleEffectTitleClick(r)}}},[t._v(t._s(r.title))])])]}}])})],1)])])])])}),[],!1,null,"21f85d3b",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},4376:function(t,e,n){"use strict";n(1946)},4377:function(t,e,n){"use strict";n(1947)},4404:function(t,e,n){"use strict";n(1973)},4441:function(t,e,n){"use strict";n(2009)},4463:function(t,e,n){"use strict";n(2030)},4464:function(t,e,n){"use strict";n(2031)},4465:function(t,e,n){"use strict";n(2032)},4466:function(t,e,n){"use strict";n(2033)},4467:function(t,e,n){"use strict";n(2034)},4468:function(t,e,n){"use strict";n(2035)},4469:function(t,e,n){"use strict";n(2036)},4470:function(t,e,n){"use strict";n(2037)},4471:function(t,e,n){"use strict";n(2038)},4472:function(t,e,n){"use strict";n(2039)},4473:function(t,e,n){"use strict";n(2040)},4474:function(t,e,n){"use strict";n(2041)},4509:function(t,e,n){"use strict";n(2076)},4510:function(t,e,n){"use strict";n(2077)},4520:function(t,e,n){"use strict";n(2082)},4526:function(t,e,n){"use strict";n(2088)},464:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(19),n(50),n(16),n(22),n(31),n(28),n(113),n(21),n(44),n(26);var c=n(1),d=n(39),h=n(3206),f=n(3207),m=n(3209),v=n(3211),_=n(252),y=n(3212),w=n(405),C=n(3216),x=n(846),O=n(111),k=n(108),j=n(589),I=n(3217),S=n(3218),P=n(107),D=n(630),L=n(155),T=n(10);function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R={provide:function(){return{CardApp:this}},inject:{isShowCheckIcon:{default:!1}},components:{CardInfoItem:h.default,HoverPowerMask:f.default,HoverPowerMaskV2:m.default,ShieldMask:v.default,ImageItem:_.default,VideoItem:y.default,LeftUpMark:w.default,RightUpMark:C.default,AdminTag:O.default,RankingStart:x.default,HyColorfulBorder:k.default,AutoplayVideo:j.default,TaskAndActivityMark:I.default,DailyChallengeMark:S.default},props:{item:{type:Object,default:function(){return{}}},imgW:{type:String,default:"300px"},imgH:{type:String,default:"100%"},isInward:{type:Boolean,default:!1},isWater:{type:Boolean,default:!0},handFns:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}},waterAllListFn:{type:Function,default:function(){return[]}},renderList:{type:Array,default:function(){return[]}},isSingleSelect:{type:Boolean,default:!1},isMultiSelect:{type:Boolean,default:!1},isPureImg:{type:Boolean,default:!1},selectList:{type:Array,default:function(){return[]}},quickDelete:{type:Boolean,default:!1},rankFlag:{type:Boolean,default:!1},isAutoPlayVideo:{type:Boolean,default:!1}},data:function(){return{timer:null,nsfwImgSrc:n(217)}},computed:A(A(A(A({},Object(c.c)("user",["isLoggedIn","userInfo","reportList","noLikeList"])),Object(c.e)("payment",["paymentInfo"])),Object(c.e)("user",["token","adminOff"])),{},{theConfig:function(){var t=this.item.obj_type;return 2===t&&this.isModel?D.a.t_model||{}:2===t&&this.isLoraTrain?D.a.t_lora_train||{}:13===t&&this.isAiApp?D.a.t_aiapp||{}:13===t&&this.isWorkflow?D.a.t_workflow||{}:D.a[P.d(this.item.obj_type)]||{}},c_isInward:function(){var t=this.theConfig.isInward||!1;return this.isWater?t:this.isInward},isWorkflow:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=["1",1,"2",2].includes(n);return 13===e&&o},isAiApp:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=[3,"3",4,"4"].includes(n);return 13===e&&o||14===e},isModel:function(){var t=this.item,e=t.obj_type,n=t.channel,o=![1,"1"].includes(n);return 2===e&&o},isLoraTrain:function(){var t=this.item,e=t.obj_type,n=t.channel,o=[1,"1"].includes(n);return 2===e&&o},cardLink:function(){var t=this.item,e=t.obj_type,n=t.id,o=t.sub_channel,r={1:"/explore/detail/".concat(n),2:"/models/detail/".concat(n),5:"/video/".concat(n),9:"/cyberPubPage/".concat(n),14:"/workFlowAppDetail/".concat(n),15:"/ai-video/detail/".concat(n),11:"/editBoard/detail/".concat(n),16:"/ai-audio/detail/".concat(n),60:"/ai-tools/".concat(n)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(n)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(n)):4===e&&"article"===o?this.localePath("/articleDetail/".concat(n)):4===e&&["picture","video"].includes(o)?this.localePath("/artWorkDetail/".concat(n)):60===e&&"ai-headshot-generator"===n?this.localePath("/ai-headshot-generator"):61===e?this.handleHrefParams(n):this.localePath(r[e]||"/")},isVideo:function(){var t=this.item,e=t.obj_type,n=t.sub_obj_type,o=t.content_sub_type,r=t.sub_channel,l=1===e&&[6,7].includes(n),c=2===e&&[6,7].includes(n),d=4===e&&[6,"6",7,"7"].includes(o);return l||c||d||4===e&&"video"===r||5===e},videoUrl:function(){var t=(this.item||{}).stream,e=void 0===t?{}:t,n=e.url||e.url2||e.url3;return"video"===Object(T.v)(n)?n:""},isGif:function(){var t,e=this.item.cover;return null==e||null===(t=e.url)||void 0===t?void 0:t.toLowerCase().endsWith(".gif")},setNsfwPlus:function(){return function(t){return!1}},showNsfwImg:function(){var t=1===this.item.nsfw,e=9!==this.item.obj_type;return t&&e},isEmptyObj:function(){return 0===Object.keys(this.maxHomeData).length},getPosition:function(){if(this.isEmptyObj)return"";var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(L.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},isSelectMode:function(){return this.isSingleSelect||this.isMultiSelect},isSelectCard:function(){var t=this;return!!this.isSelectMode&&this.selectList.some((function(e){return e.id===t.item.id}))},isHoverPowerV2:function(){var t=this.item,e=t.obj_type,n=t.sub_channel,o=[1,"1",4,"4"].includes(e);return(4!==e||"article"!==n)&&(o&&!this.c_isInward)},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]},isDailyChallenge:function(){var t=this.item.id;return!(!t||"string"!=typeof t)&&t.includes("event-center/daily")},showTaskAndActivityMark:function(){var t,e=this.item,n=((null==e||null===(t=e.id)||void 0===t?void 0:t.split("/"))||[]).filter((function(t){return""!==t}));return 3===n.length&&"event-center"===n[0]&&""!==n[n.length-1]&&61===e.obj_type},isReport:function(){return this.reportList.includes(this.item.id)},isNoLike:function(){return this.noLikeList.includes(this.item.id)},logDataInfo:function(){var t;return(null===(t=this.logData)||void 0===t?void 0:t.dataInfo)||{}},isArtWork:function(){var t=this.item,e=t.obj_type,n=t.sub_channel;return 4===e&&["picture","video"].includes(n)}}),methods:{dotPushReport:function(){var t,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action,n=this.item,o=n.obj_type,r=n.id,l=n.stat,c=n.pt,h=n.obj_filter,f={items:[{action:e,batch_id:c,category:"default",negative_ids:this.getNegativeIds(),obj_no:r,obj_type:o,view_domain:this.getViewDomain(),stat:l,vip:null==this||null===(t=this.paymentInfo)||void 0===t?void 0:t.productLevel,filter_category:h}]};Object(d.i)(f)},getNegativeIds:function(){if(this.isEmptyObj)return[];var t=this.item.id,e=(null==this?void 0:this.renderList)||[],n=e.findIndex((function(e){return e.id===t}))||0;return e.filter((function(t,i){return i<n})).map((function(t){return t.id})).slice(0,10)},getViewDomain:function(){var t;if(this.isEmptyObj)return"";var e=(null===(t=this.maxHomeData)||void 0===t||null===(t=t.HyHomeFormsRef)||void 0===t?void 0:t.formData)||{};return e.order_by?"home_".concat(e.order_by):""},selectCard:function(){this.$emit("onSelect",this.item)},goCardDetail:function(){var t,e=this.$attrs.beforeView;if((void 0===e?function(){return!0}:e)(this.item))if(this.isSelectMode)this.selectCard();else{var n=this.getPosition;if(this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:n,behavior_info_sub:(null===(t=this.item)||void 0===t?void 0:t.pt)||""}),this.dotPushReport({action:"view"}),61===this.item.obj_type)return this.isLoggedIn?void window.open(this.handleHrefParams(this.item.id),"_blank"):void this.$EventBus.$emit("openLoginDialog");if(9===this.item.obj_type){var path=this.localePath("/aiChat/".concat(this.item.id));this.$router.push(path)}else this.$emit("onView",this.item),this.$router.push(this.cardLink);this.handleAllAction({atype:"goDetail"})}},goImageDetail:function(){var t=this.item,e=t.obj_type,n=t.id,path=1===e?"/explore/detail/".concat(n):"/artWorkDetail/".concat(n);window.history.pushState({},"",this.localePath(path)),this.$EventBus.$emit("showDialog",{name:"ImageDetailPop",data:{item:this.item}})},handleHrefParams:function(t){var e=A(A({},JSON.parse(JSON.stringify(this.userInfo))),{},{token:this.token});return t&&t.includes("{")&&this.token?t.replace(/\{(.*?)\}/g,(function(t,n){var o=n.toLowerCase();return(null==e?void 0:e[o])||t})):t},handleMouseOver:function(){var t=this;this.timer=setTimeout((function(){var e,n=null===(e=t.$refs.VideoItemRef)||void 0===e?void 0:e.handleMouseOver;n&&n()}),500)},handleMouseOut:function(t){var e,n;clearTimeout(this.timer);var o=null===(e=this.$refs.VideoItemRef)||void 0===e?void 0:e.handleMouseOut,r=null===(n=this.$refs.HoverPowerMaskRef)||void 0===n?void 0:n.hidePop;o&&o(),r&&r(t)},tagChange:function(t){this.isSelectMode||this.$emit("onAdmin",t)},collectionOk:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isSelectMode||this.$refs.CardInfoItemRef.updateCollectData(t)},handTask:function(){if(!this.isSelectMode){var t=this.item.obj_type;[5,15].includes(t)||this.$refs.HoverPowerMaskRef.handleClick()}},handTitle:function(){this.isSelectMode||this.$router.push(this.cardLink)},handleQuickDelete:function(){var t=this;this.$confirm(this.$t("deleteConfirm"),this.$t("Tip"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),customClass:"collectConfirm",type:"warning"}).then((function(){t.$emit("onQuickDelete",t.item)})).catch((function(){}))},handleAllAction:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).atype,e=void 0===t?"click":t;this.$emit("onAllAction",A(A({},this.item),{},{atype:e}))}}},M=R,E=(n(3930),n(0)),component=Object(E.a)(M,(function(){var t,e,n=this,o=n._self._c;return o("div",{style:{width:n.imgW,height:"100%"}},[o("a",{staticClass:"base-card-box",attrs:{href:n.cardLink,target:"_blank"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.goCardDetail.apply(null,arguments)}}},[o("HyColorfulBorder",{attrs:{showBorder:n.item.edging,borderColor:n.borderColor,photoFrame:n.item.style,boxHeight:"100%"}},[o("div",{staticClass:"content-box",class:[n.isSelectCard&&"select-card",1===n.adminOff&&"nsfw",!n.isInward&&"inward-card"],style:{height:n.imgH},attrs:{"data-nsfw":(null===(t=n.item)||void 0===t?void 0:t.nsfw_level)||0,"data-event":"module-box-click","data-desc":"瀑布流卡片主体内容点击","data-id":n.item.id,"data-pt":n.item.pt,"data-type":n.item.obj_type,"data-index":n.logData.index,"data-position":n.getPosition,"data-mindex":n.logData.mIndex,"data-info":JSON.stringify(l({},n.logData.dataInfo))},on:{mouseenter:function(t){return t.stopPropagation(),t.preventDefault(),n.handleMouseOver.apply(null,arguments)},mouseleave:function(t){return t.stopPropagation(),t.preventDefault(),n.handleMouseOut.apply(null,arguments)}}},[n.showNsfwImg?n._e():[n.isVideo||n.videoUrl?n._e():o("ImageItem",{attrs:{item:n.item}}),n._v(" "),n.isVideo&&!n.isAutoPlayVideo?o("VideoItem",{ref:"VideoItemRef",attrs:{item:n.item}}):n._e(),n._v(" "),n.isAutoPlayVideo&&n.videoUrl?o("AutoplayVideo",{attrs:{item:n.item,posterUrl:null===(e=n.item)||void 0===e||null===(e=e.cover)||void 0===e?void 0:e.url,videoUrl:n.videoUrl}}):n._e()],n._v(" "),n.showNsfwImg?[o("img",{staticClass:"nsfw-img",attrs:{src:n.nsfwImgSrc,alt:"nsfw"}})]:n._e(),n._v(" "),o("div",{staticClass:"left-mark flex_c_m"},[o("LeftUpMark",{attrs:{item:n.item}})],1),n._v(" "),o("div",{staticClass:"right-mark flex_c_m"},[n.rankFlag?o("RankingStart",{attrs:{num:n.logData.index+1}}):n._e()],1),n._v(" "),n.c_isInward&&!n.isPureImg?o("div",{staticClass:"cardinfo-inward-box"},[o("CardInfoItem",{ref:"CardInfoItemRef",attrs:{item:n.item},on:{onHandTask:n.handTask,onHandTitle:n.handTitle}})],1):n._e(),n._v(" "),n.isSelectMode||n.isHoverPowerV2?n._e():o("div",{class:[n.isVideo?"hover-mask-box-video":"hover-mask-box"]},[o("HoverPowerMask",{ref:"HoverPowerMaskRef",attrs:{item:n.item},on:{onCollectionOk:n.collectionOk}})],1),n._v(" "),!n.isSelectMode&&n.isHoverPowerV2?o("div",{staticClass:"hover-mask-box-v2"},[o("HoverPowerMaskV2",{ref:"HoverPowerMaskV2Ref",attrs:{item:n.item},on:{onCollectionOk:n.collectionOk}})],1):n._e(),n._v(" "),o("AdminTag",{attrs:{id:n.item.id,type:n.item.obj_type,item:n.item},on:{change:n.tagChange}}),n._v(" "),n.isWater&&(n.isReport||n.isNoLike)?o("ShieldMask",{attrs:{isReport:n.isReport,isNoLike:n.isNoLike,item:n.item}}):n._e(),n._v(" "),n.quickDelete?o("div",{staticClass:"quick-delete-box",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handleQuickDelete.apply(null,arguments)}}},[o("i",{staticClass:"iconfont icon-postDelete"})]):n._e(),n._v(" "),n.showTaskAndActivityMark?o("div",{staticClass:"activity-task-box"},[o("TaskAndActivityMark",{attrs:{item:n.item}})],1):n._e(),n._v(" "),n.isSelectCard&&n.isShowCheckIcon?o("div",{staticClass:"left-mark-select-box"},[o("i",{staticClass:"el-icon-check"})]):n._e(),n._v(" "),n.isDailyChallenge?o("div",{staticClass:"daily-challenge-mark-box"},[o("DailyChallengeMark",{attrs:{item:n.item}})],1):n._e()],2)]),n._v(" "),n.c_isInward||n.isPureImg?n._e():o("CardInfoItem",{ref:"CardInfoItemRef",attrs:{haseat:n.isWater&&!n.c_isInward&&(n.isReport||n.isNoLike),item:n.item},on:{onHandTask:n.handTask,onHandTitle:n.handTitle}})],1)])}),[],!1,null,"184a33f1",null);e.default=component.exports;installComponents(component,{VideoItem:n(794).default,AdminTag:n(111).default})},466:function(t,e,n){"use strict";n.r(e);var o={props:{info:{type:String,default:""},effect:{type:String,default:"light"},icon:{type:String,default:"el-icon-warning"}}},r=(n(4144),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("el-tooltip",{attrs:{"popper-class":"custom-tips-popper",effect:t.effect,content:t.$t(t.info),placement:"top-start"}},[e("span",{staticClass:"custom-tips",class:t.icon})])}),[],!1,null,"32777862",null);e.default=component.exports},4717:function(t,e,n){"use strict";n(2155)},472:function(t,e,n){"use strict";n.r(e);n(24);var o={name:"HyUploadBtn",components:{HyUploadMoald:n(83).default},props:{text:{type:String,default:"selectImage"},boxw:{type:String,default:"100%"},boxh:{type:String,default:"100%"},isBorder:{type:Boolean,default:!0},category:{type:Number,default:2},scene:{type:String,default:""},isSingleSelect:{type:Boolean,default:!1},isMultiSelect:{type:Boolean,default:!1},coverImg:{type:String,default:""},styleObj:{type:Object,default:function(){return{txtSize:"12px",iconSize:"24px"}}},uploadObj:{type:Object,default:function(){return{}}},isNeedLogin:{type:Boolean,default:!0}},data:function(){return{checkItem:{id:"",url:this.coverImg,width:0,height:0}}},watch:{coverImg:function(t){this.checkItem.url=t}},computed:{isSelectMode:function(){return this.isSingleSelect||this.isMultiSelect}},methods:{handleClick:function(){this.$refs.hyUploadModal.openModal()},handleClose:function(){this.$refs.hyUploadModal.handleClose()},handleConfirm:function(t){this.isSingleSelect&&(this.checkItem=t[0]),this.$emit("onConfirm",t)},handleUploadFail:function(t){this.$emit("onUploadFail",t)},handleDelete:function(){this.checkItem={id:"",url:"",width:0,height:0},this.$emit("onDelete")}}},r=(n(4794),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{style:{width:t.boxw,height:t.boxh}},[t._t("default",(function(){return[e("div",{staticClass:"hy-upload-btn flex_c_m",class:{"box-border":t.isBorder}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.checkItem.url,expression:"!checkItem.url"}],staticClass:"content-box flex_c_m",on:{click:t.handleClick}},[e("i",{staticClass:"iconfont icon-a-icon-addimg2img",style:{fontSize:t.styleObj.iconSize}}),t._v(" "),e("p",{staticClass:"text",style:{fontSize:t.styleObj.txtSize}},[t._v("\n          "+t._s(t.$t(t.text))+"\n        ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.checkItem.url,expression:"checkItem.url"}],staticClass:"content-img-box flex_c_m"},[e("img",{staticClass:"cover-img",attrs:{src:t.checkItem.url,alt:"img"}}),t._v(" "),e("div",{staticClass:"delete-btn",on:{click:t.handleDelete}},[e("i",{staticClass:"iconfont icon-postDelete"})])])])]}),{openModal:t.handleClick}),t._v(" "),e("HyUploadMoald",{ref:"hyUploadModal",attrs:{category:t.category,isSingleSelect:t.isSingleSelect,isMultiSelect:t.isMultiSelect,uploadObj:t.uploadObj,isNeedLogin:t.isNeedLogin,scene:t.scene},on:{onConfirm:t.handleConfirm,onUploadFail:t.handleUploadFail}})],2)}),[],!1,null,"4c959826",null);e.default=component.exports},4773:function(t,e,n){"use strict";n(2210)},4783:function(t,e,n){"use strict";n(2220)},4789:function(t,e,n){"use strict";n(2226)},4794:function(t,e,n){"use strict";n(2231)},4824:function(t,e,n){"use strict";n(2261)},4841:function(t,e,n){"use strict";n(2278)},4844:function(t,e,n){"use strict";n(2281)},4847:function(t,e,n){"use strict";n(2285)},4848:function(t,e,n){"use strict";n(2286)},4862:function(t,e,n){"use strict";n(2300)},4916:function(t,e,n){"use strict";n(2353)},4960:function(t,e,n){"use strict";n(2397)},4976:function(t,e,n){"use strict";n(2413)},5006:function(t,e,n){"use strict";n(2443)},5022:function(t,e,n){"use strict";n(2458)},513:function(t,e,n){"use strict";n.r(e);var o=n(786).a,r=(n(4473),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loginLoading,expression:"loginLoading"}],staticClass:"login-page",class:{hide:"final-step"===t.step}},[e("el-card",{class:{"wide-card":"final-step"===t.step}},["final-step"!==t.step?e("div",{staticClass:"login-header"},[e("div",{staticClass:"text-center text-title"},[e("div",{staticClass:"logo flex justify-center items-center"},[e("img",{attrs:{src:n(1042),alt:"Avatar"}})]),t._v(" "),"set-password"!==t.step?e("p",{staticClass:"up-text"},[t._v(t._s(t.$t("LoginSignup")))]):t._e()]),t._v(" "),e("Agreement"),t._v(" "),"login-types"===t.step?e("div",{staticClass:"login"},[t.$isChinaSite?e("div",{staticClass:"login-buttons"},[t.emailOrPhone?e("phone-login",{attrs:{isAutoFoucs:t.isAutoFoucs},on:{"update-code":function(e){return t.updateUCode(e)},loginPhone:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}):[t.showRegister||t.emailOrPhone?t._e():e("email-login",{on:{loginEmail:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}})],t._v(" "),e("el-divider",{staticClass:"divider"},[e("span",{staticClass:"line"},[t._v("OR")])]),t._v(" "),e("GoogleLogin",{ref:"google",on:{loginGoogle:t.loginByThird}}),t._v(" "),e("div",{staticClass:"btn",on:{click:function(e){return t.toggleEmlOrPhone(!t.emailOrPhone)}}},[e("svg-icon",{attrs:{"icon-class":t.emailOrPhone?"email":"phone"}}),t._v(" "),e("span",[t._v(t._s(t.emailOrPhone?t.$t("Email"):t.$t("phone")))])],1)],2):e("div",{staticClass:"login-buttons"},[t.showDtlForEn?[t.emailOrPhone?t._e():e("phone-login",{attrs:{isAutoFoucs:t.isAutoFoucs},on:{"update-code":function(e){return t.updateUCode(e)},loginPhone:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}),t._v(" "),!t.showRegister&&t.emailOrPhone?e("email-login",{on:{loginEmail:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}):t._e(),t._v(" "),e("el-divider",{staticClass:"divider"},[t._v("OR")])]:t._e(),t._v(" "),e("GoogleLogin",{ref:"google",on:{loginGoogle:t.loginByThird}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"loginOther"!==t.loginFrom,expression:"loginFrom !== 'loginOther'"}],staticClass:"btn",on:{click:t.discordLogin}},[e("svg-icon",{attrs:{"icon-class":"login-discord"}}),t._v(" "),e("span",[t._v("Discord")])],1),t._v(" "),e("FacebookLogin",{ref:"facebook",on:{loginFacebook:t.loginByThird}}),t._v(" "),e("div",{staticClass:"btn",on:{click:function(e){return t.toggleEmlOrPhone(!t.emailOrPhone)}}},[e("svg-icon",{attrs:{"icon-class":t.emailOrPhone?"phone":"email"}}),t._v(" "),e("span",[t._v(t._s(t.emailOrPhone?t.$t("phone"):t.$t("Email")))])],1),t._v(" "),t.showDtlForEn?t._e():e("div",{staticClass:"btn",on:{click:function(e){return t.toggleEmlOrPhone(!0)}}},[e("svg-icon",{attrs:{"icon-class":"email"}}),t._v(" "),e("span",[t._v(t._s(t.$t("Email")))])],1)],2)]):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"login-form",class:{wide:"final-step"===t.step}},["email-login"!==t.step||t.$isChinaSite?t._e():e("email-login",{on:{loginEmail:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}),t._v(" "),"send-email"===t.step?e("send-email",{attrs:{"send-email-value":t.sendEmailValue},on:{"reset-form":t.resetForm,"send-email":t.sendEmail}}):t._e(),t._v(" "),"set-password"===t.step?e("set-password",{attrs:{"send-email-type":t.sendEmailType,"account-num":t.accountNum,token:t.token},on:{"go-to":function(e){return t.goto(e)},close:function(e){return t.closePopup(1)},"auth-step":t.authForSignIn}}):t._e(),t._v(" "),"final-step"===t.step?e("tag-view",{attrs:{redirect:t.redirect},on:{"go-to":function(e){return t.goto(e)},close:function(e){return t.closePopup(1)}}}):t._e()],1),t._v(" "),t.isShowCloseIcon?e("i",{staticClass:"iconfont icon-close close-icon",on:{click:function(e){return t.closePopup(0)}}}):t._e()]),t._v(" "),"final-step"!==t.step?e("div",{staticClass:"left-img",style:[t.backgroundStyle,{backgroundImage:t.backgroundImageNo1}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.backgroundUrl,expression:"!backgroundUrl"}],staticClass:"info"},[e("StatisticsCard")],1)]):t._e()],1)}),[],!1,null,"0304bdd6",null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default,StatisticsCard:n(564).default})},5139:function(t,e,n){"use strict";n(2571)},52:function(t,e,n){"use strict";n.r(e);var o=n(30),r=(n(19),n(73),n(22),n(24),n(8),n(4),n(7),n(98)),l=n(458),c={props:{list:{type:Array,default:function(){return[]}},isShowIconBtn:{type:Boolean,default:!0},iconBntWidth:{type:Number,default:40},scrollLeftnum:{type:Number,default:null},scrollChange:{type:Object,default:null},moveLeng:{type:Number,default:600},top:{type:[String,Number],default:"50px"},height:{type:String,default:"initial"},bntTop:{type:String,default:"0"},listAlignItems:{type:String,default:"center"},listGap:{type:String,default:"8px"},contentStyle:{type:Object,default:function(){}},needInScroll:{type:Boolean,default:!1},areaPtop:{type:Number,default:0},areaPbot:{type:Number,default:0}},data:function(){return{isShowLeft:!1,isShowRight:!1,savedScrollLeft:0,logInfos:[],debounceReport:Object(r.a)(this.reportImageExposure,1e3)}},computed:{firstItemMargin:function(){var t=this.list||[],e=Object(o.a)(t,1)[0],n=void 0===e?{}:e,style=n.style;return n.edging||style},lastItemMargin:function(){var t=this.list||[],e=t[t.length-1]||{},style=e.style;return e.edging||style}},mounted:function(){var t=this;this.$refs.scrollArea.addEventListener("scroll",this.setMoveBtnShow),this.$once("hook:beforeDestroy",(function(){t.$refs.scrollArea.removeEventListener("scroll",t.setMoveBtnShow)})),this.$nextTick((function(){t.setMoveBtnShow()})),this.$refs.scrollArea.scrollLeft=this.savedScrollLeft,this.observeImageExposure()},updated:function(){var t=this;this.$nextTick((function(){t.setMoveBtnShow()}))},watch:{scrollLeftnum:{handler:function(t){t&&t>0&&(this.$refs.scrollArea.scrollLeft=t-this.$refs.scrollArea.getBoundingClientRect().left-this.$refs.scrollArea.offsetWidth/2+50)}},scrollChange:{handler:function(t){if(t.value){var e=t.value-this.$refs.scrollArea.getBoundingClientRect().left-this.$refs.scrollArea.offsetWidth/2+50;this.tagsMove(e)}}}},activated:function(){var t=this;this.$nextTick((function(){t.setMoveBtnShow()})),this.$refs.scrollArea.scrollLeft=this.savedScrollLeft},methods:{setMoveBtnShow:function(){var t,e,n,o=this.$refs.scrollArea||{},r=(null==o?void 0:o.scrollWidth)>(null==o?void 0:o.clientWidth);this.needInScroll&&r?null===(e=this.$refs.scrollArea)||void 0===e||e.classList.add("in-scroll"):null===(n=this.$refs.scrollArea)||void 0===n||n.classList.remove("in-scroll");0===o.scrollLeft?this.isShowLeft=!1:this.isShowLeft=!0,o.scrollLeft+o.clientWidth===o.scrollWidth?this.isShowRight=!1:this.isShowRight=!0,this.savedScrollLeft=null===(t=this.$refs.scrollArea)||void 0===t?void 0:t.scrollLeft},tagsMove:function(t){this.$refs.scrollArea.scrollBy({left:t,behavior:"smooth"})},observeImageExposure:function(){var t=this,e=this.$el.querySelectorAll(".gl-exposure-node");if(e){var n=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){n.unobserve(e.target);var o=e.target.getAttribute("log-exposure");o&&t.logInfos.push(o)}})),t.debounceReport(t.logInfos)}),{threshold:.3});e.forEach((function(t){n.observe(t)}))}},reportImageExposure:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n="";if(e.length){var o=e.map((function(t){return JSON.parse(t)})),r=[],c=Object(l.a)(this.$el).group;o.forEach((function(t){var e="".concat(t.type,",").concat(t.id,",").concat(t.pt),o=t.id,l=t.type,c=t.pt,d=t.index,h=t.position;n+=e+";",r.push({obj_id:o,obj_category:l,obj_pt:c,obj_index:d,position:h})}));var d=o.map((function(t){return t.position})).join(";");this.$logEvent("log_actions",{operation:"goods_exposure",behavior_info:n,position:d},(function(){t.logInfos=[]})),this.$xyLogEvent({entity_type:c,front_operation:"exposure",obj_info_group:r})}}}},d=c,h=(n(4080),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{ref:"tags",staticClass:"swipeab-leList",style:{marginTop:t.top,height:t.height,marginLeft:t.firstItemMargin&&"-8px",width:t.firstItemMargin&&"calc(100% + 8px)"}},[t.isShowIconBtn?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowLeft,expression:"isShowLeft"}],staticClass:"swipeab-icon-box swipeab-icon-box-left",style:{width:t.iconBntWidth+"px"}},[e("div",{staticClass:"icon-bnt",style:{width:t.iconBntWidth+"px",height:t.iconBntWidth+"px",marginTop:t.bntTop},on:{click:function(e){return t.tagsMove("-"+t.moveLeng)}}},[e("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t._v(" "),e("div",{ref:"scrollArea",staticClass:"scroll-area",class:{"flex-center":t.needInScroll}},[e("div",{staticClass:"content",style:t.contentStyle},[e("div",{staticClass:"list",style:{alignItems:t.listAlignItems,gap:t.listGap,paddingTop:t.areaPtop+"px",paddingBottom:t.areaPbot+"px",paddingLeft:t.firstItemMargin&&"8px",paddingRight:t.lastItemMargin&&"8px"}},[t._t("default")],2)])]),t._v(" "),t.isShowIconBtn?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowRight,expression:"isShowRight"}],staticClass:"swipeab-icon-box swipeab-icon-box-right",style:{width:t.iconBntWidth+"px"}},[e("div",{staticClass:"icon-bnt",style:{width:t.iconBntWidth+"px",height:t.iconBntWidth+"px",marginTop:t.bntTop},on:{click:function(e){return t.tagsMove(t.moveLeng)}}},[e("i",{staticClass:"el-icon-arrow-right"})])]):t._e()])}),[],!1,null,"15c3d8f2",null);e.default=component.exports},5368:function(t,e,n){"use strict";n(2790)},5369:function(t,e,n){"use strict";n(2791)},5412:function(t,e,n){"use strict";n(2832)},5534:function(t,e,n){"use strict";n(2951)},5535:function(t,e,n){"use strict";n(2952)},5536:function(t,e,n){"use strict";n(2953)},5537:function(t,e,n){"use strict";n(2954)},5538:function(t,e,n){"use strict";n(2955)},5539:function(t,e,n){"use strict";n(2956)},5540:function(t,e,n){"use strict";n(2957)},5541:function(t,e,n){"use strict";n(2958)},5542:function(t,e,n){"use strict";n(2959)},5546:function(t,e,n){"use strict";n(2963)},5547:function(t,e,n){"use strict";n(2964)},5548:function(t,e,n){"use strict";n(2965)},5549:function(t,e,n){"use strict";n(2966)},5550:function(t,e,n){"use strict";n(2967)},5555:function(t,e,n){"use strict";n(2971)},5556:function(t,e,n){"use strict";n(2972)},5557:function(t,e,n){"use strict";n(2973)},5558:function(t,e,n){"use strict";n(2974)},5559:function(t,e,n){"use strict";n(2975)},5560:function(t,e,n){"use strict";n(2976)},5606:function(t,e,n){"use strict";n(3022)},5607:function(t,e,n){"use strict";n(3023)},5608:function(t,e,n){"use strict";n(3024)},5609:function(t,e,n){"use strict";n(3025)},5613:function(t,e,n){"use strict";n(3029)},5614:function(t,e,n){"use strict";n(3030)},5615:function(t,e,n){"use strict";n(3031)},5616:function(t,e,n){"use strict";n(3032)},5617:function(t,e,n){"use strict";n(3033)},5618:function(t,e,n){"use strict";n(3034)},5619:function(t,e,n){"use strict";n(3035)},5620:function(t,e,n){"use strict";n(3036)},5621:function(t,e,n){"use strict";n(3037)},5622:function(t,e,n){"use strict";n(3038)},5627:function(t,e,n){"use strict";n(3043)},5628:function(t,e,n){"use strict";n(3044)},5629:function(t,e,n){"use strict";n(3045)},5630:function(t,e,n){"use strict";n(3046)},5631:function(t,e,n){"use strict";n(3047)},5632:function(t,e,n){"use strict";n(3048)},5633:function(t,e,n){"use strict";n(3049)},5639:function(t,e,n){"use strict";n(3055)},564:function(t,e,n){"use strict";n.r(e);n(31);var o={name:"StatisticsCard",filters:{capitalize:function(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}},data:function(){return{statisticsData:[{number:"50M+",key:"Users"},{number:"1B+",key:"imagesGenerated"},{number:"500K+",key:"motivatingTitle1"},{number:"560K+",key:"digitalHuman"}]}}},r=(n(4472),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-card"},[e("div",{staticClass:"statistics-grid"},t._l(t.statisticsData,(function(n,o){return e("div",{key:o,staticClass:"statistics-item"},[e("div",{staticClass:"number"},[t._v(t._s(n.number))]),t._v(" "),e("div",{staticClass:"description"},[t._v(t._s(t._f("capitalize")(t.$t(n.key))))])])})),0)])}),[],!1,null,"00153e7b",null);e.default=component.exports},5645:function(t,e,n){"use strict";n(3061)},5646:function(t,e,n){"use strict";n(3062)},5647:function(t,e,n){"use strict";n(3063)},5648:function(t,e,n){"use strict";n(3064)},5649:function(t,e,n){"use strict";n(3065)},5658:function(t,e,n){"use strict";n(3074)},5659:function(t,e,n){"use strict";n(3076)},566:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(20),n(22),n(4),n(7),n(39)),l=n(9),c=n(35),d=n.n(c),h=l.s.map((function(t){return{key:t,value:""}})),f={name:"Multilingual",data:function(){return{modalTitle:"Multilingual",visible:!1,loading:!1,formData:{originText:"",lang:d()(h)},type:"",beforeValidate:null}},methods:{handleConfirm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.beforeValidate){e.next=8;break}return e.prev=1,t.loading=!0,e.next=5,t.beforeValidate(t.formData,t.type);case 5:return e.prev=5,t.loading=!1,e.finish(5);case 8:t.$emit("handleMultilingual",{data:t.formData,type:t.type}),t.close();case 10:case"end":return e.stop()}}),e,null,[[1,,5,8]])})))()},onTranslate:function(){var t=this;this.formData.originText&&!this.loading&&(this.loading=!0,Object(r.p)({text:this.formData.originText}).then((function(e){if(1e4!=!e.status.code){var n=e.data;t.formData.lang.forEach((function(t){var e=(null==n?void 0:n[t.key])||"";e&&(t.value=e)}))}})).finally((function(){t.loading=!1})))},open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},title=t.title,e=t.type,n=t.originText,o=t.lang,r=t.beforeValidate;this.modalTitle=title,this.type=e,n&&(this.formData.originText=n),o&&(this.formData.lang=o),this.visible=!0,this.beforeValidate=r},close:function(){this.modalTitle="",this.type="",this.formData={originText:"",lang:d()(h)},this.visible=!1}}},m=f,v=(n(4717),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"append-to-body":"",visible:t.visible,"show-close":!0,width:"1090px","custom-class":"translate-modal"},on:{"update:visible":function(e){t.visible=e},close:t.close}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"translate-modal-container"},[e("div",{staticClass:"translate-header"},[e("div",{staticClass:"title"},[t._v(t._s(t.modalTitle))]),t._v(" "),e("div",{staticClass:"close-btn",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})])]),t._v(" "),e("div",{staticClass:"translate-original"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("OriginalText")))]),t._v(" "),e("div",{staticClass:"translate-btn",on:{click:t.onTranslate}},[t._v("\n        "+t._s(t.$t("OneClickTranslation"))+"\n      ")]),t._v(" "),e("el-input",{staticClass:"translate-modal-input",attrs:{type:"textarea",resize:"none",placeholder:t.$t("pleaseEnte")},model:{value:t.formData.originText,callback:function(e){t.$set(t.formData,"originText",e)},expression:"formData.originText"}})],1),t._v(" "),e("div",{staticClass:"translate-content"},t._l(t.formData.lang,(function(n){return e("div",{key:n.key,staticClass:"translate-item"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t(n.key)))]),t._v(" "),e("el-input",{staticClass:"translate-modal-input input-item",attrs:{type:"textarea",resize:"none",placeholder:t.$t("pleaseEnte")},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}})],1)})),0),t._v(" "),e("div",{staticClass:"translate-footer flex-center"},[e("el-button",{staticClass:"cancel-btn",on:{click:t.close}},[t._v("\n        "+t._s(t.$t("Cancel"))+"\n      ")]),t._v(" "),e("el-button",{staticClass:"confirm-btn",attrs:{loading:t.loading},on:{click:t.handleConfirm}},[t._v("\n        "+t._s(t.$t("Confirm"))+"\n      ")])],1)])])}),[],!1,null,"43157f45",null);e.default=component.exports},568:function(t,e,n){"use strict";n.r(e);n(19),n(11),n(6),n(12),n(13),n(8);var o=n(2),r=(n(50),n(22),n(4),n(7),n(1));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={props:{tags:{type:Array,default:function(){return[]}}},data:function(){return{observer:null,localTags:[]}},computed:c({},Object(r.e)("user",["cdnHost"])),mounted:function(){this.localTags=this.tags.map((function(t){return c(c({},t),{},{isVisible:!1})})),this.setupIntersectionObserver()},beforeDestroy:function(){this.observer&&this.observer.disconnect()},methods:{setupIntersectionObserver:function(){var t=this;this.observer=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var n=t.$refs.tagLinks.findIndex((function(t){return t===e.target}));-1!==n&&(t.$set(t.localTags[n],"isVisible",!0),t.observer.unobserve(e.target))}}))})),this.$nextTick((function(){var e;null===(e=t.$refs)||void 0===e||null===(e=e.tagLinks)||void 0===e||e.forEach((function(e){t.observer.observe(e)}))}))}}},h=(n(4773),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tag-item"},t._l(t.localTags,(function(n,i){return e("a",{key:"tag_"+i,ref:"tagLinks",refInFor:!0,staticClass:"tag-link",style:n.isVisible?{backgroundImage:"url(https://".concat(t.cdnHost).concat(n.cover,")")}:{},attrs:{href:t.localePath("/tagInfo/".concat(n.id))}},[e("span",[t._v(t._s(n.title))])])})),0)}),[],!1,null,"3b9f29ea",null);e.default=component.exports},5682:function(t,e,n){"use strict";n.r(e);n(16),n(11),n(12),n(13);var o=n(14),r=n(2),l=(n(19),n(6),n(32),n(22),n(8),n(4),n(21),n(7),n(299)),c=n(82),d=n(71),h=n(139),f=n(1);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={name:"SetTagModal",data:function(){return{visible:!1,submitLoading:!1,info:null,infoDetail:null,formData:{tags:[],show_in:2},selectList:[],loading:!1,tagType:1,infoLoading:!1,tempTags:[],curstomTag:[],intRmdTag:[]}},computed:v(v({},Object(f.e)("user",["userInfo"])),{},{list:function(){return[].concat(Object(o.a)(this.selectList),Object(o.a)(this.curstomTag))}}),created:function(){this.init()},methods:{setIntRmdTag:function(t){var e,n=this;t&&(this.selectList=[].concat(Object(o.a)(this.intRmdTag),Object(o.a)(null===(e=this.formData)||void 0===e?void 0:e.tags.filter((function(t){return!n.intRmdTag.find((function(e){return e.title===t.title}))})))))},remoteMethod:function(t){var e=this;t&&Object(c.d)({prefix:t,except_num:20,source_type:3}).then((function(t){var n;1e4==t.status.code&&(e.selectList=[],null==t||null===(n=t.data)||void 0===n||n.items.forEach((function(t){e.selectList.push({title:t.title,id:t.title})})))}))},init:function(){var t=this;this.$EventBus.$on("openTagPopup",(function(e){t.openModal(e)}))},changeTag:function(t){var e,n=this.userInfo,o=n.role,r=n.managed_tags;if("reviewer_only"===o){var l=this.tempTags.filter((function(e){return!t.includes(e)}));if(!(null==r?void 0:r.includes(null===(e=l[0])||void 0===e?void 0:e.id))&&l.length){var c=this.curstomTag.find((function(t){var e;return t.title===(null===(e=l[0])||void 0===e?void 0:e.title)}));c?(this.formData.tags=this.tempTags,this.$message("您暂无".concat(c.title,"的操作权限"))):this.tempTags=t}else this.tempTags=t}},isEditRole:function(t){var e=this.userInfo,n=e.role,o=e.managed_tags;return"reviewer_only"!==n||(null==o?void 0:o.includes(t))},getTagList:function(){var t=this,e=this.userInfo,n=e.role,r=e.managed_tags;this.selectList=[],this.loading=!0,Object(d.d)({size:1e3,show_area:"waterfall_tag"}).then((function(e){var c=e||{},d=c.data,data=void 0===d?{}:d,h=(c.code,data.map((function(e){return v(v({},e),{},{title:Object(l.a)(e,t.$i18n.locale)||e.en})})));"reviewer_only"===n?(r.forEach((function(e){h.forEach((function(n){e!=n.title&&e!=n.id||t.selectList.push({title:n.title||e==n.id,id:n.title||e==n.id})}))})),t.intRmdTag=Object(o.a)(t.selectList)):(t.selectList=h,t.intRmdTag=h)})).finally((function(){t.loading=!1}))},getInfoDetail:function(){var t=this,e={id:this.info.id};this.infoLoading=!0,(0,{1:h.c,2:h.e,4:h.f,5:h.j,15:h.b}[this.tagType])(e).then((function(e){var n;if([1e4,"10000"].includes(null==e||null===(n=e.status)||void 0===n?void 0:n.code)){var o,r=(null==e||null===(o=e.data)||void 0===o?void 0:o.items)||[];t.curstomTag=r.map((function(t){return{title:t.title||t.id,id:t.id||t.title}})),t.tempTags=t.curstomTag,t.formData.show_in=2,t.$set(t.formData,"tags",t.curstomTag),t.setIntRmdTag(!0)}})).finally((function(){t.infoLoading=!1}))},openModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.resetData(),this.info=t,this.tagType=t.type,this.getTagList(),this.getInfoDetail(),this.visible=!0},resetData:function(){this.tagType=1,this.info=null,this.formData.tags=[],this.submitLoading=!1,this.loading=!1,this.infoDetail=null},handleClose:function(){this.visible=!1},handleConfirm:function(){var t=this,e=JSON.parse(JSON.stringify(this.formData));e.tags.forEach((function(t,i){t.title||(e.tags[i]={title:t});var n=Object.keys(t);2===n.length&&n.every((function(t){return["title","id"].includes(t)}))&&delete e.tags[i].id}));var n=v({id:this.info.id},e),o={1:h.m,2:h.n,4:h.o,5:h.q,15:h.l}[this.tagType];this.submitLoading=!0,o(n).then((function(e){var n;[1e4,"10000"].includes(null==e||null===(n=e.status)||void 0===n?void 0:n.code)&&(t.handleClose(),t.$emit("needRefresh"))})).finally((function(){t.submitLoading=!1}))}},beforeDestroy:function(){this.$EventBus.$off("openTagPopup")}},y=_,w=(n(4509),n(0)),component=Object(w.a)(y,(function(){var t,e=this,n=e._self._c;return n("el-dialog",{staticClass:"custom-dialog",attrs:{title:e.$t("SetTags"),visible:e.visible,"custom-class":"set-tag-modal","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading||e.infoLoading,expression:"loading || infoLoading"}],ref:"form",staticClass:"custom-form",attrs:{model:e.formData}},[n("el-form-item",{attrs:{label:e.$t("TagsAssociation")}},[n("el-select",{staticClass:"show-tag",staticStyle:{width:"100%"},attrs:{"value-key":"title",placeholder:e.$t("TagsAssociationTips"),multiple:"","popper-class":"show-tag-select",clearable:"",filterable:"","allow-create":"","default-first-option":"",remote:"reviewer_only"!==(null===(t=e.userInfo)||void 0===t?void 0:t.role),"remote-method":e.remoteMethod},on:{"visible-change":e.setIntRmdTag,change:e.changeTag},model:{value:e.formData.tags,callback:function(t){e.$set(e.formData,"tags",t)},expression:"formData.tags"}},e._l(e.selectList,(function(t,i){return n("el-option",{key:"tag_".concat(t.id+i),attrs:{label:t.title,value:t}},[n("span",[e._v(e._s(t.title))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:[1,"1"].includes(null==t?void 0:t.type),expression:"[1, '1'].includes(v?.type)"}],staticClass:"label-flag"},[e._v(e._s(e.$t("official")))])])})),1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-btn",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("Cancel")))]),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.submitLoading,disabled:e.loading||e.infoLoading},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Submit")))])],1)],1)}),[],!1,null,null,null);e.default=component.exports},5683:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(12),n(13),n(8),n(7);var o=n(2),r=(n(6),n(4),n(1)),l=n(1194);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"SetTagModal",data:function(){return{visible:!1,submitLoading:!1,formData:{obj_id:"",isRecommend:1,recommend_types:[]},rules:{},allTypes:[],recommendTypes:[],notRecommendedTypes:[],currentTypes:[],loading:!1,info:null,tagType:1,initRecommendType:1}},computed:d(d({},Object(r.e)("user",["userInfo"])),{},{coverUrl:function(){var t,e,n,o;return(null===(t=this.info)||void 0===t||null===(t=t.item)||void 0===t?void 0:t.replaceUrl)||(null===(e=this.info)||void 0===e||null===(e=e.item)||void 0===e?void 0:e.cover)||(null===(n=this.info)||void 0===n||null===(n=n.item)||void 0===n||null===(n=n.banner)||void 0===n?void 0:n.replaceUrl)||(null===(o=this.info)||void 0===o||null===(o=o.item)||void 0===o||null===(o=o.banner)||void 0===o?void 0:o.url)},role:function(){var t;return null===(t=this.userInfo)||void 0===t?void 0:t.role}}),created:function(){this.init()},methods:{init:function(){var t=this;this.$EventBus.$on("openRecPopup",(function(e){t.openModal(e)}))},changeTypes:function(t){this.currentTypes=1===t?this.recommendTypes:this.notRecommendedTypes,this.formData.recommend_types=[]},getTagList:function(){var t=this;this.loading=!0,Object(l.b)({size:1e3}).then((function(e){var n=e.data||{},o=n.items;n.total;"reviewer"===t.role&&(t.allTypes=o,t.recommendTypes=o.filter((function(t){return 1===(null==t?void 0:t.is_recommend)})),t.notRecommendedTypes=o.filter((function(t){return 2===(null==t?void 0:t.is_recommend)})),t.currentTypes=1===t.initRecommendType?t.recommendTypes:t.notRecommendedTypes)})).finally((function(){t.loading=!1}))},openModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.resetData(),this.tagType=t.type,this.initRecommendType=t.recommendType,this.formData.obj_id=t.id,this.formData.isRecommend=t.recommendType,this.info=t,this.getTagList(),this.visible=!0},resetData:function(){this.tagType=1,this.info=null,this.formData={obj_id:"",isRecommend:1,recommend_types:[]},this.submitLoading=!1,this.loading=!1},handleClose:function(){this.visible=!1},handleConfirm:function(){var t=this;this.$refs.form.validate((function(e){e&&t.submitData()}))},submitData:function(){var t=this;if("reviewer"===this.role){var e=this.formData,n=e.obj_id,o=e.isRecommend,r=e.recommend_types,c={obj_id:n,is_recommend:o,cover_uri:this.coverUrl,category_ids:r};this.submitLoading=!0,Object(l.a)(c).then((function(){t.$message.success("操作成功"),t.handleClose()})).finally((function(){t.submitLoading=!1}))}}},beforeDestroy:function(){this.$EventBus.$off("openRecPopup")}},f=h,m=(n(4510),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"custom-dialog",attrs:{title:"设置分类",visible:t.visible,"custom-class":"set-tag-modal","append-to-body":""},on:{"update:visible":function(e){t.visible=e}}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",staticClass:"custom-form",attrs:{model:t.formData,rules:t.rules}},[e("el-form-item",{attrs:{label:"类别",prop:"isRecommend",required:""}},[e("el-radio-group",{on:{input:t.changeTypes},model:{value:t.formData.isRecommend,callback:function(e){t.$set(t.formData,"isRecommend",e)},expression:"formData.isRecommend"}},[e("el-radio",{attrs:{label:1}},[t._v("推荐")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("不推荐")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"关联分类",prop:"recommend_types",required:""}},[e("el-select",{staticClass:"recommend-select",attrs:{placeholder:"请选择关联分类","popper-class":"custom-select",filterable:"",multiple:""},model:{value:t.formData.recommend_types,callback:function(e){t.$set(t.formData,"recommend_types",e)},expression:"formData.recommend_types"}},t._l(t.currentTypes,(function(t,n){return e("el-option",{key:"types_"+t.id+n,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-btn",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.submitLoading,disabled:t.loading},on:{click:t.handleConfirm}},[t._v(t._s(t.$t("Submit"))+"\n    ")])],1)],1)}),[],!1,null,"698d53a6",null);e.default=component.exports},5686:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(13),n(8),n(7);var o=n(3),r=n(2),l=(n(20),n(19),n(6),n(32),n(18),n(24),n(4),n(26),n(10)),c=n(1),d=n(147),h=n(54);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"ShareCreteDialog",props:{type:{type:String,default:""},workId:{type:String,default:""},showDownload:{type:Boolean,default:!0}},data:function(){return{saveImg:l.M,copyTextToClipboard:l.g,isShowDialog:!1,inDownload:!1,from:"",imageData:null,config:[{name:"Pinterest",icon:"icon-pinpin",color:"#F7FBFA",bgColor:"#d1302f"},{name:"Facebook",icon:"icon-facebook",color:"#F7FBFA",bgColor:"#1D93FF"},{name:"X",icon:"icon-X1",color:"#000000",bgColor:"#FFFFFF"},{name:"WhatsApp",icon:"icon-whatsapp",color:"#FFFFFF",bgColor:"#5CC767"},{name:"copyLink",icon:"a-copylink",color:"#000000",bgColor:"#FFFFFF"},{name:"Download",icon:"icon-Download",color:"#000000",bgColor:"#FFFFFF"}],shareText:"",shareHashTag:"SeaArt,AIart,AIイラスト,stablediffusion"}},computed:m(m(m({},Object(c.e)("creation",["generateViewShow"])),Object(c.c)("user",["userInfo","isLoggedIn"])),{},{imageRatio:function(){var t,e,n,o;return null!==(t=this.imageData)&&void 0!==t&&t.width&&null!==(e=this.imageData)&&void 0!==e&&e.height?(null===(n=this.imageData)||void 0===n?void 0:n.width)>=(null===(o=this.imageData)||void 0===o?void 0:o.height)?"wide":"tall":"wide"},imageRatioClass:function(){return"wide"===this.imageRatio?"wide-dialog":"tall"===this.imageRatio?"tall-dialog":"default-dialog"},inviteCode:function(){var t;return(null===(t=this.userInfo)||void 0===t?void 0:t.invite_user_code)||""},shareUrl:function(){var t;if(null!==(t=this.imageData)&&void 0!==t&&t.id){var e=this.$isChinaSite?"www.seaart.me":"www.seaart.ai";return"https://".concat(e,"/explore/detail/").concat(this.imageData.id,"?source=share_link")+(this.inviteCode?"?u_code=".concat(this.inviteCode):"")}},posterImage:function(){var t;return null===(t=this.imageData)||void 0===t?void 0:t.url},getIconStyle:function(){return function(t){return{color:t.color,backgroundColor:t.bgColor}}},rateNumber:function(){return Math.floor(5*Math.random())+95},connectConfig:function(){return this.$isChinaSite?this.config.filter((function(t){return"Download"===t.name||"copyLink"===t.name})):this.config}}),watch:{isShowDialog:{handler:function(t,e){t&&!e&&this.rateNumber>=95&&Object(d.f)()}}},mounted:function(){var t=this;this.shareText=this.$t("HomeTitle"),this.$EventBus.$on("shareToNetworks",function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(data){var n,o,r,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",data),o=(n=data||{}).imageTask,r=void 0===o?{}:o,l=n.from,c=void 0===l?"createTask":l,e.next=4,t.checkTimeShowDialog();case 4:if(!e.sent){e.next=20;break}if(d=t.getValidItem(r),!t.imageData){e.next=13;break}if(!t.generateViewShow){e.next=11;break}return t.isShowDialog=!0,e.next=11,t.saveShowDialog();case 11:e.next=20;break;case 13:if(!d){e.next=20;break}if(t.imageData=d,!t.generateViewShow){e.next=19;break}return t.isShowDialog=!0,e.next=19,t.saveShowDialog();case 19:!t.from&&(t.from=c);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},beforeDestroy:function(){this.$EventBus.$off("shareToNetworks")},methods:m(m({},Object(c.b)("user",["getAccountInfo"])),{},{isVideoUrl:l.H,close:function(){this.isShowDialog=!1},resetData:function(){this.imageData=null,this.from=""},handleCopyLink:function(){this.copyTextToClipboard(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},handleDownloadImg:function(){var t=this;if(this.isLoggedIn){if(!this.inDownload){this.inDownload=!0;var element=document.querySelector("#shareCard");n(634)(element,{scale:1,useCORS:!0,allowTaint:!1}).then((function(canvas){var link=document.createElement("a");link.href=canvas.toDataURL(),link.download="share.png",link.click(),t.inDownload=!1}))}}else this.$EventBus.$emit("openLoginDialog")},handleClick:function(t){switch(this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_excellent_rating_pop",behavior_info_sub:"click_".concat(t.name)}),t.name){case"Pinterest":case"Facebook":case"X":case"WhatsApp":this.handleShare(t.name);break;case"Download":this.handleDownloadImg();break;case"copyLink":this.handleCopyLink()}},handleShare:function(t){var e=this,n={Pinterest:"https://www.pinterest.com/pin/create/button/?url=",Facebook:"https://www.facebook.com/sharer/sharer.php?u=",X:"https://twitter.com/intent/tweet?",WhatsApp:"https://web.whatsapp.com/send?"};switch(console.log("handleShare",n[t],this.shareUrl,this.shareText),t){case"Pinterest":var o=window.open(n[t]+encodeURIComponent(this.shareUrl)+"&media="+encodeURIComponent(this.posterImage),"share","width=600,height=700,menubar=no,toolbar=no"),r=setInterval((function(){o.closed&&(clearInterval(r),1!==e.userInfo.is_pinterest_share_award&&Object(d.m)().then((function(){e.isShowDialog=!1,e.getAccountInfo()})))}),500);break;case"Facebook":window.open(n[t]+encodeURIComponent(this.shareUrl),"_blank");break;case"X":window.open(n[t]+"url="+encodeURIComponent(this.shareUrl)+"&text="+encodeURIComponent(this.shareText)+"&hashtags="+encodeURIComponent(this.shareHashTag),"_blank");break;case"WhatsApp":var text=encodeURIComponent("".concat(this.shareText," ").concat(this.shareUrl));window.open(n[t]+"text="+text,"_blank")}},saveShowDialog:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$logEvent("log_actions",{operation:"excellent_rating_pop_show",behavior_info:"on_creation"}),n="shareDialog"+t.userInfo.id,e.next=4,localStorage.setItem(n,(new Date).getTime());case 4:case"end":return e.stop()}}),e)})))()},checkTimeShowDialog:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="shareDialog"+t.userInfo.id,e.next=3,localStorage.getItem(n);case 3:if(o=e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:if(r=new Date,l=new Date(Number(o)),r.getDate()===l.getDate()){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))()},getValidItem:function(t){if(null!=t&&t.share){var e,n=null==t||null===(e=t.share)||void 0===e?void 0:e.artwork_id;return m(m({},null==t?void 0:t.img_uris.find((function(t){return t.artwork_no===n}))),{},{id:n,taskId:null==t?void 0:t.task_id})}},getRandomSubtitle:function(){var t=Math.floor(4*Math.random())+2;return this.$t("shareDlgTitleSub".concat(t))},handlePost:function(){var t,e,n,o={taskId:null===(t=this.imageData)||void 0===t?void 0:t.taskId,index:null===(e=this.imageData)||void 0===e?void 0:e.index,url:null===(n=this.imageData)||void 0===n?void 0:n.url},r={types:[h.CONTRIBUTION_TYPE_ENUM.WORK],source:"task",selectedData:[o]};this.isShowDialog=!1,this.$EventBus.$emit("openContribution",r)}})},_=v,y=(n(4526),n(0)),component=Object(y.a)(_,(function(){var t,e=this,o=e._self._c;return o("el-dialog",{staticClass:"share-create-dialog custom-dialog",class:e.imageRatioClass,attrs:{visible:e.isShowDialog,"append-to-body":"","show-close":!1,"destroy-on-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowDialog=t},closed:e.resetData}},[o("div",{staticClass:"close-icon",on:{click:e.close}},[o("i",{staticClass:"el-icon-close"})]),e._v(" "),o("div",{staticClass:"container",attrs:{id:"shareCard"}},[o("div",{staticClass:"top"},[o("div",{staticClass:"slogan"},[e._v(e._s(e.$t("excellent")))]),e._v(" "),o("div",{staticClass:"desc"},[e._v("\n        "+e._s(e.getRandomSubtitle())+"\n      ")])]),e._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.inDownload,expression:"inDownload"}],staticClass:"content"},[o("div",{staticClass:"mask"},[e.posterImage?o("img",{staticClass:"poster",attrs:{alt:"poster",src:(null===(t=e.imageData)||void 0===t?void 0:t.cover_url)||e.posterImage},on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}}):e._e(),e._v(" "),e.isVideoUrl(e.posterImage)?o("div",{staticClass:"video-mark flex_c_m"},[o("i",{staticClass:"iconfont icon-icon-tag-creation"})]):e._e()]),e._v(" "),"wide"===e.imageRatio?o("div",{staticClass:"rate-content wide"},[o("div",{staticClass:"rate-logo"},[o("img",{attrs:{src:n(1070),alt:"seaart-icon"},on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}})]),e._v(" "),o("div",{staticClass:"rate-right"},[o("div",{staticClass:"rate-number"},[e._v(e._s(e.rateNumber))]),e._v(" "),o("div",{staticClass:"rate-star"},e._l(5,(function(t){return o("i",{key:t,staticClass:"iconfont icon-icon-star"})})),0)])]):o("div",{staticClass:"rate-content height"},[o("div",{staticClass:"rate-logo"},[o("img",{attrs:{src:n(1071),alt:"seaart-icon"},on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}})]),e._v(" "),o("div",{staticClass:"rate-right"},[o("div",{staticClass:"rate-number"},[e._v(e._s(e.rateNumber))]),e._v(" "),o("div",{staticClass:"rate-star"},e._l(5,(function(t){return o("i",{key:t,staticClass:"iconfont icon-icon-star"})})),0)])])]),e._v(" "),o("div",{staticClass:"bottom"},[o("div",{staticClass:"share-pinterest"},[o("div",{staticClass:"text-desc"},[o("span",[e._v(e._s(e.$t("post_to_community")))])]),e._v(" "),o("div",{staticClass:"share-btn",on:{click:e.handlePost}},[e._v(e._s(e.$t("post_now")))])])])])])}),[],!1,null,"b0df80b0",null);e.default=component.exports},569:function(t,e,n){"use strict";n.r(e);var o={props:{visible:{type:Boolean,default:!1},createEntryList:{type:Array,default:function(){return[]}}}},r=(n(4824),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"model-create-dialog",attrs:{visible:t.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":""},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"section-header"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("toCreate")))]),t._v(" "),e("div",{staticClass:"close-btn",on:{click:function(e){return t.$emit("update:visible",!1)}}},[e("Icon",{attrs:{name:"close",size:"16",color:"#F7FBFA"}})],1)]),t._v(" "),e("div",{staticClass:"section-content"},[e("div",{staticClass:"entry-list"},t._l(t.createEntryList,(function(n){return e("div",{key:n.id,staticClass:"entry-item",attrs:{"data-id":n.id,"data-event":n.logEventOperation},on:{click:n.clickFn}},[e("Icon",{staticClass:"item-icon",attrs:{name:n.icon,size:"36",color:"#f4f4f4"}}),t._v(" "),e("div",{staticClass:"item-title"},[t._v(t._s(n.title))])],1)})),0)])])}),[],!1,null,"1a3a47e2",null);e.default=component.exports},571:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(20),n(16),n(24),n(4),n(21),n(61)),l=n(51),c={name:"SingleImageUpload",props:{accept:{type:String,default:".jpg,.jpeg,.png,.webp"},inCheck:{type:Boolean,default:!1},maxSize:{type:Number,default:5},category:{type:Number,default:2},defaultImageUrl:{type:String,default:""}},watch:{defaultImageUrl:{handler:function(t){t&&(this.imageUrl=t,!this.tempDefaultImageUrl&&(this.tempDefaultImageUrl=t))}}},data:function(){return{imageUrl:"",tempDefaultImageUrl:"",imgFile:null,loading:!1,uploadResult:{url:"",width:"",height:""}}},methods:{handleFileChange:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,t.imgFile=t.$refs.input.files[0],console.log("this.imgFile",t.imgFile),t.imgFile){e.next=6;break}return t.loading=!1,e.abrupt("return");case 6:return(n=new FileReader).readAsDataURL(t.imgFile),n.onload=function(){var img=new Image;img.src=n.result,img.onload=function(){t.uploadResult.width=img.naturalWidth,t.uploadResult.height=img.naturalHeight,console.log("this.uploadResult",t.uploadResult)}},e.prev=9,e.next=12,t.handleBeforeUpload(t.imgFile);case 12:r=e.sent,t.uploadResult.url=r.url,console.log("uploadResult",t.uploadResult),(null===(o=t.uploadResult)||void 0===o?void 0:o.url)&&t.$emit("upload",t.uploadResult),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),console.error("上传失败",e.t0),t.resetImageFile();case 22:case"end":return e.stop()}}),e,null,[[9,18]])})))()},handleBeforeUpload:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(["image/jpeg","image/png","image/webp","image/jpg"].includes(t.type)){n.next=4;break}return e.$message.error(e.$t("AllowImageFiles")),n.abrupt("return",Promise.reject(new Error(e.$t("AllowImageFiles"))));case 4:if(t.size/1024/1024<=e.maxSize,!(t.size/1024/1024>e.maxSize)){n.next=16;break}return n.prev=6,n.next=9,Object(r.a)(t,1024*e.maxSize*1024);case 9:t=n.sent,n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(6),console.error("Compression failed:",n.t0),n.abrupt("return",Promise.reject(new Error(e.$t(n.t0.message||"HttpErrorCode_30003"))));case 16:if(t.size/1024/1024<=e.maxSize){n.next=21;break}return o=5===e.maxSize?"UploadImageExceed5MB":2===e.maxSize?"UploadImageExceed2MB":"HttpErrorCode_30003",e.$message.error(e.$t(o)),n.abrupt("return",Promise.reject(new Error(e.$t("UploadImageExceed2MB"))));case 21:return n.next=23,e.handleUploadCommon(t);case 23:return l=n.sent,console.log("上传结果",l),e.imageUrl=l.url,n.abrupt("return",l);case 27:case"end":return n.stop()}}),n,null,[[6,12]])})))()},handleUploadCommon:function(t){var e=this;return new Promise((function(n,o){new l.a({type:2}).startUpload(t,{name:"img".concat(Date.now(),".png"),type:"png",category:e.category,size:t.size,needFileId:!0}).then((function(t){e.$logEvent("log_actions",{operation:"click_upload_cover",behavior_info:t.file_id}),n({url:t.url})})).catch((function(){console.error("上传失败"),o()})).finally((function(){e.loading=!1}))}))},deleteFile:function(){this.resetImageFile(),""===this.imageUrl&&this.$emit("upload")},resetImageFile:function(){this.imageUrl="",this.imgFile=null,this.loading=!1}}},d=(n(4916),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-avatar"},[e("div",{staticClass:"avatar-uploader"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"upload"},[e("label",{staticClass:"upload-demo",class:{disabled:t.inCheck},attrs:{for:"avatar"}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("input",{ref:"input",staticStyle:{display:"none"},attrs:{id:"avatar",type:"file",accept:t.accept,disabled:t.inCheck},on:{change:t.handleFileChange}}),t._v(" "),t.imageUrl?e("div",{staticClass:"img-handle"},[e("i",{staticClass:"el-icon-delete",on:{click:t.deleteFile}})]):t._e()])])])}),[],!1,null,"2abf2980",null);e.default=component.exports},576:function(t,e,n){"use strict";n.r(e);n(18),n(11),n(6),n(12),n(13),n(8),n(448),n(47);var o=n(259),r=n.n(o),l=n(3),c=n(2),d=(n(20),n(19),n(73),n(22),n(4),n(7),n(26),n(10)),h=n(1),f=n(1154),m=n(968),v=n.n(m);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"ShareChatDialog",data:function(){return{saveImg:d.M,copyTextToClipboard:d.g,isShowDialog:!1,shareUrl:"",posterImage:"",shareTitle:"",shareText:"",shareHashTag:"SeaArt,AIart,AIイラスト,stablediffusion",config:[{name:"Facebook",icon:"icon-facebook",color:"#fff",bgColor:"#1D93FF"},{name:"X",icon:"icon-X1",color:"#000000",bgColor:"#fff"},{name:"WhatsApp",icon:"icon-whatsapp",color:"#fff",bgColor:"#5CC767"},{name:"Link",icon:"link",color:"#000",bgColor:"#fff"},{name:"Download",icon:"icon-Download",color:"#000",bgColor:"#fff"}],filterNodes:["share-text","share-btn-box"]}},computed:y(y({},Object(h.c)("user",["userInfo","isLoggedIn"])),{},{getPosterBgStyle:function(){var t=[v.a,this.posterImage];return{backgroundImage:t.map((function(img){return"url(".concat(img,")")})).join(", "),backgroundRepeat:"no-repeat",backgroundPosition:t.map((function(t,e){return 0===e?"12px 441px":"center center"})).join(", "),backgroundSize:t.map((function(t,e){switch(e){case 0:return"118px auto";case 1:return"cover";default:return"contain"}})).join(", ")}},getIconStyle:function(){return function(t){return{color:"".concat(t.color," !important"),backgroundColor:t.bgColor}}}}),methods:{show:function(t,e){var title=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"seaart";this.shareTitle=title,this.shareText=this.$t("character_share_pic01"),this.posterImage=e,this.isShowDialog=!0,this.shareUrl=t,this.filename=n},close:function(){this.isShowDialog=!1},resetData:function(){this.shareUrl="",this.posterImage=""},handleClick:function(t){switch(t.name){case"Facebook":case"X":case"WhatsApp":this.handleShare(t.name);break;case"Link":this.handleCopyLink();break;case"Download":this.handleDownload()}},handleCopyLink:function(){Object(d.g)(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},handleShare:function(t){var e={Facebook:"https://www.facebook.com/sharer/sharer.php?u=",X:"https://twitter.com/intent/tweet?",WhatsApp:"https://web.whatsapp.com/send?"};switch(t){case"Facebook":window.open(e[t]+encodeURIComponent(this.shareUrl),"_blank");break;case"X":window.open(e[t]+"url="+encodeURIComponent(this.shareUrl)+"&text="+encodeURIComponent(this.shareText)+"&hashtags="+encodeURIComponent(this.shareHashTag),"_blank");break;case"WhatsApp":var text=encodeURIComponent("".concat(this.shareText," ").concat(this.shareUrl));window.open(e[t]+"text="+text,"_blank")}},handleDownload:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var o,l,c,d,h,filter,canvas,m,v,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedIn){e.next=3;break}return t.$EventBus.$emit("openLoginDialog"),e.abrupt("return");case 3:if(t.posterImage){e.next=5;break}return e.abrupt("return");case 5:return o=r.a.service({fullscreen:!0,background:"rgba(0, 0, 0, 0.7)"}),e.prev=6,l=t.$refs.container,c=navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome"),d=function(e){var link=document.createElement("a");link.href=e,link.download="".concat(t.filename||"seaart",".png"),link.click()},e.next=12,t.$nextTick();case 12:if(!c){e.next=23;break}return e.next=15,new Promise((function(t){return setTimeout(t,300)}));case 15:return h=n(634),filter=function(e){var n=e.querySelector(".container");n&&t.filterNodes.forEach((function(t){var element=n.querySelector(".".concat(t));element&&(element.style.display="none")}))},e.next=19,h(l,{dpi:300,useCORS:!0,allowTaint:!1,scale:1,onclone:filter});case 19:(canvas=e.sent)&&(m=canvas.toDataURL(),d(m)),e.next=28;break;case 23:return v=function(e){return!t.filterNodes.some((function(t){var n;return null===(n=e.classList)||void 0===n?void 0:n.contains(t)}))},e.next=26,Object(f.a)(l,{filter:v,height:564,skipFonts:!0,imagePlaceholder:void 0,cacheBust:!0,pixelRatio:window.devicePixelRatio});case 26:(_=e.sent)&&d(_);case 28:o.close(),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(6),console.warn("保存海报失败",e.t0),o.close();case 35:case"end":return e.stop()}}),e,null,[[6,31]])})))()}}},C=w,x=(n(5139),n(0)),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"share-dialog custom-dialog",attrs:{visible:t.isShowDialog,"show-close":!1,"destroy-on-close":!0,"close-on-click-modal":!1,modal:!1,"append-to-body":""},on:{"update:visible":function(e){t.isShowDialog=e},closed:t.resetData}},[e("div",{staticClass:"close-icon",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{ref:"container",staticClass:"container",on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}},[e("div",{staticClass:"share-title"},[t._v(t._s(t.shareTitle))]),t._v(" "),e("div",{staticClass:"share-text"},[t._v(t._s(t.shareText))]),t._v(" "),e("div",{staticClass:"poster-box",style:t.getPosterBgStyle}),t._v(" "),e("div",{staticClass:"share-btn-box"},t._l(t.config,(function(n){return e("div",{key:n.name,staticClass:"share-btn-item",on:{click:function(e){return t.handleClick(n)}}},[e("i",{class:"iconfont icon-"+n.icon,style:t.getIconStyle(n)})])})),0)])])}),[],!1,null,"34804222",null);e.default=component.exports},5802:function(t,e,n){"use strict";n.r(e);var o={name:"QQCallback",data:function(){return{}},created:function(){this.init()},mounted:function(){},methods:{init:function(){this.$route.query.code?this.$router.push({path:"/",query:{openLoginDialog:"1",tencentCode:this.$route.query.code,tencentType:"qq"}}):(this.$router.push({path:"/home"}),this.$message.error(this.$t("ServerError")))}}},r=n(0),component=Object(r.a)(o,(function(){return(0,this._self._c)("div")}),[],!1,null,"1251d456",null);e.default=component.exports},5803:function(t,e,n){"use strict";n.r(e);var o={name:"WechatCallback",data:function(){return{}},created:function(){this.init()},mounted:function(){},methods:{init:function(){this.$route.query.code?this.$router.push({path:"/",query:{openLoginDialog:"1",tencentCode:this.$route.query.code,tencentType:"wechat"}}):(this.$router.push({path:"/home"}),this.$message.error(this.$t("ServerError")))}}},r=n(0),component=Object(r.a)(o,(function(){return(0,this._self._c)("div")}),[],!1,null,"7c31366d",null);e.default=component.exports},5804:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(19),n(73),n(28),n(44),n(513)),l=n(5021),c=n.n(l),d=n(1),h=n(266);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=Object(o.a)(Object(o.a)({name:"LoginOther",components:{LoginCard:r.default},data:function(){return{loginFrom:"loginOther",callbackurl:""}},mounted:function(){Object(h.d)((function(){}))},computed:m({},Object(d.c)("user",["isLoggedIn"]))},"mounted",(function(){var t,e=null===(t=this.$route)||void 0===t||null===(t=t.query)||void 0===t?void 0:t.callbackurl;e?(this.callbackurl=decodeURIComponent(e),this.isLoggedIn&&this.handleLoginSuccess(this.$cookies.get("T"))):this.$router.replace("/")})),"methods",m(m({},Object(d.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser","logout"])),{},{handleChangeShowPopup:function(t){console.log("handleChangeShowPopup",t)},handleStepChange:function(t){console.log("stepChange",t)},handleLoginSuccess:function(t){var e=this.generateSimpleDeviceFingerprint();t&&this.callbackurl&&(window.location.href="".concat(this.callbackurl,"?t=").concat(t,"&d=").concat(e))},generateSimpleDeviceFingerprint:function(){var t=[navigator.userAgent,navigator.language,navigator.hardwareConcurrency,screen.width,screen.height,(new Date).getTimezoneOffset()],e=Math.floor(Date.now()/6e5),n=[].concat(t,[e]).join("|");return c()(n)}})),_=(n(5022),n(0)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-other"},[e("div",{staticClass:"container"},[e("LoginCard",{ref:"loginCard",attrs:{loginFrom:t.loginFrom,isShowPopup:!0,autoActive:!0},on:{changeShowPopup:t.handleChangeShowPopup,stepChange:t.handleStepChange,loginSuccess:t.handleLoginSuccess}})],1)])}),[],!1,null,"4a7f38f4",null);e.default=component.exports;installComponents(component,{LoginCard:n(513).default})},5826:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(7);var o=n(3),r=n(2),l=(n(20),n(16),n(73),n(22),n(8),n(4),n(21),n(3418)),c=n(3419),d=n(3420),h=n(27),f=n(48),m=n(153),v=n(1),_=n(106),y=n(78),w=n(461);function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O={name:"RegisterPopup",components:{StepList1:l.default,StepList2:c.default,StepList3:d.default},data:function(){return{currentStep:0,visible:!1,formData:{token:"",lang:this.$i18n.locale,sex:0,interest_tag:[],interest_module:[]},popupTop:"5vh",registerConfig:[],loading:!1,redirect:"",codeMap:{10405:"code_10405",10407:"code_10407",10408:"code_10408",20302:"UserNameRepeat"},isSkip:!1}},computed:{isNext:function(){var t=this.formData,e=t.sex,n=(t.interest_module,t.interest_tag);return 0===this.currentStep?0!==e:1===this.currentStep?n.length>=3:this.currentStep<1},popupWidth:function(){return 1===this.currentStep?"1000px":"660px"},btnText:function(){return 1===this.currentStep?this.formData.interest_tag.length<3?"register_popup_btn_text":"register_popup_btn_text_done":"NextStep"},tagList:function(){var t,e=this.formData.sex;return(null===(t=this.registerConfig)||void 0===t?void 0:t[e-1])||[]}},watch:{formData:{handler:function(t){var e=t.sex,n=t.interest_tag,o=t.interest_module;localStorage.setItem("registerFormData",JSON.stringify({sex:e,interest_tag:n,interest_module:o}))},deep:!0},currentStep:function(t){this.$logEvent("log_actions",{operation:"register_popup_"+(t+1),behavior_info:"on_register_popup"})}},methods:x(x(x({},Object(v.b)("user",["getAccountInfo"])),Object(v.b)("payment",["getPaymentInfo"])),{},{show:function(data){var t=localStorage.getItem("registerFormData");t?Object.assign(this.formData,JSON.parse(t)):this.initFormData(),this.visible=!0,this.formData.token=data.token,this.redirect=data.redirect,this.getConfig(),this.$logEvent("log_actions",{operation:"register_popup_1",behavior_info:"on_register_popup"})},hide:function(){this.visible=!1},handleSkip:function(){0===this.currentStep&&(this.formData.sex=this.formData.sex||3,this.isSkip=!0),this.handleNext()},handleStep:function(t){!this.isNext||t>this.currentStep||(this.currentStep=t)},handleNext:function(){this.addNextLogEvent(),this.currentStep<1?this.currentStep++:this.activeAccount()},addNextLogEvent:function(){var t=this.formData.sex;1===this.currentStep&&(t=this.formData.interest_tag.join(",")),this.$logEvent("log_actions",{operation:"click_next_button"+(this.currentStep+1),behavior_info:"on_register_popup",behavior_info_sub:t})},activeAccount:function(){var t=this,e=JSON.parse(JSON.stringify(this.formData));this.isSkip&&(e.sex=0),this.loading=!0,Object(h.ub)(e,{isSilent:!0,headers:{Token:this.formData.token}}).then((function(e){var code=(e||{status:"",data:{}}).status.code;if(Object.keys(t.codeMap).includes(String(code)))t.$message.warning(t.$t(t.codeMap[String(code)]));else if(1e4===code){var n;t.handleSuccess(),null!==(n=window)&&void 0!==n&&n.mkq&&mkq("track","CompleteRegistration",{content_name:"register",status:"complete"})}})).finally((function(){t.loading=!1}))},initFormData:function(){this.currentStep=0,this.formData.sex=0,this.formData.interest_tag=[],this.formData.interest_module=[]},handleSuccess:function(){var t=this;Object(f.v)(),this.$cookies.set("T",this.formData.token,{maxAge:5184e3,path:"/"}),this.getAccountInfo().then((function(e){console.log(e),t.addLogEvent(null==e?void 0:e.data),Object(m.c)(null==e?void 0:e.data),Object(w.a)("signup"),t.$yandexMetrika.register()})),this.getPaymentInfo(),localStorage.removeItem("registerFormData"),this.handlePopup(!0),this.gotoPath(),this.hide()},gotoPath:function(){"/"!==this.redirect&&this.redirect?this.$router.push(this.redirect):this.$EventBus.$emit("updateHomeTag")},addLogEvent:function(t){var e=t.email,n=t.create_at;this.$logEvent("web_complete_registration"),this.$logEvent("log_registers",{source:localStorage.getItem("inviteCode"),mail:e,reg_at:n}),this.$logEvent("log_login_accounts",{source:localStorage.getItem("inviteCode"),mail:e,reg_at:n}),Object(_.c)()},getConfig:function(){var t=this,e=localStorage.getItem("registerConfig");if(e)return this.registerConfig=JSON.parse(e),void this.$set(this,"registerConfig",this.registerConfig);Object(h.S)({},{headers:{Token:this.formData.token}}).then((function(e){var n=((null==e?void 0:e.data)||{}).items;t.registerConfig=n.map((function(t){return null==t?void 0:t.interest_tag})),t.$set(t,"registerConfig",t.registerConfig),localStorage.setItem("registerConfig",JSON.stringify(t.registerConfig))}))},handleBack:function(){this.currentStep--},handlePopup:function(){var t=arguments,e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>0&&void 0!==t[0]&&t[0],!(r=localStorage.getItem("newUserSubscriptionInfo"))){n.next=9;break}return localStorage.removeItem("newUserSubscriptionInfo"),console.log("发现新用户标记，请求显示曝光弹窗..."),n.next=7,y.b.requestPopupDisplay(y.a.NEW_USER_EXPOSURE,{newUserMark:r},{highPriority:!0,isNewUser:o});case 7:n.next=11;break;case 9:e.$EventBus.$emit("showActivationDialog"),console.log("无标记，检查 API 状态...");case 11:case"end":return n.stop()}}),n)})))()}})},k=O,j=(n(5609),n(0)),component=Object(j.a)(k,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"register-popup",attrs:{visible:t.visible,"show-close":!1,"custom-class":"custom-dialog",width:t.popupWidth,top:t.popupTop,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"popup-body",class:"step-"+t.currentStep},[e("span",{staticClass:"skip-btn",on:{click:t.handleSkip}},[t._v(t._s(t.$t("Skip")))]),t._v(" "),e("div",{staticClass:"body-step"},[t._l(2,(function(n){return e("div",{key:"step_"+n,class:{active:n-1===t.currentStep},on:{click:function(e){return t.handleStep(n-1)}}})})),t._v(" "),t.currentStep>0?e("i",{staticClass:"el-icon-arrow-left back-icon",on:{click:t.handleBack}}):t._e()],2),t._v(" "),e("div",{staticClass:"body-info"},[e("div",{staticClass:"info-title"},[t._v(t._s(t.$t("register_popup_title"+t.currentStep)))]),t._v(" "),e("div",{staticClass:"info-desc"},[t._v(t._s(t.$t("register_popup_desc"+t.currentStep)))])]),t._v(" "),e("div",{staticClass:"body-list"},[0===t.currentStep?e("StepList1",{on:{input:t.handleNext},model:{value:t.formData.sex,callback:function(e){t.$set(t.formData,"sex",e)},expression:"formData.sex"}}):t._e(),t._v(" "),1===t.currentStep?e("StepList3",{attrs:{list:t.tagList},model:{value:t.formData.interest_tag,callback:function(e){t.$set(t.formData,"interest_tag",e)},expression:"formData.interest_tag"}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"popup-btn",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:!t.isNext,loading:t.loading},on:{click:t.handleNext}},[t._v("\n      "+t._s(t.$t(t.btnText,{NUM:3-t.formData.interest_tag.length}))+"\n    ")])],1)])}),[],!1,null,"5fec9b62",null);e.default=component.exports},5828:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(13),n(8),n(7);var o=n(3),r=n(14),l=n(2),c=(n(20),n(19),n(6),n(32),n(50),n(16),n(73),n(22),n(49),n(4),n(1)),d=n(3421),h=n(609),f=n(3422),m=n(64),v=n(595),_=n(3423),y=n(129),w=n(3424),C=n(3425),x=n(239),O=n(3426),k=n(39),j=n(29),I=n(36),S=n(27),P=n(82),D=n(3451),L=n(10),T=n(380),$=n.n(T);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M={aiImageApp:["image"],aiVideoApp:["video"]},E={name:"HyAssembleModal",provide:function(){return{AssembleModalApp:this,homePageApp:this}},components:{NavTabs:d.default,HyFeaturedList:h.default,RecentlyUsed:f.default,HyWaterfallFlowList:m.default,HyHomeForms:v.default,BasicFun:_.default,NoData:y.default,MyCollection:w.default,MyCreateWork:C.default,LenovoInput:x.default,MyInput:O.default},data:function(){return{isShowDialog:!1,tabList:[],activeTab:"",activeTabObj:{},configAllData:[],homeData:{},configCurrentData:{},showObj:{},waterfallList:[],waterLoading:!1,pageParam:{offset:"",page:1,page_size:35},createRefer:{},keyword:"",collectKeyword:""}},computed:R(R({},Object(c.c)("user",["isLoggedIn"])),{},{isHeadTab:function(){return["aiImageApp","aiVideoApp"].includes(this.activeTab)},doorType:function(){return M[this.showObj.doorCode].join()},inputTypes:function(){return M[this.showObj.doorCode]||[]}}),methods:{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isShowDialog=!0,this.showObj=t,this.getConfigData(),this.getTaskConfig(),this.addRecentUsedData(),document.body.classList.add("hidden-scroll-body"),this.postLogDataByType("exposure",{obj_category:"play_popup",obj_desc:"玩一玩弹窗曝光"})},hide:function(){this.isShowDialog=!1,this.resetDoorInit(),document.body.classList.remove("hidden-scroll-body"),this.$EventBus.$emit("videoControl",{isPause:!1}),this.postLogData("close")},handleTabChange:function(t){this.keyword="",this.activeTabObj=R(R({},t),{},{index:this.tabList.findIndex((function(e){return e.value===t.value}))}),this.collectKeyword="",this.activeTab=t.value,this.postLogDataByType("click",{obj_category:"play_popup_nav",pt:this.$t(t.label,"en"),obj_desc:"玩一玩弹窗tab切换"})},resetDoorInit:function(){var t=this;this.keyword="",this.activeTabObj={},this.activeTab="",this.waterLoading=!1,this.pageParam.page=1,this.pageParam.offset="",this.waterfallList=[],this.$nextTick((function(){var e;null===(e=t.$refs)||void 0===e||null===(e=e.HyHomeFormsRef)||void 0===e||e.initFilter()}))},addRecentUsedData:function(){var t=this.showObj;this.isLoggedIn&&Object(L.x)(t.workUrl).then((function(e){var n={artwork_id:t.artWorkNo,scene:"play_around",url:t.workUrl,width:e.width,height:e.height};Object(S.b)({items:[n]})}))},getConfigData:function(){var t=this;this.configAllData.length?this.setTabsData():Object(k.l)({parent_id:"door",type:"page"}).then((function(e){var n;t.configAllData=(null===(n=e.data)||void 0===n?void 0:n.items)||[],t.setTabsData()}))},handleWaterfallLoad:function(){this.keyword?this.handleKeywordSearch():this.getWaterfallData()},changeCollectKeyword:function(t){var e=this;this.$nextTick((function(){e.$refs.MyCollectionRef.changeKeyword(t)}))},handleWaterfallData:function(t,e){var n=[];n=(n="add"===e?this.waterfallList.concat(t):t).map((function(t,e){return R(R({},t),{},{position:{parent:0,index:e}})})),this.waterfallList=n},handleSearch:$()((function(t){var e=this,n=(this.showObj,{obj_name:t,obj_type:14,order_by:"hot",page:1,page_size:35,input_types:this.inputTypes,output_types:this.inputTypes});this.keyword=t,this.pageParam.page=1,this.pageParam.offset="",this.waterLoading=!1,t?Object(P.a)(n).then((function(t){var n;e.pageParam.page++,e.handleWaterfallData(null===(n=t.data)||void 0===n?void 0:n.items,"init")})):this.getWaterfallData({afterCall:function(){e.waterfallList=[]}})}),300),handleKeywordSearch:function(){var t=this;if(!this.waterLoading&&this.isHeadTab){this.showObj;this.waterLoading=!0,Object(P.a)(R(R({},this.pageParam),{},{obj_name:this.keyword,offset:void 0,obj_type:14,order_by:"hot",input_types:this.inputTypes,output_types:this.inputTypes})).then((function(e){t.pageParam.page++,t.handleWaterfallData(e.data.items,"add"),t.waterLoading=!1})).catch((function(){t.waterLoading=!1}))}},screenWaterList:function(){var t=this;this.pageParam.page=1,this.pageParam.offset="",this.waterLoading=!1,this.getWaterfallData({afterCall:function(){t.waterfallList=[]}}),this.postLogData(this.$t("Filter","en"))},getWaterfallData:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).afterCall;if(!this.waterLoading&&this.isHeadTab){this.waterLoading=!0;var n=this.pageParam,o=this.$refs.HyHomeFormsRef.formData,r=R(R({input_types:this.inputTypes,order_by:Object(L.R)(o)},n),o);r.order_by||(r.order_by="aiImageApp"===this.showObj.doorCode?"month_hot":"hot"),r.order_by=r.order_by_time||r.order_by,I.getWaterAiApp(r).then((function(n){e&&e(),t.pageParam.page++,t.pageParam.offset=n.data.has_more&&n.data.offset||"",t.handleWaterfallData(n.data.items,"add"),t.waterLoading=!1})).catch((function(){t.waterLoading=!1}))}},setTabsData:function(){var t,e=this,code=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).code,n=this.configAllData.filter((function(t){return t.content_type===(code||e.showObj.doorCode)})).map((function(t){return{id:t.id,label:t.title,value:t.content_type}}));this.activeTab=null===(t=n[0])||void 0===t?void 0:t.value,this.activeTabObj=R(R({},n[0]),{},{index:0}),this.tabList=[].concat(Object(r.a)(n),Object(r.a)(D.baseTabs)),this.homeData=this.configAllData.find((function(t){return t.content_type===e.activeTab})),this.getWaterfallData(),this.getCurrentConfigData()},getCurrentConfigData:function(){if(this.isHeadTab){this.$t("All");this.configCurrentData=this.handleConfigCurrentData()}},handleConfigCurrentData:function(){for(var t=this,e=this.configAllData.find((function(e){return e.content_type===t.activeTab}))||{},i=0;i<(null==e||null===(n=e.modules)||void 0===n?void 0:n.length);i++){var n,o=e.modules[i];if(6!=(null==o?void 0:o.content_type))for(var r=0;r<(null==o||null===(l=o.elList)||void 0===l?void 0:l.length);r++){var l;o.elList[r].position={parent:i,index:r}}else null==e||e.modules.splice(i,1),i--}return e},getDetailDynamicData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,i,l,c,d,h,f,m,v,_,y,data,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=[],r={},i=0;i<(null===(l=t.configCurrentData)||void 0===l||null===(l=l.modules)||void 0===l?void 0:l.length);i++)for(c=t.configCurrentData.modules[i],d=0;d<(null==c||null===(h=c.elList)||void 0===h?void 0:h.length);d++)f=c.elList[d],o.push({obj_id:f.id,obj_type:13}),r[f.id]={data:f,modulesIndex:i,elListIndex:d};return e.next=5,I.getElinfoDynamic({items:o});case 5:m=e.sent,v=(null==m||null===(n=m.data)||void 0===n?void 0:n.items)||[],_=0;case 8:if(!(_<v.length)){e.next=19;break}if(y=v[_],data=null==r?void 0:r[y.id],w=null==data?void 0:data.data){e.next=14;break}return e.abrupt("continue",16);case 14:t.$set(t.configCurrentData.modules[data.modulesIndex].elList[data.elListIndex],"stat",R(R({},w.stat),y.stat)),console.log("appData",y.id,R(R({},w.stat),y.stat),w);case 16:_++,e.next=8;break;case 19:case"end":return e.stop()}}),e)})))()},getTaskConfig:function(){var t=this,e=this.showObj,n={art_work_no:e.artWorkNo,task_refer_index:e.taskReferIndex,task_id:e.taskId,source:7};Object(j.getTaskConfig)(n).then((function(e){var n,o;(t.createRefer=e.data||{},null!==(n=t.createRefer)&&void 0!==n&&null!==(n=n.task)&&void 0!==n&&n.task_id&&!t.showObj.taskId)&&(t.showObj.taskId=null===(o=t.createRefer)||void 0===o||null===(o=o.task)||void 0===o?void 0:o.task_id)}))},beforeAction:function(t,e){var n=this.getAiAppLogInfo(t,e);return this.postLogDataByType("click",n),this.goCreateFlow(t),!1},goCreateFlow:function(t){this.$logEvent("log_actions",{operation:"click_work",behavior_info:"on_".concat(this.doorType,"_portal_page"),behavior_info_sub:t.id});var e=Object.assign({},this.createRefer,{activeCategory:"fast_app",openDoorParams:this.showObj,creativity:{banner:t.cover,name:t.title,id:t.id}});this.$EventBus.$emit("openGenerate",{action:1,data:{source:e},taskVersion:"v2"}),this.afterAction({actionType:"goCreateFlow",data:t})},afterAction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.actionType,data=t.data,n=this.showObj;n.onAfterAction&&n.onAfterAction({actionType:e,data:data})},postLogData:function(label){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";this.$logEvent("log_actions",{operation:t,behavior_info:"".concat("aiVideoApp"==this.showObj.doorCode?"video":"image","_play_around_popup"),behavior_info_sub:label})},getAiAppLogInfo:function(t,e){var n=t.id,title=t.title,o=t.position;return{obj_category:"play_popup_card_".concat(e),obj_desc:"玩一玩弹窗卡片",position:"popup,".concat(this.activeTab,",").concat(this.$t(this.activeTabObj.label,"en"),",").concat(this.activeTabObj.index,",").concat(n,",").concat(title,",").concat(o.parent,",").concat(o.index)}},postLogDataByType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"click",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$xyLogEvent(R({front_operation:t,entity_type:"play_now_".concat(this.isVideoDoor?"video":"image","_popup"),entity_name:"play_now"},e))}}},F=E,N=(n(5619),n(0)),component=Object(N.a)(F,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"custom-class":"hy-assemble-modal",visible:t.isShowDialog,"close-on-click-modal":!1,"lock-scroll":!0},on:{"update:visible":function(e){t.isShowDialog=e},close:t.hide}},[e("div",{staticClass:"dialog-title flex_m"},[e("div",{staticClass:"left"},[e("NavTabs",{attrs:{list:t.tabList,active:t.activeTab},on:{onChange:t.handleTabChange}})],1),t._v(" "),e("div",{staticClass:"right flex_m"},[t.isHeadTab?e("LenovoInput",{staticClass:"search-input",attrs:{width:202,sourceType:14,clearable:"",beType:t.doorType,placeholder:t.$t("searchWorkflowAppPlaceHolder")},on:{onChange:t.handleSearch,click:function(e){t.postLogData(t.$t("Search","en"))}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t._v(" "),"collect"===t.activeTab?e("MyInput",{staticClass:"collect-input",attrs:{clearable:""},on:{onChange:t.changeCollectKeyword,click:function(e){t.postLogData(t.$t("Search","en"))}},model:{value:t.collectKeyword,callback:function(e){t.collectKeyword=e},expression:"collectKeyword"}}):t._e()],1),t._v(" "),e("div",{staticClass:"close-btn",on:{click:function(e){e.stopPropagation(),t.isShowDialog=!1}}},[e("i",{staticClass:"el-icon-close"})])]),t._v(" "),e("div",{staticClass:"content-box",attrs:{id:"DoorWraperId"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isHeadTab,expression:"isHeadTab"}],staticClass:"assemble-modal-body"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.keyword,expression:"!keyword"}]},[e("basic-fun"),t._v(" "),t._l(t.configCurrentData.modules,(function(n,o){return["6"!==n.content_type?[e("HyFeaturedList",{key:n.id,staticClass:"featured-box",attrs:{temp:n,indexes:o,fixedW:[198,198],fixedH:[280,280],isDoor:!0,beforeView:function(e){return t.beforeAction(e,"config")},beforeRemix:function(e){return t.beforeAction(e,"config")}}})]:t._e()]})),t._v(" "),e("HyHomeForms",{ref:"HyHomeFormsRef",attrs:{ptype:"swift_app"},on:{onScreen:t.screenWaterList}})],2),t._v(" "),e("div",{ref:"wraperDoor",staticClass:"waterfall-list-wraper"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.waterfallList,containerRef:t.$refs.wraperDoor,waterAllListFn:function(){return t.waterfallList},rollBox:"DoorWraperId",fixedRatios:[194,280],cols:6,isDoor:!0,beforeView:function(e){return t.beforeAction(e,"waterfall")},beforeRemix:function(e){return t.beforeAction(e,"waterfall")}},on:{load:t.handleWaterfallLoad}}),t._v(" "),t.waterLoading||0!==t.waterfallList.length?t._e():e("NoData",{staticClass:"no-data"}),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waterLoading,expression:"waterLoading"}],staticClass:"loadBox"})],1)]),t._v(" "),"collect"===t.activeTab?e("MyCollection",{ref:"MyCollectionRef"}):t._e(),t._v(" "),"mine"===t.activeTab?e("MyCreateWork"):t._e(),t._v(" "),"recentlyUsed"===t.activeTab?e("RecentlyUsed",{attrs:{beforeView:function(e){return t.beforeAction(e,"waterfall")},inputTypes:t.inputTypes}}):t._e()],1)])}),[],!1,null,"4d0b9ed5",null);e.default=component.exports;installComponents(component,{LenovoInput:n(239).default,NoData:n(129).default})},5829:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=n(3427),l=n(3428);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"HyConfirmModal",components:{ConfirmStyle1:r.default,ConfirmStyle2:l.default},data:function(){return{dialogVisible:!1,showObj:{attrs:{},styleType:"style1",width:"465px",title:"photography6",content:"deleteConfirm",confirmText:"Confirm",cancelText:"Cancel",btnList:["confirm","cancel"],type:"warning",confirmCallback:function(){},cancelCallback:function(){},closeCallback:function(){}}}},methods:{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogVisible=!0,this.showObj=d(d({},this.showObj),t)},hide:function(){this.showObj.closeCallback(),this.dialogVisible=!1},confirm:function(){this.showObj.confirmCallback(),this.hide()},cancel:function(){this.showObj.cancelCallback(),this.hide()}}},f=h,m=(n(5622),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("el-dialog",t._b({attrs:{visible:t.dialogVisible,"show-close":!1,"custom-class":"hy-confirm-modal-box",width:t.showObj.width},on:{"update:visible":function(e){t.dialogVisible=e}}},"el-dialog",t.showObj.attrs,!1),["style1"===t.showObj.styleType?e("ConfirmStyle1",{attrs:{item:t.showObj},on:{onClose:t.hide,onConfirm:t.confirm,onCancel:t.cancel}}):t._e(),t._v(" "),"style2"===t.showObj.styleType?e("ConfirmStyle2",{attrs:{item:t.showObj},on:{onClose:t.hide,onConfirm:t.confirm,onCancel:t.cancel}}):t._e()],1)}),[],!1,null,"5f1db8be",null);e.default=component.exports},5830:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(14),r=n(3),l=n(2),c=(n(18),n(20),n(80)),d=n(402),h=n(1),f=n(3429),m=n(3430),v=n(3431);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"ImageEditingModal",components:{AiErase:f.default,PartialRedrawing:m.default,ExpandImage:v.default},mixins:[d.a],data:function(){return{url:"",type:"",callback:null}},computed:y(y(y({},Object(h.c)("user",["isLoggedIn","isCompanyAccount"])),Object(h.e)("payment",["paymentInfo"])),{},{currentComponent:function(){return{aiErase:"AiErase",partialRedrawing:"PartialRedrawing",expandImage:"ExpandImage"}[this.type]||null},isVip:function(){var t,e;return(null===(t=this.paymentInfo)||void 0===t?void 0:t.activeState)||(null===(e=this.paymentInfo)||void 0===e?void 0:e.liteActiveState)||this.isCompanyAccount}}),methods:{show:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.url,r=t.type,l=t.callback,c=void 0===l?null:l,d=t.appId,h=void 0===d?"":d,e.type=r,e.callback=c,n.next=5,e.$nextTick();case 5:e.callComponentMethod({url:o,callback:c,appId:h});case 6:case"end":return n.stop()}}),n)})))()},hide:function(){var t,e;null===(t=this.$refs.currentComponentRef)||void 0===t||null===(e=t.handleClose)||void 0===e||e.call(t)},callComponentMethod:function(t){var e,n,o,r=t.url,l=t.callback,c=t.appId,d=this.$refs.currentComponentRef;if(d)switch(this.type){case"aiErase":null==d||null===(e=d.show)||void 0===e||e.call(d,{url:r,callback:l,appId:c});break;case"partialRedrawing":null==d||null===(n=d.show)||void 0===n||n.call(d,{url:r,callback:l,appId:c});break;case"expandImage":null==d||null===(o=d.show)||void 0===o||o.call(d,{url:r,callback:l,appId:c});break;default:console.warn("未知的组件类型: ".concat(this.type))}else console.warn("组件引用不存在")},handleClose:function(){this.$emit("close")},handleGenerate:function(t,e,n){var l=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.updateCaptcha("cmfy_app");case 2:l.captchaToken&&(t.g_recaptcha_token=l.captchaToken),l.isLoggedIn||(t.g_mode=1),Object(c.f)(t).then((function(t){var r,c=t.data,d=c.id,h=c.scene,f=void 0===h?"":h,code=t.status.code,m={70010:["showBreakDialog","VipTip","basic"],70039:["showVipComputingDialog","vipDialogComputedTit2",{fromVideo:"video_task_generate"===f}],80008:l.isVip?["showVipComputingDialog","",{fromVideo:"video_task_generate"===f}]:["showNotVipComputingDialog"]};if(code&&m[code])(r=l.$EventBus).$emit.apply(r,Object(o.a)(m[code]));else if(d){var data={id:d,process:0,components:[],expiration_time:0,deduction_detail:{},status_desc:"waiting",status:1,creativity:{name:null==e?void 0:e.name,id:null==e?void 0:e.id},task_domain_type:2,create_at:Date.now(),speed_type:l.isVip?2:1};n&&n("success",data)}else n&&n("error","")})).catch((function(t){n&&n("error",t)}));case 5:case"end":return r.stop()}}),r)})))()}}},C=n(0),component=Object(C.a)(w,(function(){var t=this,e=t._self._c;return t.currentComponent?e(t.currentComponent,{ref:"currentComponentRef",tag:"component",attrs:{url:t.url,type:t.type},on:{generateTask:t.handleGenerate,close:t.handleClose}}):t._e()}),[],!1,null,null,null);e.default=component.exports},5831:function(t,e,n){"use strict";n.r(e);var o=n(3191),r=n(3199),l=n(477),c={name:"ImageDetailPop",components:{imageDetail:o.default,TopMenu:l.a,ArtWorkDetail:r.default},data:function(){return{visible:!1,item:{}}},watch:{$route:{handler:function(t){this.close()},immediate:!0}},methods:{show:function(t){var e=t.item;this.visible=!0,this.item=e},close:function(){this.visible=!1}}},d=(n(5639),n(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"image-detail-dialog",attrs:{visible:t.visible,"append-to-body":"","show-close":!1,"destroy-on-close":!0,modal:!1,fullscreen:""},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"pop-body"},[e("div",{staticClass:"body-header",attrs:{"data-group":"page-header"}},[e("TopMenu")],1),t._v(" "),e("div",{staticClass:"body-content"},[1===t.item.obj_type?e("imageDetail",{attrs:{defaultData:t.item}}):4===t.item.obj_type?e("ArtWorkDetail",{attrs:{defaultData:t.item}}):t._e()],1)])])}),[],!1,null,"59aae757",null);e.default=component.exports},5836:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(7);var o=n(2),r=(n(8),n(4),n(177),n(1));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={props:["fileId","readOnly","image"],data:function(){return{imageTips:{prompt:"",negative_prompt:"",seed:"",steps:"",sampler:"",guidance_scale:""}}},computed:c({},Object(r.c)("creation",["taskSamplerMethods"])),mounted:function(){this.init()},methods:{init:function(){var t=this.image.imageInfo;this.imageTips=c({},t),0===t.width&&this.getImageSize()},getImageSize:function(){var t=this.image.file,e=new FileReader,n=this;e.onload=function(t){var img=new Image;img.src=t.target.result,img.onload=function(){n.imageTips.width=this.width,n.imageTips.height=this.height}},e.readAsDataURL(t)},save:function(){if(this.valid(this.imageTips))return console.log("参数不完整",this.imageTips),void this.$message.warning("参数不完整");this.imageTips.file_id=this.fileId,this.$emit("save",this.imageTips),this.$message.success(this.$t("SaveSuccess"))},valid:function(t){var e=JSON.parse(JSON.stringify(t));return delete e.file_id,delete e.model_no,delete e.model_ver_no,e.id=e.id||"0",console.log(e),Object.values(e).some((function(t){return""===t}))},close:function(){this.$emit("save",{file_id:this.fileId})}}},h=(n(5645),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-tooltips"},[e("i",{staticClass:"el-icon-circle-close",on:{click:t.close}}),t._v(" "),e("el-form",{staticClass:"custom-form",attrs:{model:t.imageTips}},[e("el-form-item",{attrs:{label:t.$t("Prompt")}},[e("el-input",{attrs:{type:"textarea",disabled:t.readOnly,rows:"4"},model:{value:t.imageTips.prompt,callback:function(e){t.$set(t.imageTips,"prompt",e)},expression:"imageTips.prompt"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("NegativePrompts")}},[e("el-input",{attrs:{type:"textarea",disabled:t.readOnly,rows:"4"},model:{value:t.imageTips.negative_prompt,callback:function(e){t.$set(t.imageTips,"negative_prompt",e)},expression:"imageTips.negative_prompt"}})],1),t._v(" "),e("el-row",{attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:t.$t("CFGScale")}},[e("el-input-number",{attrs:{disabled:t.readOnly,controls:!1,min:0,step:1},model:{value:t.imageTips.guidance_scale,callback:function(e){t.$set(t.imageTips,"guidance_scale",e)},expression:"imageTips.guidance_scale"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:t.$t("Steps")}},[e("el-input-number",{attrs:{disabled:t.readOnly,controls:!1,min:0,step:1},model:{value:t.imageTips.steps,callback:function(e){t.$set(t.imageTips,"steps",e)},expression:"imageTips.steps"}})],1)],1)],1),t._v(" "),e("el-row",{attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:t.$t("Sampler")}},[e("el-select",{attrs:{disabled:t.readOnly,filterable:"","popper-class":"custom-select"},model:{value:t.imageTips.sampler,callback:function(e){t.$set(t.imageTips,"sampler",e)},expression:"imageTips.sampler"}},t._l(t.taskSamplerMethods,(function(t,i){return e("el-option",{key:t+i,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:t.$t("Seed")}},[e("el-input-number",{attrs:{disabled:t.readOnly,controls:!1,min:-1,step:1},model:{value:t.imageTips.seed,callback:function(e){t.$set(t.imageTips,"seed",e)},expression:"imageTips.seed"}})],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"model-item"},[e("label",[t._v(t._s(t.$t("Model")))]),t._v(" "),e("span",[t._v(t._s(t.imageTips.ModelID))])]),t._v(" "),e("div",{staticClass:"cenerate-btn"},[e("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:t.save}},[t._v(t._s(t.$t("Save")))])],1)],1)}),[],!1,null,"1771d367",null);e.default=component.exports},5837:function(t,e,n){"use strict";n.r(e);n(24);var o=n(10),r={props:{time:{type:Number,default:0},duration:{type:Number,default:0},skip:{type:Boolean,default:!0}},data:function(){return{}},computed:{progress:function(){return parseInt(this.time/this.duration*100)}},filters:{timeFormat:o.U},methods:{changeTime:function(t){if(this.skip){var time=t.offsetX/t.currentTarget.clientWidth*this.duration;this.$emit("change",parseInt(time))}}}},l=(n(5646),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"play-progress"},[e("div",{staticClass:"duration",on:{click:t.changeTime}},[e("p",{style:{width:t.progress+"%"}})]),t._v("\n  "+t._s(t._f("timeFormat")(t.time))+" / "+t._s(t._f("timeFormat")(t.duration))+"\n")])}),[],!1,null,"73ff5be3",null);e.default=component.exports},5838:function(t,e,n){"use strict";n.r(e);var o=n(953),r={props:{shareIcon:{type:String,default:"icon-share-icon"},list:{type:Array,default:function(){return["facebook","twitter"]}},share:{type:Object,default:function(){return{url:location.href,title:document.tit}}}},data:function(){return{}},methods:{shange:function(t){var e=this.share,n=e.url,title=e.title;switch(t){case"facebook":Object(o.a)(n);break;case"twitter":Object(o.c)(n,title);break;case"youtube":Object(o.d)(n);break;case"tiktok":Object(o.b)(n)}}}},l=(n(5647),n(5648),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-box"},[e("el-popover",{attrs:{placement:"top-start",trigger:"click","popper-class":"custom-popver share-list"}},[t._l(t.list,(function(s,i){return e("i",{key:"share_"+i,staticClass:"iconfont",class:"icon-s_"+s,on:{click:function(e){return t.shange(s)}}})})),t._v(" "),e("i",{staticClass:"iconfont",class:t.shareIcon,attrs:{slot:"reference"},slot:"reference"})],2)],1)}),[],!1,null,"3747be42",null);e.default=component.exports},5839:function(t,e,n){"use strict";n.r(e);n(18);var o=n(71),r={props:{tagsType:{type:String,default:"artwork"}},data:function(){return{tagsList:[],isDisMove:!1,isShowLeft:!0,isShowRight:!0,activeIndex:""}},mounted:function(){var t=this;this.getTags(),this.$refs.scrollArea.addEventListener("scroll",this.setMoveBtnShow),this.$once("hook:beforeDestroy",(function(){t.$refs.scrollArea.removeEventListener("scroll",t.setMoveBtnShow)}))},methods:{getTags:function(){var t=this;Object(o.c)({domain:this.tagsType}).then((function(e){t.tagsList=e.data.tag,localStorage.setItem(t.tagsType+"Tags",JSON.stringify(e.data.tag)),t.$nextTick((function(){t.setMoveBtnShow()}))}))},setMoveBtnShow:function(){var t=this.$refs.scrollArea;t<=this.$refs.tags.offsetWidth&&(this.isShowRight=!1),0===t.scrollLeft?this.isShowLeft=!1:this.isShowLeft=!0,t.scrollLeft+t.clientWidth===t.scrollWidth?this.isShowRight=!1:this.isShowRight=!0},tagsMove:function(t){this.$refs.scrollArea.scrollBy({left:t,behavior:"smooth"})},selectTags:function(t){this.activeIndex=this.activeIndex===t?"":t,this.$emit("changeTags",""===this.activeIndex?"":this.tagsList[this.activeIndex].name)}}},l=(n(5649),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{ref:"tags",staticClass:"tags-filter"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowLeft,expression:"isShowLeft"}],staticClass:"left-icon",on:{click:function(e){return t.tagsMove(-300)}}},[e("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),e("div",{ref:"scrollArea",staticClass:"scroll-area"},[e("div",{staticClass:"tags-content"},[e("div",{staticClass:"tags-list"},t._l(t.tagsList,(function(n,o){return e("span",{key:o+"_tags",staticClass:"tags-item",class:{active:t.activeIndex===o},on:{click:function(e){return t.selectTags(o)}}},[t._v(t._s(n.name))])})),0)])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowRight,expression:"isShowRight"}],staticClass:"right-icon",on:{click:function(e){return t.tagsMove(300)}}},[e("i",{staticClass:"el-icon-arrow-right"})])])}),[],!1,null,"434e8bae",null);e.default=component.exports},5849:function(t,e,n){"use strict";n.r(e);var o={name:"HyMoreBtn",props:{list:{type:Array,default:function(){return[]}}}},r=(n(5658),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("el-popover",t._b({attrs:{trigger:"hover"}},"el-popover",t.$attrs,!1),[e("div",{staticClass:"more-btn-list"},[e("div",{staticClass:"item"},[t._v("sfds")])]),t._v(" "),e("div",{staticClass:"more-btn flex_c_m",attrs:{slot:"reference"},slot:"reference"},[e("i",{staticClass:"iconfont icon-more"})])])}),[],!1,null,"52e311e8",null);e.default=component.exports},5850:function(t,e,n){"use strict";n.r(e);n(16);var o=n(29),r=n(3075),l={name:"RemixBtn",props:{curInfo:{type:Object,default:function(){return{artWorkNo:"",workUrl:"",source:4,objType:1}}},showLoading:{type:Boolean,default:!0}},data:function(){return{createReferObj:{},isLoading:!1}},methods:{getCreateRefer:function(t){var e=this;if(this.createReferObj.art_work_no!==this.curInfo.artWorkNo){var n=this.curInfo,source=n.source,r=n.artWorkNo;this.isLoading=!0,Object(o.getTaskConfig)({source:source,art_work_no:r}).then((function(n){e.createReferObj=n.data||{},e.isLoading=!1,t&&t()})).catch((function(){e.isLoading=!1}))}else t&&t()},handleClick:function(){var t=this;this.$emit("onClickBefore"),this.getCreateRefer((function(){var e=t.createReferObj,n=t.curInfo.objType,o={that:t,createRefer:e,curInfo:t.curInfo};[1].includes(n)&&Object(r.useArtworkRemix)(o),[4].includes(n)&&Object(r.usePostRemix)(o),t.$emit("onClick")}))}}},c=n(0),component=Object(c.a)(l,(function(){var t=this;return(0,t._self._c)("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading&&t.isLoading,expression:"showLoading && isLoading"}],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClick.apply(null,arguments)}}},[t._t("default")],2)}),[],!1,null,"5c9050c8",null);e.default=component.exports},5888:function(t,e,n){"use strict";n.r(e);n(5659);var o=n(0),component=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center forget-password"},[e("div",{staticClass:"login-buttons"},[e("div",{staticClass:"btn",on:{click:function(e){return t.$emit("go-to",{pagename:"send-email",type:"forget"})}}},[e("i",{staticClass:"iconfont icon-email"}),t._v(" "),e("span",[t._v("Mailbox verification")])])])])}),[],!1,null,"32fa6a12",null);e.default=component.exports},589:function(t,e,n){"use strict";n.r(e);n(4),n(218),n(40),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(7),n(41);var o=null,r=new Set,l={inject:["CardApp"],props:{item:{type:Object,default:function(){return{}}},videoUrl:{type:String,default:"https://image.cdn2.seaart.me/2025-05-24/d0onihte878c73au1rug/a498bbefe3f8cc69e2b27319174acf0b.mp4"},posterUrl:{type:String,default:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}},data:function(){return{isInView:!1,videoSrc:"",observer:null,error:!1}},computed:{logExposureParams:function(){var t,e,n,o={type:this.item.obj_type,id:this.item.id,pt:this.item.pt||"",index:null!==(t=null==this||null===(e=this.CardApp)||void 0===e||null===(e=e.logData)||void 0===e?void 0:e.index)&&void 0!==t?t:"",position:(null==this||null===(n=this.CardApp)||void 0===n?void 0:n.getPosition)||""};return JSON.stringify(o)}},mounted:function(){if("undefined"==typeof window||"undefined"==typeof IntersectionObserver)return this.isInView=!0,void(this.videoSrc=this.videoUrl);this.initGlobalObserver()},beforeDestroy:function(){this.destroyObserver(),this.releaseVideo()},methods:{initGlobalObserver:function(){o||(o=new IntersectionObserver((function(t){t.forEach((function(t){var e=t.target.__vueInstance__;e&&(t.isIntersecting?e.handleEnterView():e.handleLeaveView())}))}),{root:null,threshold:.5})),this.$refs.container.__vueInstance__=this,o.observe(this.$refs.container),r.add(this.$refs.container)},destroyObserver:function(){o&&this.$refs.container&&(o.unobserve(this.$refs.container),r.delete(this.$refs.container),delete this.$refs.container.__vueInstance__),o&&0===r.size&&(o.disconnect(),o=null)},handleEnterView:function(){var t=this;this.isInView=!0,this.videoSrc=this.videoUrl,this.error=!1,this.$nextTick((function(){var video=t.$refs.videoEl;video&&(video.load(),video.play())}))},handleLeaveView:function(){this.isInView=!1,this.releaseVideo()},releaseVideo:function(){var video=this.$refs.videoEl;if(video)try{video.pause(),video.currentTime=0,video.removeAttribute("src"),video.load()}catch(t){}this.videoSrc=""},handleCanPlay:function(t){t.target.play()},handleVideoError:function(){this.error=!0,this.releaseVideo(),this.isInView=!1,this.$emit("error")}}},c=(n(3927),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"autoplay-video-box"},[e("transition",{attrs:{name:"fade"}},[e("img",{key:"poster",staticClass:"video-poster gl-exposure-node",attrs:{"log-exposure":t.logExposureParams,src:t.posterUrl,alt:"",loading:"lazy"}})]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("video",{directives:[{name:"show",rawName:"v-show",value:t.isInView,expression:"isInView"}],key:"video",ref:"videoEl",staticClass:"video-item",attrs:{src:t.videoSrc,poster:t.posterUrl,autoplay:"",muted:"",loop:"",playsinline:""},domProps:{muted:!0},on:{canplay:t.handleCanPlay,error:t.handleVideoError,pause:function(e){return t.$emit("pause")},play:function(e){return t.$emit("play")},ended:function(e){return t.$emit("ended")}}})])],1)}),[],!1,null,"99e6bd5a",null);e.default=component.exports},590:function(t,e,n){"use strict";n.r(e);n(18),n(19),n(6),n(50),n(22),n(31),n(8),n(4);var o=n(111),r=n(252),l=n(10),c=n(39),d=n(155),h={name:"NovelCard",components:{AdminTag:o.default,ImageItem:r.default},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}},maxHomeData:{type:Object,default:function(){return{}}},renderList:{type:Array,default:function(){return[]}},imgW:{type:String,default:"334px"},imgH:{type:String,default:"134px"},onView:{type:Function}},data:function(){return{formatNumberForeign:l.p}},computed:{isEmptyObj:function(){return 0===Object.keys(this.maxHomeData).length},cardLink:function(){var t=this.item.id;return this.localePath("/novel/detail/".concat(t))},getPosition:function(){if(this.isEmptyObj)return"";var t,e,n=this.maxHomeData.homeData,o=this.logData,r=null==this||null===(t=this.maxHomeData)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,l=Object(d.getMenuIndex)({list:r,id:n.id});return"home,".concat(n.id,",").concat(n.title,",").concat(l,",").concat(o.id,",").concat(o.title,",").concat(o.mIndex,",").concat(null!==(e=o.index)&&void 0!==e?e:"")},logExposureParams:function(){var t,e,n={type:this.item.obj_type,id:this.item.id,pt:this.item.pt||"",position:this.getPosition,index:null===(t=this.logData)||void 0===t?void 0:t.index,mIndex:null===(e=this.logData)||void 0===e?void 0:e.mIndex};return JSON.stringify(n)}},methods:{goCardDetail:function(){if(this.onView)this.onView(this.item);else{var t=this.item.id,path=this.localePath("/novel/detail/".concat(t));this.$emit("onView",this.item),this.$router.push(path)}},dotPushReport:function(){var t,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action,n=this.item,o=n.obj_type,r=n.id,l=n.stat,d={items:[{action:e,batch_id:n.pt,category:"default",negative_ids:this.getNegativeIds(),obj_no:r,obj_type:o,view_domain:this.getViewDomain(),stat:l,vip:null==this||null===(t=this.paymentInfo)||void 0===t?void 0:t.productLevel}]};Object(c.i)(d)},getNegativeIds:function(){if(this.isEmptyObj)return[];var t=this.item.id,e=(null==this?void 0:this.renderList)||[],n=e.findIndex((function(e){return e.id===t}))||0;return e.filter((function(t,i){return i<n})).map((function(t){return t.id})).slice(0,10)},getViewDomain:function(){var t;if(this.isEmptyObj)return"";var e=(null===(t=this.maxHomeData)||void 0===t||null===(t=t.HyHomeFormsRef)||void 0===t?void 0:t.formData)||{};return"home_".concat(e.order_by)},goTagDetail:function(t){var e=t.id,path=this.localePath("/tagInfo/ai-novel/".concat(e));this.$router.push(path)},tagChange:function(t){this.$emit("onAdmin",t)}}},f=h,m=(n(3996),n(0)),component=Object(m.a)(f,(function(){var t,e,n,o,r,l,c,d=this,h=d._self._c;return h("div",{style:{width:d.imgW,height:d.imgH}},[h("a",{staticClass:"novel-card flex",attrs:{href:d.cardLink,target:"_blank","data-event":"module-box-click","data-id":d.item.id,"data-pt":d.item.pt,"data-type":d.item.obj_type,"data-index":d.logData.index,"data-position":d.getPosition,"data-mindex":d.logData.mIndex},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),d.goCardDetail.apply(null,arguments)}}},[h("div",{staticClass:"left novel-coverbg",attrs:{"data-title":1===d.item.is_preset?null===(t=d.item)||void 0===t?void 0:t.title:""}},[h("img",{staticClass:"bg-image",attrs:{src:null===(e=d.item)||void 0===e||null===(e=e.cover)||void 0===e?void 0:e.url,alt:(null===(n=d.item)||void 0===n?void 0:n.title)||"",loading:"lazy","log-exposure":d.logExposureParams}})]),d._v(" "),h("div",{staticClass:"right"},[h("div",{staticClass:"title line-one"},[d._v(d._s(null===(o=d.item)||void 0===o?void 0:o.title))]),d._v(" "),h("div",{staticClass:"tag-list flex"},d._l(null===(r=d.item)||void 0===r?void 0:r.tags,(function(t,e){return h("a",{key:t.id+e,staticClass:"tag-item",attrs:{href:d.localePath("/tagInfo/ai-novel/"+t.id)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),d.goTagDetail(t)}}},[d._v("\n          "+d._s(t.name)+"\n        ")])})),0),d._v(" "),h("div",{staticClass:"desc line-two"},[d._v(d._s(d.item.sub_title))]),d._v(" "),h("div",{staticClass:"count-num-box flex_m"},[h("div",{staticClass:"item flex_m"},[h("span",{staticClass:"num"},[d._v(d._s(d.formatNumberForeign((null===(l=d.item)||void 0===l?void 0:l.count)||0)))]),d._v(" "),h("span",{staticClass:"num"},[d._v(d._s(d.$t("word")))])]),d._v(" "),h("div",{staticClass:"item flex_m"},[h("span",{staticClass:"iconfont icon-browse"}),d._v(" "),h("span",{staticClass:"num"},[d._v(d._s(d.formatNumberForeign(null===(c=d.item)||void 0===c||null===(c=c.stat)||void 0===c?void 0:c.num_of_view)))])])])]),d._v(" "),h("AdminTag",{attrs:{id:d.item.id,type:d.item.obj_type,item:d.item},on:{change:d.tagChange}})],1)])}),[],!1,null,"118a2ccf",null);e.default=component.exports;installComponents(component,{AdminTag:n(111).default})},595:function(t,e,n){"use strict";n.r(e);n(16),n(11),n(12),n(13),n(8),n(7);var o=n(2),r=(n(19),n(6),n(73),n(22),n(18),n(4),n(857)),l=n(1),c=n(107),d=n(947),h=n(467),f=n(858),m=n(3267),v=n(3268),_=n(3269),y=n(3270),w=n(468),C=n(3271),x=n(3272);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j={inject:["homePageApp"],props:{ptype:{type:String,default:""}},components:{PreferenceSelect:h.default,TimerSelect:f.default,PostFilter:m.default,AiAudioFilter:v.default,ModelFilter:_.default,WorkflowFilter:y.default,GenderSelect:w.default,TagFilter:C.default,CharacterFilter:r.default,HyFilterPop:x.default},data:function(){return{pageObj:{page:1,page_size:35,offset:0},sourceTypeVal:0,formData:{timeType:"All",order_by:"new",order_by_time:"",sub_channel:[],tones:[],languages:[],genders:[],ages:[],model_types:[],base_models:[],run_available:0,nodes_type:[],source_types:[],tag_ids:[],character_type:0,output_types:[]},isCategory:""}},computed:k(k(k({},Object(l.c)("user",["isLoggedIn","userInfo"])),Object(l.e)("app",["ABInfo"])),{},{isShowGenderFilter:function(){return["cyberPub"].includes(this.thePageKey)&&!["recommend","recently"].includes(this.formData.order_by)},thePageKey:function(){if(this.ptype)return this.ptype;var t=this.homePageApp.homeData.content_type,e=void 0===t?"squareMixRecommend":t;return c.m[e]||"/"},citemObj:function(){var t=this.homePageApp.homeData.content_type,e=void 0===t?"squareMixRecommend":t;return d.apiConfig[e]},preferenceList:function(){return[{name:"Recommend",id:"recommend",icon:"homeIcon1",show:["/","novel","cyberPub","post","model","lora_train","design_template"].includes(this.thePageKey)},{name:"Follow",id:"follows",icon:"homeIcon2",show:["/","post","model","lora_train","design_template"].includes(this.thePageKey)&&this.isLoggedIn},{name:"Hot",id:"hot",icon:"hot",show:!0},{name:"New",id:"new",icon:"new1",show:!0},{name:"recentlyUsed",id:"recently",icon:"oldest",show:["cyberPub"].includes(this.thePageKey)}]},newPreferenceList:function(){return this.preferenceList.filter((function(t){return t.show})).map((function(t){return{label:t.name,value:t.id}}))},isHome:function(){var t=(this.$route.meta||{}).isHome,e=void 0!==t&&t;return e},showSourceTypeSelect:function(){var t="recommend"===this.formData.order_by,e=this.isHome;return t&&e},isShowTagFilter:function(){var t,e=((null===(t=this.homePageApp)||void 0===t?void 0:t.homeData)||{}).categories;return(null==e?void 0:e.length)>0},getFilterCell:function(){var t=this.ptype?this.ptype:this.$route.params.ptype||"/";return d.filterCellMap[t]||[]}}),mounted:function(){this.setFormDataVal()},methods:{setFormDataVal:function(){var t,e=this,n=null===(t=this.ABInfo)||void 0===t?void 0:t.home_waterfall_show,o=this.ptype?this.ptype:this.$route.params.ptype;o=void 0===o?"/":o;var r=this.isLoggedIn?c.f:c.g,l=r[o]||r["/"];n&&"/"===o&&!this.isLoggedIn&&(l="A"===n?c.f["/"]:c.g["/"]);var d=l,h=d.timeType,f=d.order_by,m="All"===h?f:"".concat(h,"_").concat(f);if(this.formData.timeType=h,this.formData.order_by=f,this.formData.order_by_time=m,"lora_train"===o&&(this.formData.model_types=["LORA"],this.formData.run_available=1),"cyberPub"===o||this.isShowGenderFilter){var v,_,y=(null===(v=localStorage.getItem("userInfo"))||void 0===v||null===(v=v.character_setting)||void 0===v?void 0:v.gender)||(null===(_=this.userInfo)||void 0===_||null===(_=_.character_setting)||void 0===_?void 0:_.gender)||"";this.formData.genders=y?[y]:[]}this.$nextTick((function(){e.$refs.HyFilterPopRef.externalAttr.setFilterDefault(e.formData)}))},changeCell:function(data){var t=data.target,e=data.value,n=data.formData;this.formData=k(k({},this.formData),n),"preference"===t&&this.preferenceSpecial(e),"language"===t&&this.handleLanguage(e),this.setOrderByTime(),this.screenConfigData()},handleLanguage:function(t){var e=t||[];this.$xyLogEvent({front_operation:"click",entity_name:"language-filter",entity_type:"page-waterfall-form",event_name:"log_action_front",obj_id:e.join(",")})},setOrderByTime:function(){var t=this.formData,e=t.order_by,n=t.timeType;if(["hot"].includes(e)){var o="All"===n?"":"".concat(n,"_");this.formData.order_by_time="".concat(o).concat(e)}else this.formData.order_by_time=""},preferenceSpecial:function(t){var e={home:1,post:4,model:2,lora_train:2,cyberPub:9,design_template:11},n=this.$route.params.ptype,o=void 0===n?"home":n;if(["follows","recently"].includes(t)?this.formData.source_types=e[o]?[e[o]]:[]:this.formData.source_types=[],"recommend"===t&&(this.sourceTypeVal=0),this.isShowGenderFilter){var r,l,c=(null===(r=localStorage.getItem("userInfo"))||void 0===r||null===(r=r.character_setting)||void 0===r?void 0:r.gender)||(null===(l=this.userInfo)||void 0===l||null===(l=l.character_setting)||void 0===l?void 0:l.gender)||"";this.formData.genders=c?[c]:[]}this.setOrderByTime()},changePreference:function(t){this.preferenceSpecial(t),this.$refs.HyFilterPopRef.externalAttr.setFilterDefault(this.formData),this.screenConfigData()},changeWorkFlow:function(data){this.formData=k(k({},this.formData),data),this.screenConfigData()},createdCharater:function(){this.$router.push(this.localePath("/cyberPubPage/new-character")),this.$logEvent("log_actions",{operation:"click_train_tab",behavior_info:"on_style_training_page"})},createdSwiftApp:function(){this.$router.push(this.localePath("/workflow"))},goTrainingPage:function(){switch(this.thePageKey){case"lora_train":this.$router.push(this.localePath("/models"));break;case"ai-audio":this.$router.push(this.localePath("/ai-audio/train"))}},screenConfigData:function(){var t=this.formData,e=t.order_by,n=t.timeType,o=t.base_models,r=(t.source_types,"click_".concat(e)),l="hot"===e?"click_".concat(n,","):"";this.$logEvent("log_actions",{entity_name:r,entity_type:"page-waterfall-form",obj_id:l+o.join(",")}),this.$emit("onScreen",{formData:this.formData,citemObj:this.citemObj})},changeTag:function(t,e){var n,o=this,r=this.homePageApp.homeData.content_type,l=void 0===r?"squareMixRecommend":r;this.formData.tag_ids=t,this.isCategory=e;var c=null!==(n=d.apiConfig[l])&&void 0!==n&&n.recommend?"recommend":"hot";this.formData.order_by=null!=t&&t.length?"hot":c,this.$nextTick((function(){o.$refs.HyFilterPopRef.externalAttr.setFilterDefault(o.formData)})),this.screenConfigData()},initFilter:function(){var t=this;this.$refs.TagFilterRef.init(),this.$nextTick((function(){t.$refs.HyFilterPopRef.externalAttr.setFilterDefault(t.formData)}))}}},I=(n(4248),n(0)),component=Object(I.a)(j,(function(){var t=this,e=t._self._c;return e("div",{attrs:{"data-group":"page-waterfall-form"}},[e("div",{staticClass:"tag-filter-box"},[t.isShowTagFilter?e("TagFilter",{ref:"TagFilterRef",on:{change:t.changeTag}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-data-box flex_m"},[e("div",{staticClass:"left"},[t.isCategory?t._e():e("p",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("square"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"right flex_m"},[e("div",{staticClass:"screen-box flex_m"},["cyberPub"==t.thePageKey?e("el-button",{staticClass:"created-btn flex_c_m",attrs:{type:"primary"},on:{click:t.createdCharater}},[e("i",{staticClass:"iconfont icon-icon_xinjianshuziren"}),t._v("\n          "+t._s(t.$t("tavern45"))+"\n        ")]):t._e(),t._v(" "),"swift_app"!=t.thePageKey||t.ptype?t._e():e("el-button",{staticClass:"created-btn created-ai-app-btn flex_c_m",attrs:{type:"primary","data-event":"swift_app_home_create_app","data-desc":"ai应用首页广场入口新建应用"},on:{click:t.createdSwiftApp}},[e("i",{staticClass:"iconfont icon-icon_xinjianshuziren"}),t._v("\n          "+t._s(t.$t("CreateAIApplication"))+"\n        ")]),t._v(" "),["lora_train","ai-audio"].includes(t.thePageKey)?e("el-button",{staticClass:"created-btn flex_c_m",attrs:{type:"primary"},on:{click:t.goTrainingPage}},[e("i",{staticClass:"iconfont icon-icon_xinjianshuziren"}),t._v("\n          "+t._s(t.$t("Training"))+"\n        ")]):t._e(),t._v(" "),["workflowPage"].includes(t.thePageKey)?e("WorkflowFilter",{staticClass:"item",on:{onChange:t.changeWorkFlow}}):t._e(),t._v(" "),["workflowPage"].includes(t.thePageKey)?t._e():e("PreferenceSelect",{staticClass:"item",attrs:{list:t.preferenceList},on:{onChange:t.changePreference},model:{value:t.formData.order_by,callback:function(e){t.$set(t.formData,"order_by",e)},expression:"formData.order_by"}}),t._v(" "),e("HyFilterPop",{ref:"HyFilterPopRef",staticClass:"item",attrs:{passFilter:t.getFilterCell,preferenceList:t.newPreferenceList},on:{onChangeCell:t.changeCell}})],1)])])])}),[],!1,null,"1f840d5e",null);e.default=component.exports},606:function(t,e,n){"use strict";n.r(e);n(18),n(28),n(151);var o=n(2),r=(n(2284),n(47),n(959)),l=n.n(r),c=(n(11),n(6),n(16),n(22),n(31),n(12),n(13),n(8),n(4),n(90),n(92),n(7),n(1245)),d=n(1),h=n(35),f=n.n(h);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={inheritAttrs:!1,components:{ElAutocomplete:l.a},props:{assoSearch:{type:Boolean,default:!1},scrollOpen:{type:Boolean,default:!0},inputParams:{type:Object,default:null},inputModes:{type:Array,default:function(){return[]}},request:{type:Function,default:null},callback:{type:Function,default:null},searchType:{type:String,default:"search"},refreshFun:{type:Function,default:null}},data:function(){return{defaultValue:{placeholder:this.$t("Search"),clearable:!1,searchParams:{value:"",searchType:this.searchType}},defaultMode:{modeVisible:!1,searchModes:[{name:"关键字",value:"keyword"},{name:"prompts",value:"prompts"},{name:"job id",value:"jobId"}],selectedSearchModes:[],searchModeDialogVisible:!1},inputValue:"",suggestions:[],suggestStr:"",restaurants:[],state:"",Wh:"inherit",tabBoxShow:!1,inTagBox:!1}},mounted:function(){var t=this;this.search(),this.setWh(),window.addEventListener("resize",this.setWh),this.$EventBus.$on("onResetInput",(function(){t.onClear()})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.setWh),t.$EventBus.$off("onResetInput",(function(){t.onClear()}))}))},updated:function(){"inherit"==this.Wh&&this.setWh()},methods:{intSearch:function(){this.defaultValue.searchParams.value="",this.defaultValue.clearable=!1},changetabBoxShow:function(){this.inTagBox||(this.tabBoxShow=!1)},setWh:function(){if(this.$refs.cnt){var t=this.$refs.cnt.offsetWidth;this.Wh=0==t?"inherit":this.$refs.cnt.offsetWidth+"px"}},bindToCallCompoent:function(){this.defaultValue.searchParams.value=this.$attrs.defaultValue,this.inputModes.length>0&&(this.defaultMode.modeVisible=!0),this.inputParams&&(this.defaultValue.searchParams=this.inputParams.searchParams,this.defaultValue.placeholder=this.inputParams.placeholder||this.defaultValue.placeholder)},onClear:function(){this.defaultValue.searchParams.value="",this.defaultValue.clearable=!1,this.handleChange()},setClear:function(){0==this.defaultValue.searchParams.value.length&&(this.defaultValue.clearable=!1)},handleChange:function(){["",null,void 0].includes(this.defaultValue.searchParams.value)&&this.$emit("child-search",{keyword:this.defaultValue.searchParams.value})},refresh:function(){this.refreshFun?this.refreshFun():this.search("refresh")},showSearchModeDialog:function(){this.searchModeDialogVisible=!0},applySearchModes:function(){this.searchModeDialogVisible=!1,this.defaultValue.searchParams.type=this.defaultMode.selectedSearchModes,this.search()},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"search";"refresh"!=t?(0===this.defaultValue.searchParams.value.length&&(this.defaultValue.clearable=!1),this.defaultValue.searchParams.searchType=t,this.$emit("child-search",{keyword:this.defaultValue.searchParams.value})):this.$emit("child-search",{keyword:this.defaultValue.searchParams.value})},loadAll:function(){return[{value:"cute"},{value:"artwork"},{value:"colorful"},{value:"masterpiece"},{value:"macro crisp quality"},{value:"Spider Man"}]},querySearchAsync:function(t,e){var n=this;if(this.suggestStr=t,t.trim()){var param={keyword:t,domain:this.searchModelSuggest};Object(c.a)(param).then((function(t){n.restaurants=t.data.items||[];var o=n.restaurants;if(0!==o.length){var r=o.map((function(t){return{value:t}}));e(r)}else e(n.loadAll())}))}else;},createStateFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){if(0!==this.defaultValue.searchParams.value.length){this.defaultValue.clearable=!0;var e=t.value.toLowerCase(),n=this.suggestStr.slice(1).toLowerCase();this.$logEvent("log_actions",{operation:"search",behavior_info:t.value}),e.startsWith(n)?(this.defaultValue.searchParams.value=this.suggestStr.slice(0,1)+(t.value.length>1?t.value:""),this.search("search")):this.search("search")}else this.defaultValue.clearable=!1}},computed:v(v(v({},Object(d.e)("search",["searchModelSuggest"])),Object(d.c)("user",["userInfo"])),{},{setList:function(){return f()(this.userInfo.tags).reverse()}})},y=_,w=(n(4847),n(4848),n(0)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",{ref:"cnt",staticClass:"search-input"},[e("div",{staticClass:"my-input-component",style:{width:t.Wh}},[e("el-row",[e("el-col",{staticClass:"input-box",attrs:{span:22}},[t.assoSearch?e("el-autocomplete",t._b({ref:"myAutocomplete",staticClass:"my-input",attrs:{"popper-append-to-body":!1,"popper-class":"autocomplete-popper","select-when-unmatched":!0,placeholder:t.defaultValue.placeholder,"fetch-suggestions":t.querySearchAsync,"highlight-first-item":!1,"trigger-on-focus":!1},on:{input:t.setClear,select:t.handleSelect,focus:function(e){t.tabBoxShow=!0},blur:t.changetabBoxShow},model:{value:t.defaultValue.searchParams.value,callback:function(e){t.$set(t.defaultValue.searchParams,"value",e)},expression:"defaultValue.searchParams.value"}},"el-autocomplete",t.$attrs,!1),[e("template",{slot:"suffix"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.defaultValue.clearable,expression:"!defaultValue.clearable"}],staticClass:"iconfont icon-search search-icon",staticStyle:{width:"38px",height:"38px"},on:{click:function(e){t.defaultValue.clearable=!0,t.search("search")}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultValue.clearable,expression:"defaultValue.clearable"}],staticClass:"clearSearch",on:{click:t.onClear}},[e("i",{staticClass:"el-icon-close"})])])],2):e("el-input",t._b({staticClass:"my-input",attrs:{placeholder:t.defaultValue.placeholder},on:{input:t.setClear,focus:function(e){t.tabBoxShow=!0},blur:t.changetabBoxShow},nativeOn:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.defaultValue.clearable=!0,t.search("search")}},model:{value:t.defaultValue.searchParams.value,callback:function(e){t.$set(t.defaultValue.searchParams,"value",e)},expression:"defaultValue.searchParams.value"}},"el-input",t.$attrs,!1),[e("template",{slot:"suffix"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.defaultValue.clearable,expression:"!defaultValue.clearable"}],staticClass:"iconfont icon-search search-icon",staticStyle:{width:"40px",height:"40px"},on:{click:function(e){t.defaultValue.clearable=!0,t.search("search")}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultValue.clearable,expression:"defaultValue.clearable"}],staticClass:"clearSearch",on:{click:t.onClear}},[e("i",{staticClass:"el-icon-close"})])])],2)],1),t._v(" "),e("el-col",{staticClass:"btn-icon",attrs:{span:1}},[e("el-button",{staticClass:"btn-fresh",attrs:{type:"text",size:"medium"},on:{click:t.refresh}},[e("i",{staticClass:"iconfont icon-refresh search-icon",staticStyle:{width:"48px",height:"48px"}})])],1),t._v(" "),t.defaultMode.modeVisible?e("el-col",{staticClass:"btn-icon",attrs:{span:1}},[e("el-button",{attrs:{type:"text",icon:"el-icon-magic-stick",size:"medium"},on:{click:t.showSearchModeDialog}})],1):t._e(),t._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:t.userInfo.id,expression:"userInfo.id"}],staticClass:"upload-model-btn",attrs:{span:1}},[e("i",{staticClass:"iconfont icon-icon_Upload"})])],1),t._v(" "),e("el-dialog",{attrs:{visible:t.defaultMode.searchModeDialogVisible,title:"Choose search mode"},on:{"update:visible":function(e){return t.$set(t.defaultMode,"searchModeDialogVisible",e)}}},[e("el-checkbox-group",t._b({model:{value:t.defaultMode.selectedSearchModes,callback:function(e){t.$set(t.defaultMode,"selectedSearchModes",e)},expression:"defaultMode.selectedSearchModes"}},"el-checkbox-group",t.inputModes,!1),t._l(t.defaultMode.searchModes,(function(n,o){return e("el-checkbox",{key:"_选择模式".concat(o),attrs:{label:n.value}},[t._v(t._s(n.name))])})),1),t._v(" "),e("div",{staticClass:"dialog-footer"},[e("el-button",{on:{click:function(e){t.defaultMode.searchModeDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.applySearchModes}},[t._v("Confirm")])],1)],1)],1)])}),[],!1,null,"85baa40a",null);e.default=component.exports},607:function(t,e,n){"use strict";n.r(e);n(24),n(4),n(28),n(43),n(44),n(26);var o={name:"NumberTransition",props:{value:{type:Number,required:!0},duration:{type:Number,default:600},easing:{type:String,default:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"},useThousandSeparator:{type:Boolean,default:!1}},data:function(){return{displayNumber:0,animationFrameId:null,startTime:0,startValue:0,isIncreasing:!1,isDecreasing:!1,previousValue:0}},computed:{formattedNumber:function(){return this.useThousandSeparator?this.formatNumberWithCommas(this.displayNumber):this.displayNumber}},watch:{value:{handler:function(t){var e=this;this.isIncreasing=t>this.previousValue,this.isDecreasing=t<this.previousValue,this.previousValue=t,this.animateToNewValue(t),setTimeout((function(){e.isIncreasing=!1,e.isDecreasing=!1}),this.duration+50)},immediate:!0}},beforeDestroy:function(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)},methods:{animateToNewValue:function(t){var e=this;this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.startValue=this.displayNumber,this.startTime=performance.now();var n=t-this.startValue;this.animationFrameId=requestAnimationFrame((function o(r){var l,c=r-e.startTime,progress=Math.min(c/e.duration,1);if("cubic-bezier(0.175, 0.885, 0.32, 1.275)"===e.easing)l=e.bounceEaseOut(progress);else l=progress;e.displayNumber=Math.round(e.startValue+n*l),progress<1?e.animationFrameId=requestAnimationFrame(o):(e.displayNumber=t,e.animationFrameId=null)}))},bounceEaseOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},formatNumberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}},r=(n(5006),n(0)),component=Object(r.a)(o,(function(){var t=this;return(0,t._self._c)("span",{staticClass:"number-transition",class:{"is-increasing":t.isIncreasing,"is-decreasing":t.isDecreasing},attrs:{translate:"no"}},[t._v("\n  "+t._s(t.formattedNumber)+"\n")])}),[],!1,null,"3757b33e",null);e.default=component.exports},608:function(t,e,n){"use strict";n.r(e);n(16);var o=n(404),r=n(361),l={name:"HyMorePopover",components:{NoLike:o.default,Report:r.default},props:{userData:{type:Object,default:function(){return{}}},targetItem:{type:Object,default:function(){return{}}},list:{type:Array,default:function(){return[]}}},data:function(){return{showPop:!1}},methods:{handleItem:function(t){console.log(t)}}},c=(n(5368),n(5369),n(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("el-popover",t._b({ref:"myPopover",attrs:{"popper-class":"hy-more-popover-box","append-to-body":!0,"visible-arrow":!1,"popper-options":{boundariesElement:"body"},trigger:"click"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},"el-popover",t.$attrs,!1),[e("div",{staticClass:"pop-btns"},t._l(t.list,(function(n,o){return e("div",{key:o,staticClass:"btn-item"},["report"===n.ctype?e("Report",{attrs:{targetItem:t.targetItem,isBack:n.isBack}},[e("div",{staticClass:"flex_m"},[e("i",{staticClass:"iconfont icon-jubao3"}),t._v(" "),e("span",[t._v(t._s(t.$t("Report")))])])]):t._e(),t._v(" "),"noLike"===n.ctype?e("NoLike",{attrs:{targetItem:t.targetItem,isBack:n.isBack}},[e("div",{staticClass:"flex_m"},[e("i",{staticClass:"iconfont icon-buganxingqu"}),t._v(" "),e("span",[t._v(t._s(t.$t("dislike")))])])]):t._e(),t._v(" "),["report","noLike"].includes(n.ctype)?t._e():e("div",{staticClass:"flex_m",on:{click:function(e){return t.handleItem(n)}}},[e("i",{class:["iconfont",n.icon]}),t._v(" "),e("span",[t._v(t._s(t.$t(n.label||"")))])])],1)})),0),t._v(" "),t._t("default",(function(){return[e("div",{staticClass:"avatar-more-btn"},[e("i",{staticClass:"iconfont icon-Ellipsis1"})])]}),{slot:"reference"})],2)],1)}),[],!1,null,"3aece050",null);e.default=component.exports},609:function(t,e,n){"use strict";n.r(e);n(152),n(199),n(16),n(24);var o=n(52),r=n(180),l=n(464),c=n(590),d=n(410),h={name:"HyFeaturedList",components:{SwipeableList:o.default,HyPlateTitle:r.default,BaseCard:l.default,NovelCard:c.default,HyFitterListBox:d.default},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1},maxHomeData:{type:Object,default:function(){return{}}},onView:{type:Function},fixedW:{type:Array,default:function(){return[314,260]}},fixedH:{type:Array,default:function(){return[182,342]}}},computed:{rectW:function(){var t=this.temp.content_type,e=[4,"4",5,"5"].includes(t),n=[1,"1",2,"2",3,"3"].includes(t),o=260;return e&&(o=this.fixedW[0]),n&&(o=this.fixedW[1]),"10"===t&&(o=484),o},rectH:function(){var t=this.temp.content_type,e=[4,"4",5,"5"].includes(t),n=[1,"1",2,"2",3,"3"].includes(t),o=260;return e&&(o=this.fixedH[0]),n&&(o=this.fixedH[1]),"10"===t&&(o=154),o},isInward:function(){var t=this.temp.content_type;return[2,"2",5,"5",3,"3"].includes(t)},cardRunderList:function(){var t=this.temp||{},e=t.elList,n=void 0===e?[]:e,o=t.elem_num,r=!n.length,l="novel"===this.$route.params.ptype?21:1;return r?Array(o).fill({obj_type:l}):n}},data:function(){return{}}},f=(n(5542),n(0)),component=Object(f.a)(h,(function(){var t,e,n,o=this,r=o._self._c;return r("div",[r("HyPlateTitle",{attrs:{item:o.temp,leftName:o.temp.title,link:o.temp.link,indexes:o.indexes}}),o._v(" "),r("div",{style:{minHeight:o.rectH+"px"}},[null!==(t=o.temp)&&void 0!==t&&t.wrap?o._e():[r("swipeable-list",o._b({attrs:{list:o.cardRunderList,listAlignItems:"flex-start",top:"0px",listGap:"16px",areaPtop:8,areaPbot:8}},"swipeable-list",o.$attrs,!1),[o._l(o.cardRunderList,(function(t,e){return[21!==t.obj_type?r("BaseCard",o._b({key:(t.id||"-")+e,staticClass:"featured-base-card",attrs:{item:t,imgW:o.rectW+"px",imgH:o.rectH+"px",isInward:o.isInward,isWater:!1,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes},maxHomeData:o.maxHomeData,rankFlag:1===o.temp.show_ord,isAutoPlayVideo:""}},"BaseCard",o.$attrs,!1)):o._e(),o._v(" "),21===t.obj_type?r("NovelCard",{key:(t.id||"-")+e,attrs:{item:t,imgW:o.rectW+"px",imgH:o.rectH+"px",isWater:!1,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes},maxHomeData:o.maxHomeData,onView:o.onView},on:{onView:function(t){return o.$emit("onView",t)}}}):o._e()]}))],2)],o._v(" "),null!==(e=o.temp)&&void 0!==e&&e.wrap?[r("HyFitterListBox",{attrs:{rowsH:o.isInward?o.rectH:o.rectH+84,colsW:o.rectW-50,rows:null===(n=o.temp)||void 0===n?void 0:n.width}},[o._l(o.cardRunderList,(function(t,e){return[21!==t.obj_type?r("BaseCard",o._b({key:(t.id||"-")+e,attrs:{item:t,imgW:"100%",imgH:o.rectH+"px",isInward:o.isInward,isWater:!1,logData:{id:o.temp.id,title:o.temp.title,index:e,mIndex:o.indexes},maxHomeData:o.maxHomeData,rankFlag:1===o.temp.show_ord}},"BaseCard",o.$attrs,!1)):o._e()]}))],2)]:o._e()],2)],1)}),[],!1,null,"9594f200",null);e.default=component.exports;installComponents(component,{SwipeableList:n(52).default})},623:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8);var o=n(2),r=(n(32),n(65),n(4),n(28),n(140),n(44),n(7),n(1));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"CodeViewer",mixins:[n(402).a],props:{data:{type:Object,default:function(){}},loading:{type:Boolean,default:!1}},components:{},data:function(){return{}},computed:c(c({},Object(r.c)("user",["isLoggedIn"])),{},{isShowConsume:function(){var t;return 4==(null===(t=this.data)||void 0===t||null===(t=t.permission)||void 0===t?void 0:t.source)},isShowEstimateCoins:function(){var t;return 0!==(null===(t=this.data)||void 0===t?void 0:t.estimate_coins)},getEstimateCoins:function(){if(this.data){var t,e=this.data||{},n=e.labels,o=e.estimate_coins,r=e.inputs,l=void 0===r?[]:r,c=0;return null!=l&&l.length&&l.forEach((function(t){c+=t.estimateCoins||0})),{estimate_coins:c||o||0,discount:(null==n||null===(t=n[0])||void 0===t||null===(t=t.match(/^.*?%/))||void 0===t?void 0:t[0])||""}}return{estimate_coins:0,discount:""}},getEstimatedCost:function(){var t=(this.data||{}).inputs,e=(void 0===t?[]:t).find((function(t){var e=t.field,n=t.node_type;return"model"==e&&"SeaArtSD3"==n}));return"sd3-turbo"==(null==e?void 0:e.val)?30:45}}),methods:{},render:function(){var t,e,n=this,o=arguments[0],r=o("el-tooltip",{class:"item",attrs:{effect:"dark",content:this.$t("workFlow31"),placement:"top"}},[o("span",{class:"el-icon-question generate-tips"})]),l=o("div",{class:"estimated-cost"},["(",this.$t("expend"),": ",this.getEstimatedCost," ",this.$t("coin"),")"]),c=o("div",{class:"estimate-coins"},[this.getEstimateCoins.discount?o("span",{class:"estimate-coins-sub"},[o("i",{class:"iconfont icon-trail-fast-queue estimate-coins-sub-icon"}),o("span",{class:"estimate-coins-sub-delete-text"},[(this.getEstimateCoins.estimate_coins/(1-parseFloat(this.getEstimateCoins.discount.replace("%",""))/100)).toFixed(2)]),o("span",{class:"estimate-coins-sub-normal-text"},[this.getEstimateCoins.estimate_coins])]):o("span",["(",this.$t("estimatedCost"),":",this.getEstimateCoins.estimate_coins,")"])]),d=function(t,e,text){if(e){var n={free:"free-guest-mode-badge",discount:"discount-badge"};return o("span",{class:n[t]},[o("span",{class:"".concat(n[t],"-text")},[text])])}};return o("el-button",{class:"generate-btn flex-center",attrs:{loading:this.loading}},[(t=(n.data||{}).is_free_guest_mode,e=n.getEstimateCoins.discount,o("div",{class:"flex-center"},[d("free",t,n.$t("blog_try")),d("discount",n.isLoggedIn&&e,"".concat(e," Off")),o("span",{class:"txt"},[n.$t("Generate")]),n.isLoggedIn&&!n.isShowConsume&&(n.isShowEstimateCoins?c:r)])),this.isLoggedIn&&this.isShowConsume&&l])}},h=d,f=(n(5627),n(0)),component=Object(f.a)(h,undefined,undefined,!1,null,"0faa4206",null);e.default=component.exports},64:function(t,e,n){"use strict";n.r(e);var o=n(2);n(19),n(11),n(6),n(16),n(12),n(13),n(8),n(4),n(7);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=n(14),d=(n(32),n(50),n(31),n(24),n(21),n(1)),h=n(98),f=n(58),m=n(35),v=n.n(m),_=n(45),y=n(145),w=n(10),C=n(464),x=n(104),O=n(590),k=n(3219),j=n(3220),I=n(3221);function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D={inject:["app"],mixins:[_.a,y.a],components:{BaseCard:C.default,NovelCard:O.default,UserCard:k.default,TagCard:j.default,RoleCard:I.default},props:{list:{type:Array,default:function(){return[]}},container:{type:String},containerRef:{},gap:{type:Number,default:16},cols:{type:Number,default:0},isDynamicList:{type:Boolean,default:!0},defaultMB:{type:Number,default:80},row:{type:Number,default:1},isVirtualList:{type:Boolean,default:!0},maxHomeData:{type:Object,default:function(){return{}}},waterAllListFn:{type:Function,default:function(){return[]}},isNovel:{type:Boolean,default:!1},isUser:{type:Boolean,default:!1},isRole:{type:Boolean,default:!1},fixedHeight:{type:Number,default:0},rollBox:{type:String,default:""},fixedRatios:{type:[Array,Boolean]},isSingleSelect:{type:Boolean,default:!1},isMultiSelect:{type:Boolean,default:!1},isPureImg:{type:Boolean,default:!1},quickDelete:{type:Boolean,default:!1},logEventData:{type:Object,default:function(){return{dataInfo:{}}}},logGroupName:{type:String,default:"waterfall_box"}},data:function(){var t=this;return{isDelete:!1,dataList:this.list,width:0,scrollTop:0,selfCols:6,openWatch:!0,resizeListener:Object(h.a)((function(){return t.resize(t.dataList)}),500),lastTime:null,startIndex:0,lastScrollTop:0,isServer:!0,openWaterFall:!1,isTest:!1,selectList:[],entity_type:"waterfall_box"}},computed:P(P(P({},Object(d.c)("user",["isLoggedIn","accountSettingsData"])),Object(d.e)("user",["userInfo"])),{},{renderList:function(){var t,e=(null===(t=this.$parent)||void 0===t||null===(t=t.$refs)||void 0===t?void 0:t[this.container])||this.containerRef;if(!e||!this.isVirtualList)return this.dataList;var n=this.scrollTop-e.offsetTop,o=n-window.innerHeight,r=n+window.innerHeight+1e3;if(n>this.lastScrollTop)for(;this.startIndex<this.dataList.length&&(null===(l=this.dataList[this.startIndex])||void 0===l?void 0:l.top)<=o;){var l;this.startIndex++}else for(;this.startIndex>0&&(null===(c=this.dataList[this.startIndex])||void 0===c?void 0:c.top)>=o;){var c;this.startIndex--}for(var d=this.startIndex;d<this.dataList.length&&(null===(h=this.dataList[d])||void 0===h?void 0:h.top)<=r;){var h;d++}this.lastScrollTop=n;var f=this.isDynamicList?this.dataList.slice(this.startIndex,d):this.dataList;return f=f.filter((function(t,e){return t}))},dataInfo:function(){var t=this;return function(e){var n=e.id,o=e.obj_type,r=e.pt,l=t.dataList.findIndex((function(t){return t.id===n})),c=P({id:n,type:o,pt:r,cindex:l,obj_filter:e.obj_filter},t.logEventData);return JSON.stringify(c)}},getCindex:function(){var t=this;return function(e){return t.dataList.findIndex((function(t){return t.id===e}))}}}),watch:{cols:{handler:function(t){var e=this;this.$nextTick((function(){e.width=e.getWidth()}))},immediate:!0},list:{handler:function(t){var e=this;this.$nextTick((function(){var n=e.openWatch;e.width;if(n){e.width||(e.width=e.getWidth());var o=v()(t);if(e.dataList.length<100)e.$nextTick((function(){e.updateDataList(o,!1)}));else if(o.length>e.dataList.length){var r=Object(c.a)(o.slice(e.dataList.length));e.updateDataList(r,!0)}else o.length<e.dataList.length&&(e.dataList=[],e.startIndex=0,e.updateDataList(o,!1))}}))},immediate:!0},WaterFallDeleteLits:{handler:function(t){this.isDelete=!0}},"app.showMenu":function(t){this.resizeListener()},isLoggedIn:function(){this.resizeListener()}},activated:function(){var t=this;(this.openWatch=!0,this.isDelete&&(this.resizeListener(),this.isDelete=!1),this.resizeListener(),window.addEventListener("resize",this.resizeListener),this.rollBox)?document.querySelector("#".concat(this.rollBox)).addEventListener("scroll",Object(x.throttle)(this.lazyLoadRollBox,200),{passive:!0}):window.addEventListener("scroll",Object(x.throttle)(this.lazyLoad,200),{passive:!0});this.$nextTick((function(){window.scrollTo(0,t.scrollTop)}))},deactivated:function(){this.openWatch=!1,window.removeEventListener("resize",this.resizeListener),window.removeEventListener("scroll",Object(x.throttle)(this.lazyLoad,200))},mounted:function(){(window.addEventListener("resize",this.resizeListener),this.rollBox)?document.querySelector("#".concat(this.rollBox)).addEventListener("scroll",Object(x.throttle)(this.lazyLoadRollBox,200),{passive:!0}):window.addEventListener("scroll",Object(x.throttle)(this.lazyLoad,200),{passive:!0});this.isServer=!1},beforeDestroy:function(){window.removeEventListener("resize",this.resizeListener)},methods:P(P({},Object(d.b)("user",["getAccountInfo"])),{},{updateDataList:function(t,e){var n=this,o=this.WaterFallDeleteLits,r=this.width;r||(this.width=this.getWidth());for(var l=t.filter((function(t){return!o.includes(t.id)})),i=0;i<l.length;i++){var c=l[i];if(c.timeItem)c.waterWidth=r,c.waterHeight=30;else{c.timeDiff=Object(f.d)(c.created_at,Date.now(),this.$t),c.waterWidth=r;var d=this.getDimensions(c),h=d.intWidth,m=d.inHeight;c.waterHeight=parseInt(m*r/h),isNaN(c.waterHeight)&&(c.waterHeight=320),this.isNovel&&(c.waterHeight=154),this.isUser&&(c.waterHeight=300),this.isRole&&(c.waterHeight=589),c.slotName&&(c.waterHeight=c.height)}}e?l.forEach((function(t){n.dataList.push(t)})):this.dataList=l,this.waterfall()},getDimensions:function(t){var e,n,o,r,l=(this.$route.params||{}).ptype,c=void 0===l?"/":l,d=(null==t||null===(e=t.cover)||void 0===e?void 0:e.width)||260,h=(null==t||null===(n=t.cover)||void 0===n?void 0:n.height)||346,f=t.sub_channel,m="post"===c&&"article"===f;this.fixedRatios?(d=this.fixedRatios[0],h=this.fixedRatios[1]):"/"!==c&&"post"!==c?(d=260,h=346):(d=m?260:null==t||null===(o=t.cover)||void 0===o?void 0:o.width,h=m?346:null==t||null===(r=t.cover)||void 0===r?void 0:r.height);return t.slotName&&(d=t.width,h=t.height),d/h<.2&&(h=300),{intWidth:d,inHeight:h}},resize:function(t){var e,n=this;if(this.openWatch){var o=(null===(e=this.$parent)||void 0===e||null===(e=e.$refs)||void 0===e?void 0:e[this.container])||this.containerRef;(null==o?void 0:o.offsetWidth)<600||(this.dataList=v()(t).filter((function(t){return!n.WaterFallDeleteLits.includes(t.id)})),this.width=this.getWidth(),this.dataList.forEach((function(t){if(t.timeItem)t.waterWidth=n.width,t.waterHeight=30;else{t.timeDiff=Object(f.d)(t.created_at,Date.now(),n.$t),t.waterWidth=n.width;var e=n.getDimensions(t),o=e.intWidth,r=e.inHeight;t.waterHeight=parseInt(r*n.width/o),isNaN(t.waterHeight)&&(t.waterHeight=320),n.isNovel&&(t.waterHeight=154),n.isUser&&(t.waterHeight=300),n.isRole&&(t.waterHeight=589),t.slotName&&(t.waterHeight=t.height),t.cover&&!t.replaceUrl&&(t.replaceUrl=Object(w.K)(t.cover,13==t.obj_type?"high":"low"))}})),this.waterfall())}},waterfall:function(){var t=this;try{this.openWaterFall=!1,this.heights=[];for(var e=function(){var e=t.dataList[i],n=e.waterHeight,o=0;e.title&&(o+=30),e.sub_title&&(o+=30),!e.title&&!e.sub_title&&(o+=30),o+=40;[5,15,9].includes(e.obj_type)&&(o=70);[9].includes(e.obj_type)&&(o=100);var r=t.$route.params.ptype;"/"===(void 0===r?"/":r)&&[1].includes(e.obj_type)&&(o=50),t.isNovel&&(o=40),t.isUser&&(o=10);if(([13,2,14,16,6,11,76].includes(e.obj_type)||t.isPureImg||e.slotName)&&(o=0),e.timeItem){e.left=0;var l=t.getMaxIndex(t.heights);e.top=l>-1?t.heights[l]+t.gap:0,t.heights.forEach((function(r,l){t.heights[l]=e.top+n+o}))}else if(t.heights.length<t.selfCols)if(t.dataList[i-1]&&t.dataList[i-1].timeItem)if(e.left=0,e.top=t.dataList[i-1].top+t.dataList[i-1].waterHeight+t.gap,t.heights[0]){var c=t.heights[0]+n+o;t.heights=[c+t.gap]}else t.heights.push(e.top+n+o);else e.top=t.dataList[i-1]?t.dataList[i-1].top:0,e.left=t.heights.length*(t.width+t.gap),t.heights.push(e.top+n+o);else{var d=t.getMinIndex(t.heights),h=t.heights[d]+t.gap;e.top=h,e.left=d*(t.width+t.gap),t.heights[d]=h+n+o}},i=0;i<this.dataList.length;i++)e();this.setWaterFallRect(),this.$nextTick((function(){t.openWaterFall=!0}))}catch(t){}},getMinIndex:function(t){var e=Math.min.apply(null,t);return t.indexOf(e)},getMaxIndex:function(t){var e=Math.max.apply(null,t);return t.indexOf(e)},getWidth:function(){var t;this.selfCols=this.cols;var e=(null===(t=this.$parent)||void 0===t||null===(t=t.$refs)||void 0===t?void 0:t[this.container])||this.containerRef,n=null==e?void 0:e.offsetWidth;if(n){var o=[{width:220,cols:1},{width:600,cols:2},{width:900,cols:3},{width:1100,cols:4},{width:1360,cols:5},{width:1900,cols:6},{width:2100,cols:7}];this.isNovel&&(o=[{width:1e3,cols:2},{width:1360,cols:3},{width:1440,cols:4}]),this.isRole&&(o=[{width:600,cols:2},{width:900,cols:3},{width:1100,cols:4},{width:1200,cols:5},{width:1500,cols:6},{width:1700,cols:7},{width:1900,cols:9},{width:2100,cols:10},{width:2300,cols:11},{width:2500,cols:12},{width:2700,cols:13},{width:2900,cols:14},{width:3100,cols:15},{width:3300,cols:16},{width:3500,cols:17},{width:3700,cols:18},{width:3900,cols:19},{width:4100,cols:20},{width:4300,cols:21},{width:4500,cols:22},{width:4700,cols:23},{width:4900,cols:24}]);var r=o.find((function(t){return n<=t.width}))||o[o.length-1];this.selfCols=this.cols||r.cols;var l=(n-(this.selfCols-1)*this.gap)/this.selfCols,c=Math.floor(l);return c>140?c:140}},setWaterFallRect:function(){var t,e=this.fixedHeight,n=(null===(t=this.$parent)||void 0===t||null===(t=t.$refs)||void 0===t?void 0:t[this.container])||this.containerRef,o=Math.max.apply(null,this.heights);this.list.length?(n.style.height=o+"px",e&&(n.style.height=e+"px"),n.style.marginBottom=this.defaultMB+"px"):n.style.height=0},lazyLoad:function(){var t=this.fixedHeight;if(this.openWatch&&!t){var e=document.documentElement.scrollHeight,n=window.innerHeight;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset,e-this.scrollTop-n<1.5*n&&this.$emit("load")}},lazyLoadRollBox:function(t){var e=this.fixedHeight;if(this.openWatch&&!e){var n=t.target,o=n.scrollHeight,r=n.clientHeight,l=n.scrollTop;this.scrollTop=l,o-l-r<80&&this.$emit("load")}},selectCard:function(t){var e=this.selectList.some((function(e){return e.id===t.id}));this.isSingleSelect&&(this.selectList=e?[]:[t]),this.isMultiSelect&&(e?this.selectList=this.selectList.filter((function(e){return e.id!==t.id})):this.selectList.push(t)),this.$emit("onChangeChoose",this.selectList,t)},clearSelectCard:function(t){this.selectList=this.selectList.filter((function(e){return e.id!==t}))},clearSelectList:function(){this.selectList=[]},fillSelectList:function(t){this.selectList=t},handleQuickDelete:function(t){var e=this;this.$emit("onQuickDelete",t,(function(){e.resizeListener()}))},adminHandle:function(t){this.setWaterFallDeleteLits(t),this.resizeListener()},handleAllAction:function(t){var e=this.dataList.findIndex((function(e){return e.id===t.id}));this.$emit("onAllAction",P(P({},t),{},{cindex:e}))}})},L=(n(4003),n(0)),component=Object(L.a)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"homeList",class:{"server-list":t.isServer}},t._l(t.renderList,(function(n,r){return e("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibility,expression:"handleVisibility"}],key:"".concat(null==n?void 0:n.id,"_").concat(null==n?void 0:n.obj_type,"_").concat(null==n?void 0:n.left,"_").concat(null==n?void 0:n.top),staticClass:"box marking-item",style:{transform:t.openWaterFall?"translateX(".concat(n.left,"px) translateY(").concat(n.top,"px)"):null,width:n.waterWidth+"px",height:n.waterHeight+"px"},attrs:{"data-info":t.dataInfo(n),"data-filter":n.obj_filter,"data-group":t.logGroupName}},[n.timeItem?e("div",{staticClass:"timeRow",style:{width:n.waterWidth+"px",height:n.waterHeight+"px"}},[t._v("\n      "+t._s(n.timeItem)+"\n    ")]):t._e(),t._v(" "),"header"===n.slotName?[t._t("header",null,{item:n})]:t._e(),t._v(" "),[6,8,21,76].includes(n.obj_type)||n.slotName?t._e():[e("BaseCard",t._b({attrs:{imgW:"auto",imgH:n.waterHeight+"px",item:n,handFns:{resizeFn:t.resizeListener},logData:l({id:"waterFallFlow",title:"waterFallFlow",index:t.getCindex(n.id),pt:n.pt},t.logEventData),maxHomeData:t.maxHomeData,waterAllListFn:t.waterAllListFn,renderList:t.renderList,isSingleSelect:t.isSingleSelect,isMultiSelect:t.isMultiSelect,selectList:t.selectList,isPureImg:t.isPureImg,quickDelete:t.quickDelete},on:{onAdmin:t.adminHandle,onView:function(e){return t.$emit("onView",e)},onLike:function(e){return t.$emit("onLike",e)},onCollect:function(e){return t.$emit("onCollect",e)},onSelect:t.selectCard,onQuickDelete:t.handleQuickDelete,onAllAction:t.handleAllAction}},"BaseCard",t.$attrs,!1))],t._v(" "),21===n.obj_type?[e("NovelCard",{attrs:{imgW:"auto",imgH:"auto",item:n,logData:l(Object(o.a)(Object(o.a)({id:"waterFallFlow",title:"waterFallFlow",index:t.getCindex(n.id)},"index",r),"pt",n.pt),t.logEventData),maxHomeData:t.maxHomeData,waterAllListFn:t.waterAllListFn,renderList:t.renderList},on:{onAdmin:t.adminHandle,onView:function(e){return t.$emit("onView",e)}}})]:t._e(),t._v(" "),[8].includes(n.obj_type)?e("UserCard",{attrs:{imgW:"auto",imgH:"auto",item:n,logData:l(Object(o.a)(Object(o.a)({id:"waterFallFlow",title:"waterFallFlow",index:t.getCindex(n.id)},"index",r),"pt",n.pt),t.logEventData)},on:{onView:function(e){return t.$emit("onView",e)}}}):t._e(),t._v(" "),[6].includes(n.obj_type)?e("TagCard",{attrs:{imgW:"auto",imgH:"auto",item:n},on:{onView:function(e){return t.$emit("onView",e)}}}):t._e(),t._v(" "),[76].includes(n.obj_type)?e("RoleCard",{attrs:{item:n}}):t._e()],2)})),0)}),[],!1,null,"7d21b924",null);e.default=component.exports},786:function(t,e,n){"use strict";(function(t){n(11),n(12),n(13),n(7);var o=n(120),r=n(3),l=n(30),c=n(2),d=(n(4462),n(47),n(3127)),h=n.n(d),f=(n(736),n(455)),m=n.n(f),v=(n(20),n(19),n(6),n(16),n(18),n(8),n(4),n(28),n(43),n(21),n(44),n(151),n(696)),_=n(27),y=n(87),w=n(3344),C=n(3345),x=n(3346),O=n(3347),k=n(3348),j=n(3349),I=n(886),S=n(887),P=n(153),D=n(1),L=n(3350),T=n(39),$=n(564),A=n(48),R=n(78),M=n(266),E=n(106),F=n(461),N=["openLoginDialog","token"];function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={name:"LoginPopup",inject:["app"],components:{EmailLogin:w.default,PhoneLogin:C.default,SendEmail:x.default,RegisterInput:O.default,SetPassword:k.default,TagView:j.default,GoogleLogin:I.default,FacebookLogin:S.default,Agreement:L.default,ElDivider:m.a,ElCard:h.a,StatisticsCard:$.default},props:{isShowPopup:{type:Boolean,default:!1},redirect:{type:String,default:"/"},isShowCloseIcon:{type:Boolean,default:!0},isAutoFoucs:{type:Boolean,default:!0},showActive:{type:Boolean,default:!1},loginFrom:{type:String,required:!0,default:""},dotCover:{type:Boolean,default:!1},backgroundUrl:{type:String,default:""},autoActive:{type:Boolean,default:!1},loginType:{type:String,default:""}},data:function(){return{loginLoading:!1,titleText:"Login",showText:"SelectTLMYN",step:"login-types",stepMap:{"login-types":["Login","SelectTLMYN"],"email-login":["Login","SignIWYE"],"send-email":["VerifyIdentity",""],"register-input":["Register","RegisterWYE"],"set-password":["Register","ResetPassword"],"final-step":["Get Started","Please complete your personal information"]},allSteps:["login-types","email-login","send-email","register-input","set-password","final-step"],verificationMethod:"email",sendEmailValue:"",registerPass:"",sendEmailType:"register",accountNum:"",token:"",needCode:!0,code:"",userCode:"",inviteType:"",authed:!0,showRegister:!1,emailOrPhone:!0,showDtlForEn:!1,errorCodeMap:{20001:"AccountNoExistent",20004:"AccountDisabled",20005:"PasswordError",20002:"ResetLinkExpired",20003:"ResetLinkExpired",20010:"actNotAvailable",20100:"InvalidEmail",20101:"EmailRegistered",20105:"VerifiCodeError",40002:"InviteCodeError",10405:"code_10405",10407:"code_10407",10408:"code_10408",20302:"UserNameRepeat"},descriptionList:[{title:"AI_Images",desc:"AI_Images_Desc"},{title:"gpt_tab_person",desc:"gpt_tab_person_desc"},{title:"AI_Tools",desc:"AI_Tools_Desc"}]}},computed:B(B(B(B(B({},Object(D.e)("user",["used","userInfo","tempToken","cdnHost"])),Object(D.e)("app",["ABInfo"])),Object(D.c)("user",["isLoggedIn"])),Object(D.c)("creation",["showSampleMode"])),{},{loginSource:function(){return this.loginFrom+(this.dotCover?"_cover":"")},inviteCodeObj:function(){var t={};return this.code&&(t.invitation_code=this.code),this.userCode&&(t.invite_user_code=this.userCode),t.source=this.loginSource,this.showSampleMode&&(t.source="simple_flow"),t},filterDescriptionList:function(){if(this.$isChinaSite){var t=["gpt_tab_person"];return this.descriptionList.filter((function(e){return!t.includes(e.title)}))}return this.descriptionList},backgroundStyle:function(){return this.backgroundUrl?{backgroundImage:"url(".concat(this.backgroundUrl,")")}:{}},backgroundImageNo1:function(){return"url(https://".concat(this.cdnHost,"/static/upload/20250124/7aaca087-ccbe-403f-ae98-d3f14c6fdff8.png)")}}),watch:{step:{handler:function(t){if(-1!==this.allSteps.indexOf(t)){var e=Object(l.a)(this.stepMap[t],2),title=e[0],text=e[1];this.showText=text,"register"===this.sendEmailType&&"send-email"===t?this.titleText="Register":"set-password"===t&&"forget"===this.sendEmailType?this.titleText="ResetPassword":this.titleText=title}else this.step="login-types"},immediate:!0},showActive:{handler:function(t){t&&this.activeAccount()},immediate:!0}},mounted:function(){this.userCode=Object(A.r)(),this.updateIsNewUser(),this.loginType&&this.handleLoginType(this.loginType)},methods:B(B(B(B({},Object(D.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser","logout"])),Object(D.b)("chatgpt",["getMainMessage"])),Object(D.b)("payment",["getPaymentInfo"])),{},{getUrlQuery:function(){if(this.code=localStorage.getItem("inviteCode"),this.inviteType=localStorage.getItem("inviteType"),window.location.search.length>1){var t=this.$route.query,e=t.type,n=t.token,o=t.account_no,code=t.code,r=t.inviteType,l=t.toActive,c=t.u_code,d=t.tencentCode,h=t.tencentType,f=c,m=void 0===h?"qq":h;if(l)return void(this.step="final-step");this.saveUrlData(code,r),"undefined"!==String(f)&&this.updateUCode(f),n?this.dealPathToken(n,e,o):(this.step="login-types",d&&this.loginTencent(m,d))}},dealPathToken:function(t,e,n){if(t)if(this.token=t,"resetpassword"===e)this.setPassword();else{var o={register:4,login:6,12:12}[e];o&&this.loginToken(o)}},loginToken:function(t){if(this.token){var param={token:this.token,type:t};this.loginFun(param)}},setPassword:function(){this.sendEmailType="forget",this.step="set-password"},saveUrlData:function(code,t){this.needCode&&(this.code=code,localStorage.setItem("inviteCode",this.code)),t&&(this.inviteType=t,localStorage.setItem("inviteType",t))},goto:function(t){var e=t.pagename,n=t.type,param=t.param;"forget-password"===e?(this.sendEmailValue=param.email,this.sendEmailType="forget"):"send-email"===e&&("forget"===n?(this.sendEmailValue=param.email,this.sendEmailType="forget",this.sendEmail()):"register"===n&&(this.sendEmailValue=param.email,this.registerPass=param.password,this.sendEmailType="register",this.sendEmail())),"login-types"===e&&(this.showRegister=!1),"register-input"!==e?this.step=e:this.showRegister=!0},sendEmail:function(){this.sendEmailType&&this.sendVerifyEmail(this.sendEmailType)},sendVerifyEmail:function(t){var e=this;if("register"===t){var param={email:this.sendEmailValue,password:this.registerPass};param=Object.assign({},param,this.inviteCodeObj),localStorage.getItem("reg_source_try")&&(param.source=localStorage.getItem("reg_source_try")),Object(_.Ib)(param).then((function(t){var n=t.status,o=(void 0===n?{}:n).code,code=void 0===o?0:o;1e4===code?e.$message.success(e.$t("SendingSucceeded")):Object.keys(e.errorCodeMap).includes(String(code))?e.$message.error(e.$t(e.errorCodeMap[code])):e.$message.error(t.status.msg||e.$t("FailSendEmail"))})).finally((function(){localStorage.removeItem("reg_source_try")}))}else"forget"===t&&Object(_.E)({email:this.sendEmailValue}).then((function(t){1e4===t.status.code?e.$message.success(e.$t("SendingSucceeded")):e.$message.error(t.status.msg||e.$t("FailSendEmail"))}))},authForSignIn:function(){this.authed=!0,this.showText="SetUpAccount",console.log("this.authed","--",this.authed,this.$t(this.showText))},loginByThird:function(t){console.log("loginByThird","--",t);var e=t.token,n=void 0===e?"":e,o=t.type,param={token:n,type:void 0===o?2:o};this.loginFun(param)},loginTencent:function(){var param={token:arguments.length>1?arguments[1]:void 0,type:"qq"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"qq")?10:11};this.loginFun(param)},loginFun:function(param){var t=this;this.loginLoading=!0;var e=this.buildLoginParams(param);this.autoActive&&(e.activate=1),this.loginSeaartLog({session_id:e.session_id,entity_name:"seaart_login_start"}),Object(_.gb)(e).then((function(n){var o,code=null==n||null===(o=n.status)||void 0===o?void 0:o.code;if(1e4===code){if(t.loginSeaartLog({session_id:e.session_id,entity_name:"seaart_login_success"}),9!==(null==e?void 0:e.type)){t.loginSeaartLog({entity_name:"sdk_login_start",session_id:e.session_id});try{t.loginSeaart(e).then((function(n){var o={session_id:e.session_id};n.err?(o.entity_name="sdk_login_error",o.error=(null==n?void 0:n.message)||"接口成功，返回错误了"):o.entity_name="sdk_login_success",t.loginSeaartLog(o)})).catch((function(n){var o={session_id:e.session_id,entity_name:"sdk_login_error",error:(null==n?void 0:n.message)||"接口报错，返回错误了"};t.loginSeaartLog(o)}))}catch(n){var r={session_id:e.session_id,entity_name:"sdk_login_error",error:(null==n?void 0:n.message)||"try catch 报错"};t.loginSeaartLog(r)}}localStorage.removeItem("skyfallParams"),t.addMarketLogEvent(e);var l=n.data.account,c=l.status,d=l.device_code;if(3===c&&t.trackCompleteRegistration(n.data.account),![1,3].includes(c))return void t.$message.error(t.$t("AccountDisabled"));t.$logEvent("web_login"),d&&t.$cookies.set("deviceId",d),t.code&&localStorage.removeItem("inviteCode"),t.finalPage(c,n.data,null==e?void 0:e.type)}else Object.keys(t.errorCodeMap).includes(String(code))?(t.loginSeaartLog({session_id:e.session_id,entity_name:"seaart_login_error",error:t.$t(t.errorCodeMap[code])}),t.$message.error(t.$t(t.errorCodeMap[code])),40002===code&&(t.userCode="",Object(A.v)())):(t.loginSeaartLog({session_id:e.session_id,entity_name:"seaart_login_error",error:n.status.msg||t.$t("LoginFailed")}),2===(null==e?void 0:e.type)&&t.$refs.google.clearCookies(),t.$message.error(n.status.msg||t.$t("LoginFailed")))})).catch((function(n){var o={session_id:e.session_id,entity_name:"seaart_login_error",error:(null==n?void 0:n.message)||"try catch 报错"};t.loginSeaartLog(o)})).finally((function(){t.loginLoading=!1;try{var e,n;null===(e=t.$refs)||void 0===e||null===(e=e.google)||void 0===e||e.loadingGoogle.close(),null===(n=t.$refs)||void 0===n||null===(n=n.facebook)||void 0===n||n.loadingFacebook.close()}catch(t){}}))},loginSeaart:function(t){var e={session_id:t.session_id};if(1===t.type)return e.email=t.email,e.verify_type=1,e.credential=t.password,Object(M.a)({method:"emailLogin",params:e,needReturnResult:!0});switch(e.auth_token=t.token,t.type){case 2:e.channel_type=2;break;case 3:e.channel_type=4;break;case 6:e.channel_type=5}return Object(M.a)({method:"loginThird",params:e,needReturnResult:!0})},loginSeaartLog:function(t){var e=t.entity_name,n=t.session_id,o=t.error;this.$xyLogEvent({front_operation:"click",entity_name:e,entity_type:"login-card-page",obj_info:{session_id:n,error:o,userAgent:navigator.userAgent}})},buildLoginParams:function(param){var t=Object(v.a)(),e=B(B({},param),{},{session_id:t});e=Object.assign({},e,this.inviteCodeObj);var n=Object(A.i)(),o=n.track_id,r=n.creative_id;o&&(e.track_id=o),r&&(e.creative_id=r);var l=localStorage.getItem("from_url");return e.from_url=l||"",e},trackCompleteRegistration:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(fbq("track","CompleteRegistration",{email:t.email||"",status:!0}),!e.$fbConversion){n.next=11;break}return n.prev=2,n.next=5,e.$fbConversion.trackRegistration(t.email||"");case 5:console.log("Facebook转化API注册事件发送成功"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.error("Facebook转化API注册事件发送失败:",n.t0);case 11:window.uetq&&(console.log("bing执行注册上报！！"),e.$bing_tracking.setUserIdentity({email:t.email||""}),e.$bing_tracking.trackEvent({eve:"Register",otherParams:{currency:"USD"}}));case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()},finalPage:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,data,r,l,c,d,h,f,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>0&&void 0!==t[0]?t[0]:1,data=t.length>1&&void 0!==t[1]?t[1]:{},r=t.length>2&&void 0!==t[2]?t[2]:1,Object(A.v)(),l=data.account,l.id,l.name,c=l.email,d=l.create_at,h=l.status,f=l.lang_code,1!==o){n.next=29;break}e.updateIsNewUser(r.toString()),e.$message.success(e.$t("LoginSuccess"));try{Object(P.c)(data.account)}catch(t){console.log("error",t)}return e.$cookies.set("T",data.token,{maxAge:5184e3,path:"/"}),e.$emit("loginSuccess",data.token),e.getAccountInfo(),e.getPaymentInfo(),Object(T.q)(),e.app.forceUpdateMenuData(),e.$store.dispatch("creation/getTaskOptionsInfo"),e.setUserInfo(B({},data)),e.closePopup(1),n.next=20,e.handlePopup();case 20:e.getMainMessage(),e.$logEvent("log_login_accounts",{source:e.code,mail:c,reg_at:d}),e.resetForm(),m="/"!==e.redirect&&""!==e.redirect,f&&e.$cookies.set("lang",f,{maxAge:31536e3,path:"/"}),m?e.$router.replace(e.localePath(e.redirect,f)):f!==e.$i18n.locale&&e.$router.replace(e.switchLocalePath(f)),e.$emit("loginSuccess"),n.next=30;break;case 29:3===o&&(e.setTempToken(data.token),e.setName(data.account.name),e.checkAndActiveAccount(data));case 30:3!==h&&e.$EventBus.$emit("hasCanRewards");case 31:case"end":return n.stop()}}),n)})))()},oldActiveAccount:function(){this.isShowPopup?(this.step="final-step",this.$emit("activeClass",!0)):this.$EventBus.$emit("openLoginDialog",{openActive:!0})},activeAccount:function(data){var t=(null==data?void 0:data.token)||this.tempToken||this.token;this.$EventBus.$emit("showDialog",{name:"RegisterPopup",data:{token:t,redirect:this.redirect}}),this.closePopup()},resetForm:function(){this.step="login-types",this.showDtlForEn=!1,this.emailOrPhone=!0,this.showRegister=!1,this.loginType&&this.handleLoginType(this.loginType)},closePopup:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.resetForm(),this.$route.name.includes("recommendPage")){console.log("closePopup-recommendPage",this.$route,e,this.redirect);var n=this.$route.query,r=(n.openLoginDialog,n.token,Object(o.a)(n,N));["/cyberPubPage","/cyberPub","/aiChat"].some((function(e){return t.redirect.includes(e)}))&&1===e?this.$router.replace(this.redirect):this.$router.replace({path:this.$route.path,query:r}).catch((function(t){}))}this.$emit("changeShowPopup",!1)},discordLogin:function(){var t=this.userCode?"&state="+this.userCode:"&state=",source="|"+this.loginSource;this.showSampleMode&&(source="|simple_flow"),t+=source;var link="https://discord.com/oauth2/authorize?response_type=code&client_id=".concat("1090452818831347793","&scope=identify%20guilds.join&redirect_uri=").concat("https://www.seaart.ai/api/v1/account/notify/discord").concat(t);console.log("link",link),window.open(link,"_self")},QQLogin:function(){var t=encodeURIComponent("https://www.haiyiai.com/qqcallback");console.log("redirectUrl",t);var e=Math.floor(9e6*Math.random())+1e6;window.open("https://graph.qq.com/oauth2.0/authorize?client_id=102060842&response_type=code&scope=get_user_info&state=".concat(e,"&redirect_uri=").concat(t),"_self")},wechatLogin:function(){var e=encodeURIComponent(t.env.VUE_APP_CN_URL+"wechatcallback"),n=Math.floor(9e6*Math.random())+1e6;window.open("https://open.weixin.qq.com/connect/qrconnect?appid=wx4b6f9720ccb40ac7&redirect_uri=".concat(e,"&response_type=code&scope=snsapi_login&state=").concat(n),"_self")},toggleEmlOrPhone:function(t){this.showDtlForEn=!0,this.showRegister=!1,this.emailOrPhone=t},updateUCode:function(code){console.log("updateUCode",code),code&&(this.userCode=code,Object(A.A)(code),console.log("index 更新邀请码",code))},addMarketLogEvent:function(t){var e="";switch(t.type){case 2:e="web_login_google";break;case 3:e="web_login_facebook";break;case 6:e="web_login_discord";break;case 1:e="web_login_email";break;case 9:e="web_login_phone"}this.$logEvent({entity_name:e})},handlePopup:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>0&&void 0!==t[0]&&t[0],!(r=localStorage.getItem("newUserSubscriptionInfo"))){n.next=9;break}return localStorage.removeItem("newUserSubscriptionInfo"),console.log("发现新用户标记，请求显示曝光弹窗..."),n.next=7,R.b.requestPopupDisplay(R.a.NEW_USER_EXPOSURE,{newUserMark:r},{highPriority:!0,isNewUser:o});case 7:n.next=16;break;case 9:if(!o){n.next=13;break}e.$EventBus.$emit("showActivationDialog"),n.next=16;break;case 13:return console.log("无标记，检查 API 状态..."),n.next=16,R.b.checkPopupStatus();case 16:case"end":return n.stop()}}),n)})))()},handleLoginType:function(t){switch(console.log("handleLoginType",t),t){case"phone":this.emailOrPhone=!1,this.showDtlForEn=!0;break;case"email":this.emailOrPhone=!0,this.showDtlForEn=!0}},checkAndActiveAccount:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null==data?void 0:data.token)||t.tempToken||t.token,t.$cookies.set("T",n,{maxAge:5184e3,path:"/"}),e.prev=2,e.next=5,Object(y.g)({},{headers:{Token:n}});case 5:r=e.sent,!(null!=r&&null!==(o=r.data)&&void 0!==o&&o.skip_activate)?t.activeAccount(data):t.directActiveAccount(data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("获取灰度配置失败:",e.t0),t.activeAccount(data);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},directActiveAccount:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r,code,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loginLoading=!0,n=(null==data?void 0:data.token)||t.tempToken||t.token,o={token:n,lang:t.$i18n.locale,sex:0,interest_tag:[],interest_module:[]},e.prev=3,e.next=6,Object(_.ub)(o,{isSilent:!0,headers:{Token:n}});case 6:if(r=e.sent,1e4!==(code=(r||{status:{}}).status.code)){e.next=14;break}return e.next=11,t.executeLoginSuccessFlow(data,n);case 11:null!==(l=window)&&void 0!==l&&l.mkq&&mkq("track","CompleteRegistration",{content_name:"register",status:"complete"}),e.next=15;break;case 14:Object.keys(t.errorCodeMap).includes(String(code))?t.$message.warning(t.$t(t.errorCodeMap[String(code)])):t.$message.error(r.status.msg||t.$t("LoginFailed"));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("直接激活失败:",e.t0),t.$message.error(t.$t("LoginFailed"));case 21:return e.prev=21,t.loginLoading=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,17,21,24]])})))()},executeLoginSuccessFlow:function(data,t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(A.v)(),e.$cookies.set("T",t,{maxAge:5184e3,path:"/"}),n.next=4,e.getAccountInfo();case 4:return o=n.sent,e.addActivationLogEvents(null==o?void 0:o.data),Object(P.c)(null==o?void 0:o.data),Object(F.a)("signup"),e.$yandexMetrika.register(),e.getPaymentInfo(),localStorage.removeItem("registerFormData"),e.closePopup(1),n.next=14,e.$nextTick();case 14:return n.next=16,e.handlePopup(!0);case 16:e.gotoPath(),e.$emit("loginSuccess");case 18:case"end":return n.stop()}}),n)})))()},addActivationLogEvents:function(t){var e=t.email,n=t.create_at;this.$logEvent("web_complete_registration"),this.$logEvent("log_registers",{source:this.code,mail:e,reg_at:n}),this.$logEvent("log_login_accounts",{source:this.code,mail:e,reg_at:n}),Object(E.c)(),this.$xyLogEvent({front_operation:"click",entity_name:"direct_activation_success",entity_type:"on_login_activation",event_name:"log_action_front"})},gotoPath:function(){"/"!==this.redirect&&this.redirect?this.$router.push(this.redirect):this.$EventBus.$emit("updateHomeTag")}})}}).call(this,n(245))},796:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(7);var o=n(2),r=(n(4),n(43),n(77),n(26),n(1));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"RetentionTimerButton",inject:{easyTaskView:{default:null}},props:{bottom:{type:String,default:"140"}},data:function(){return{minutes:"00",seconds:"00",countdownTimer:null,isFolded:!1,scrollTimer:null,lastScrollTop:0,scrollDistance:0,scrollEl:null,scrollTargetType:"window"}},computed:c(c(c({},Object(r.e)("payment",["retentionPopupEndTime","retentionButtonIsClose","activeDialogType"])),Object(r.c)("user",["userInfo","generateMode"])),{},{isVisible:function(){var t;return(null===(t=this.userInfo)||void 0===t?void 0:t.is_show_video_calculate)&&this.retentionPopupEndTime>Date.now()&&!this.retentionButtonIsClose&&"VipComputingDialogMini"===this.activeDialogType}}),watch:{retentionPopupEndTime:function(t,e){t&&t!==e&&t>Date.now()&&this.startCountdown()}},mounted:function(){var t=this;this.initStoragePopupState(),this.initRetentionPopupTime().then((function(e){e.valid&&t.startCountdown()})),this.$nextTick((function(){var e,n=null===(e=t.easyTaskView)||void 0===e?void 0:e.$refs.scrollWrapper;n?(t.scrollEl=n,t.scrollTargetType="div",t.lastScrollTop=n.scrollTop):(t.scrollEl=window,t.scrollTargetType="window",t.lastScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),t.scrollDistance=0,t.scrollEl.addEventListener("scroll",t.handleScroll,{passive:!0})}))},beforeDestroy:function(){this.countdownTimer&&clearInterval(this.countdownTimer),this.scrollEl.removeEventListener("scroll",this.handleScroll),this.scrollTimer&&clearTimeout(this.scrollTimer)},methods:c(c({},Object(r.b)("payment",["initRetentionPopupTime","getRetentionPopupTime","clearRetentionPopupTime","setRetentionButtonIsClose","initStoragePopupState"])),{},{openDialog:function(){this.$EventBus.$emit("showDialog",{name:"VipComputingDialogMini"}),this.$logEvent("log_actions",{operation:"to_pay_pop_show",behavior_info:"svip_calculate_retain",behavior_info_sub:"pop_2"})},startCountdown:function(){var t=this;this.countdownTimer&&clearInterval(this.countdownTimer),this.updateCountdown(),this.countdownTimer=setInterval((function(){t.updateCountdown()}),1e3)},updateCountdown:function(){if(!this.retentionPopupEndTime||this.retentionPopupEndTime<=Date.now())return this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.minutes="00",this.seconds="00",void this.clearRetentionPopupTime();var t=this.retentionPopupEndTime-Date.now(),e=Math.max(0,Math.floor(t/1e3)),n=Math.floor(e/60),o=e%60;this.minutes=n.toString().padStart(2,"0"),this.seconds=o.toString().padStart(2,"0")},handleClose:function(){this.setRetentionButtonIsClose(!0)},handleScroll:function(){var t=this;if(this.isVisible){var e="window"===this.scrollTargetType?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0:this.scrollEl.scrollTop;this.scrollDistance+=Math.abs(e-this.lastScrollTop),this.lastScrollTop=e,this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((function(){t.isFolded=!1,t.scrollDistance=0}),500),!this.isFolded&&this.scrollDistance>80&&(this.isFolded=!0)}}})},h=(n(4404),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"retention-timer-button-container"},[t.isFolded?e("div",{staticClass:"retention-timer-btn-folded",style:{bottom:"".concat(t.bottom,"px")}},[e("img",{staticClass:"img-folded",attrs:{src:"https://image.cdn2.seaart.me/20250523/1961a66a-ad2f-47fc-9ff3-6b3ab749d715_high.webp",alt:"cart"}}),t._v(" "),e("span",{staticClass:"main-label-text"},[t._v(t._s(t.$t("BonusBoosted")))])]):e("div",{staticClass:"retention-timer-button",style:{bottom:"".concat(t.bottom,"px")}},[e("div",{staticClass:"close-btn",on:{click:t.handleClose}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{staticClass:"button-content",on:{click:t.openDialog}},[t._m(0),t._v(" "),e("div",{staticClass:"timer-content"},[e("div",{staticClass:"timer-label"},[t._v(t._s(t.$t("BonusBoosted")))]),t._v(" "),e("div",{staticClass:"timer-countdown"},[e("span",{staticClass:"time-unit"},[t._v(t._s(t.minutes))]),t._v(" "),e("span",{staticClass:"time-separator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"time-unit"},[t._v(t._s(t.seconds))])])])])])]):t._e()}),[function(){var t=this._self._c;return t("div",{staticClass:"timer-icon"},[t("img",{attrs:{src:"https://image.cdn2.seaart.me/static/upload/20250313/e7a52158-2c46-4e57-9d82-c4fa1948070e.png",width:"80",height:"80",loading:"lazy",alt:"Timer icon"}})])}],!1,null,"0fcf4698",null);e.default=component.exports},797:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(7);var o=n(120),r=n(2),l=(n(16),n(18),n(4),n(28),n(21),n(44),n(513)),c=n(1),d=n(3128),h=n(266),f=n(3129),m=n.n(f),v=["openLoginDialog","token"];function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"LoginPopup",mixins:[d.a],components:{LoginCard:l.default},computed:y(y({},Object(c.c)("user",["isLoggedIn"])),Object(c.e)("creation",["generateViewShow"])),data:function(){return{isShowPopup:!1,paramsCallBack:null,backGroundUrl:"",autoActive:!1,redirect:"",showActive:!1,dotCover:!1,isGoogleOneTapReady:!1,googleOneTapInitialized:!1,loginType:""}},created:function(){Object(h.d)((function(){}))},mounted:function(){!this.token&&this.initGoogleOneTap()},methods:y(y(y(y({},Object(c.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser","logout"])),Object(c.b)("payment",["getPaymentInfo"])),Object(c.d)("user",["SET_LOGIN_POPUP_OPEN"])),{},{changeShowPopup:function(t){var e=this;["/cyberPubPage","/cyberPub","/aiChat"].some((function(t){return e.redirect.includes(t)}))||(this.redirect="/"),this.isShowPopup=t},stepChange:function(t){console.log("stepChange",t)},showDialog:function(){var t,e,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.redirect,l=void 0===r?"":r,c=o.loginFrom;this.redirect=l||"/";var d=(null===(t=this.$route)||void 0===t?void 0:t.fullPath)||(null===(e=this.$route)||void 0===e?void 0:e.path)||"/",h=this.generateViewShow?"new_task":"";this.loginFrom=c||h||d,this.dotCover=!(null==o||!o.dotCover),this.popDot(o),this.SET_LOGIN_POPUP_OPEN(!0),this.isShowPopup=!0,null!=o&&o.openActive&&this.$nextTick((function(){n.showActive=!0}))},open:function(t){var e,n=this;(this.paramsCallBack=null==t?void 0:t.callBack,this.backGroundUrl=null==t?void 0:t.backGroundUrl,this.autoActive=null==t?void 0:t.autoActive,this.loginType=(null==t?void 0:t.type)||"",this.isShowPopup||this.isLoggedIn)||(this.logout(),this.showDialog(t),"1"===(null===(e=this.$route.query)||void 0===e?void 0:e.openLoginDialog)&&this.$nextTick((function(){var t;null===(t=n.$refs)||void 0===t||null===(t=t.loginCard)||void 0===t||t.getUrlQuery()})))},closePopup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.SET_LOGIN_POPUP_OPEN(!1),this.resetForm(),0===t&&this.$route.name.includes("recommendPage")){var e=this.$route.query,n=(e.openLoginDialog,e.token,Object(o.a)(e,v));this.$router.replace(this.localePath({path:this.$route.path,query:n}))}this.isShowPopup=!1},resetForm:function(){var t;this.loginType="",(null===(t=this.$refs)||void 0===t?void 0:t.loginCard)&&this.$refs.loginCard.resetForm()},handleLoginSuccess:function(){var t=this;this.paramsCallBack&&"function"==typeof this.paramsCallBack&&this.paramsCallBack(),this.$nextTick((function(){t.paramsCallBack=null}))},popDot:function(t){!1!==(null==t?void 0:t.dot)&&this.$logEvent("log_actions",{operation:"register_popup"})},initGoogleOneTap:function(){var t=this;if(console.log("initGoogleOneTap",this.googleOneTapInitialized),!this.googleOneTapInitialized)try{m()({client_id:"220335438906-n0bj5hqf2rhdkqdl67m5dtrv53b9h74g.apps.googleusercontent.com",auto_select:!0,cancel_on_tap_outside:!1,context:"signin"},(function(e){if(null!=e&&e.credential){var n=e.credential;t.loginByThird({token:n,type:2})}else console.warn("Invalid Google One Tap response")})),this.googleOneTapInitialized=!0,this.isGoogleOneTapReady=!0}catch(t){console.error("Failed to initialize Google One Tap:",t),this.isGoogleOneTapReady=!1}},triggerGoogleOneTap:function(){this.isGoogleOneTapReady||this.initGoogleOneTap();try{var t;null===(t=window.google)||void 0===t||null===(t=t.accounts)||void 0===t||null===(t=t.id)||void 0===t||t.prompt((function(t){t.isNotDisplayed()?console.warn("Google One Tap not displayed:",t.getNotDisplayedReason()):t.isSkippedMoment()&&console.warn("Google One Tap skipped:",t.getSkippedReason())}))}catch(t){console.error("Failed to trigger Google One Tap:",t)}}}),beforeDestroy:function(){this.isShowPopup&&this.SET_LOGIN_POPUP_OPEN(!1)}},C=w,x=(n(4474),n(0)),component=Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"scale-fade"}},[t.isShowPopup?e("el-dialog",{staticClass:"login-popup",attrs:{visible:t.isShowPopup,"close-on-click-modal":!1,"lock-scroll":!0,"before-close":t.closePopup,"destroy-on-close":!1},on:{"update:visible":function(e){t.isShowPopup=e}}},[e("LoginCard",{ref:"loginCard",attrs:{loginFrom:t.loginFrom,redirect:t.redirect,isShowPopup:t.isShowPopup,backgroundUrl:t.backGroundUrl,autoActive:t.autoActive,showActive:t.showActive,dotCover:t.dotCover,loginType:t.loginType},on:{changeShowPopup:t.changeShowPopup,stepChange:t.stepChange,loginSuccess:t.handleLoginSuccess}})],1):t._e()],1)}),[],!1,null,"cd929ef0",null);e.default=component.exports;installComponents(component,{LoginCard:n(513).default})},83:function(t,e,n){"use strict";n.r(e);n(16),n(21),n(11),n(6),n(12),n(13),n(4),n(7);var o=n(30),r=n(2),l=(n(19),n(22),n(18),n(24),n(8),n(3204)),c=n(3205),d=n(3222),h=n(3224),f=n(27),m=n(1);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"HyUploadMoald",provide:function(){return{HyUploadMoaldApp:this}},components:{MarkImgSelect:l.default,PersonalWorks:c.default,RecentlyUsed:d.default,LinkUploadModal:h.default},props:{verId:{type:String,default:""},category:{type:Number,default:2},videoCategory:{type:Number,default:61},scene:{type:String,default:""},isSingleSelect:{type:Boolean,default:!1},isMultiSelect:{type:Boolean,default:!1},uploadObj:{type:Object,default:function(){return{}}},recentlyUsedQueryObj:{type:Object,default:function(){return{}}},personalWorksQueryObj:{type:Object,default:function(){return{}}},tabListKeys:{type:Array,default:function(){return["upload","pick"]}},fileTypes:{type:Array,default:function(){return["image"]}},beforeUpload:{type:Function,default:function(){return!0}},isNeedLogin:{type:Boolean,default:!0},isShowFolderSelect:{type:Boolean,default:!0}},data:function(){return{visible:!1,activeTab:"upload",btnLoading:!1,folderList:[],folderId:"all",usedActList:[],personalActList:[],formData:{},openType:""}},computed:_(_({},Object(m.e)("user",["token"])),{},{uploadTabTitle:function(){var t=this.fileTypes.includes("image"),e=this.fileTypes.includes("video"),title=this.$t("newGenerate33");return e&&!t&&(title=this.$t("selectingMaterialsType3")),title}}),watch:{visible:function(t){"model-edit"===this.openType&&t&&(this.folderId=this.verId||"all")}},methods:{handleChangeTab:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.activeTab!==t&&(this.activeTab=t)},openModal:function(t){if("model-edit"===(null==t?void 0:t.openType)&&(this.openType=t.openType),this.token||!this.isNeedLogin)if(this.visible=!0,this.activeTab=this.tabListKeys[0],"model-edit"===(null==t?void 0:t.openType)){var e={scene:this.scene,model_ver_id:t.verId,model_id:t.model_id};this.getModelVersionSelect(e)}else this.getCollection();else this.$EventBus.$emit("openLoginDialog")},handleClose:function(){this.visible=!1},handleConfirm:function(){var t=this,e="upload"===this.activeTab,n=e?this.usedActList:this.personalActList;if(n.length){var o=n.map((function(t){var e=t||{},n=e.cover,o=e.sub_obj_type,r=e.stream,l=(null==r?void 0:r.url)||(null==r?void 0:r.url2)||(null==r?void 0:r.url3);return{id:t.id,url:7===o?l:n.url,width:n.width||0,height:n.height||0,info:t}}));if(!e){var r=o.map((function(e){return{artwork_id:e.id,img_category:t.category,url:e.url,width:e.width,height:e.height}}));this.addHistoryUsed({items:r})}this.$emit("onConfirm",o),this.visible=!1}},getModelVersionSelect:function(t){var e=this;this.token&&Object(f.O)(t).then((function(t){var n,r=(null===(n=t.data)||void 0===n?void 0:n.items)||[];"model-edit"===e.openType?(e.folderList=r.map((function(t){var n;return{img:null===(n=t.sample)||void 0===n||null===(n=n.banner)||void 0===n?void 0:n.url,label:"".concat(t.model_ver_id===e.verId?e.$t("current_version"):"").concat(t.version_no),value:t.model_ver_id}})),e.folderList.unshift({img:"",label:e.$t("AllWorks"),value:"all"})):e.folderList=r.map((function(t){var n,r=t.artwork_items||[],l=Object(o.a)(r,1)[0],c=void 0===l?{}:l,label="all"===t.id?e.$t("AllWorks"):t.name;return{img:null==c||null===(n=c.banner)||void 0===n?void 0:n.url,label:label,value:t.id}}))}))},getCollection:function(){var t=this;if(this.token){var e=JSON.parse(localStorage.getItem("maxUploadModal"));null!=e&&e.folderId&&(this.folderId=e.folderId),Object(f.I)({type:1,category:2}).then((function(e){var n,r=(null===(n=e.data)||void 0===n?void 0:n.items)||[];t.folderList=r.map((function(e){var n,r=e.artwork_items||[],l=Object(o.a)(r,1)[0],c=void 0===l?{}:l,label="all"===e.id?t.$t("AllWorks"):e.name;return{img:null==c||null===(n=c.banner)||void 0===n?void 0:n.url,label:label,value:e.id}}))}))}},handleChangeFolder:function(t){var e="all"===t?"":t,n={folder_no:e};localStorage.setItem("maxUploadModal",JSON.stringify(n)),this.$refs.PersonalWorksRef.handleFilter("model-edit"===this.openType?t:e)},handleLinkUpload:function(){this.$refs.linkUploadModalRef.show()},addHistoryUsed:function(t,e){var n=this;Object(f.b)(t).then((function(){n.$refs.RecentlyUsedRef&&n.$refs.RecentlyUsedRef.initList(e)}))},handleLinkImage:function(t){var e=this,n={items:[{img_category:this.category,url:t.url,width:t.width,height:t.height}]};this.addHistoryUsed(n,(function(t){e.isSingleSelect&&e.usedCheck([t])}))},usedUploadSuccess:function(t){this.usedActList=t,this.handleConfirm()},usedUploadFail:function(t){this.$emit("onUploadFail",t)},usedCheck:function(t){this.usedActList=t,this.isSingleSelect&&this.handleConfirm()},personalCheck:function(t){this.personalActList=t,this.isSingleSelect&&this.handleConfirm()}}},w=y,C=(n(4010),n(4011),n(0)),component=Object(C.a)(w,(function(){var t=this,e=t._self._c;return e("div",[t.visible?e("el-dialog",{attrs:{visible:t.visible,"destroy-on-close":!0,"custom-class":"upload-image-modal-box","modal-append-to-body":!0,"append-to-body":!0,center:"",width:"1106px"},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"pick-or-upload-image-modal-header"},[e("div",{staticClass:"pick-or-upload-image-modal-header-tabs"},[t.tabListKeys.includes("upload")?e("div",{staticClass:"header-tabs-item",class:["upload"===t.activeTab&&"header-tabs-item-active"],on:{click:function(e){return e.stopPropagation(),t.handleChangeTab("upload")}}},[t._v("\n          "+t._s(t.uploadTabTitle)+"\n        ")]):t._e(),t._v(" "),t.tabListKeys.includes("pick")?e("div",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],staticClass:"header-tabs-item",class:["pick"===t.activeTab&&"header-tabs-item-active"],on:{click:function(e){return e.stopPropagation(),t.handleChangeTab("pick")}}},[t._v("\n          "+t._s(t.$t("newGenerate34"))+"\n        ")]):t._e(),t._v(" "),t.isShowFolderSelect?e("div",{staticClass:"screen-box"},[e("MarkImgSelect",{directives:[{name:"show",rawName:"v-show",value:"pick"===t.activeTab,expression:"activeTab === 'pick'"}],attrs:{list:t.folderList},on:{onChange:t.handleChangeFolder},model:{value:t.folderId,callback:function(e){t.folderId=e},expression:"folderId"}})],1):t._e()])]),t._v(" "),e("div",{staticClass:"pick-or-upload-image-modal-body",attrs:{id:"uploadBodyWraper"}},["upload"===t.activeTab?e("RecentlyUsed",{ref:"RecentlyUsedRef",attrs:{category:t.category,isSingleSelect:t.isSingleSelect,isMultiSelect:t.isMultiSelect,uploadObj:t.uploadObj,queryObj:t.recentlyUsedQueryObj},on:{onLinkUpload:t.handleLinkUpload,onChangeChoose:t.usedCheck,onUploadSuccess:t.usedUploadSuccess,onUploadFail:t.usedUploadFail}}):t._e(),t._v(" "),"pick"===t.activeTab?e("PersonalWorks",{ref:"PersonalWorksRef",attrs:{verId:t.verId,isSingleSelect:t.isSingleSelect,isMultiSelect:t.isMultiSelect,uploadObj:t.uploadObj,openType:t.openType,queryObj:t.personalWorksQueryObj,scene:t.scene},on:{onChangeChoose:t.personalCheck}}):t._e()],1),t._v(" "),e("div",{staticClass:"pick-or-upload-image-modal-bottom",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"pick-or-upload-image-modal-bottom-btn",on:{click:function(e){return e.stopPropagation(),t.handleClose()}}},[t._v("\n        "+t._s(t.$t("Cancel"))+"\n      ")]),t._v(" "),t.isMultiSelect?e("div",{staticClass:"pick-or-upload-image-modal-bottom-btn pick-or-upload-image-modal-bottom-btn-color",on:{click:function(e){return e.stopPropagation(),t.handleConfirm()}}},[t.btnLoading?[e("span",{staticClass:"el-icon-loading"})]:t._e(),t._v("\n        "+t._s(t.$t("Confirm"))+"\n      ")],2):t._e()])]):t._e(),t._v(" "),e("LinkUploadModal",{ref:"linkUploadModalRef",on:{linkImage:t.handleLinkImage}})],1)}),[],!1,null,"d89fec8e",null);e.default=component.exports},845:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(19),n(16),n(1)),l=n(27),c=n(39);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=[1,2,4,8,9,13,14,16],m={name:"HyReportModal",props:{value:{type:Boolean,default:!1},targetItem:{type:Object,default:function(){return{}}},isInner:{type:Boolean,default:!0},isBack:{type:Boolean,default:!1}},data:function(){return{reasonList:[]}},computed:{dialogVisible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{value:function(t){t&&this.getReportReasonList()}},methods:h(h({},Object(r.d)("user",["SET_REPORT_LIST"])),{},{getReportReasonList:function(){var t=this,e=(this.targetItem||{}).obj_type,n=void 0===e?1:e,o={obj_type:f.includes(n)?n:1};Object(l.T)(o).then((function(e){t.reasonList=e.data.items||[]}))},closeModal:function(){this.$emit("input",!1)},handleReasonClick:function(t){var e=this,n=t||{},o=n.title,title=void 0===o?"":o,r=n.desc,desc=void 0===r?"":r,l=this.targetItem||{},d=l.id,h=void 0===d?"":d,f=l.obj_type,m=void 0===f?1:f;if(this.isInner){var v={id:h,remark:"".concat(title,"-").concat(desc),obj_type:m};Object(c.r)(v).then((function(){e.$message({message:e.$t("ReportSuccess"),type:"success"}),e.SET_REPORT_LIST(h),e.isBack&&e.$router.back(),e.closeModal(),e.$emit("onClick",t)}))}}})},v=(n(3905),n(3906),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("el-dialog",t._g(t._b({attrs:{visible:t.dialogVisible,"show-close":!1,"append-to-body":"","custom-class":"hy-report-modal-box",width:"690px"},on:{"update:visible":function(e){t.dialogVisible=e}}},"el-dialog",t.$attrs,!1),t.$listeners),[e("div",{staticClass:"hy-report-content"},[e("div",{staticClass:"header-box"},[e("h1",{staticClass:"title-box"},[t._v(t._s(t.$t("Report")))]),t._v(" "),e("div",{staticClass:"close-box",on:{click:t.closeModal}},[e("i",{staticClass:"iconfont icon-guanbi2"})])]),t._v(" "),e("div",{staticClass:"reason-list-box"},t._l(t.reasonList,(function(n,o){return e("div",{key:"reason"+o,staticClass:"item",on:{click:function(e){return t.handleReasonClick(n)}}},[e("p",{staticClass:"title"},[t._v(t._s((null==n?void 0:n.title)||""))]),t._v(" "),e("p",{staticClass:"desc"},[t._v(t._s((null==n?void 0:n.desc)||""))])])})),0)])])}),[],!1,null,"86c0bd26",null);e.default=component.exports},846:function(t,e,n){"use strict";n.r(e);n(24);var o={name:"RankingStart",props:{num:{type:Number,default:1}},data:function(){return{}},computed:{startImg:function(){var t=this.num<4?this.num:4;return n(3924)("./rankings-".concat(t,".png"))},numColor:function(){return["#3f341e","#3E4555","#634334","#313233"][this.num-1]||"#313233"}}},r=(n(3925),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ranking-start flex_m"},[e("img",{staticClass:"ranking-img",attrs:{src:t.startImg,alt:""}}),t._v(" "),e("div",{staticClass:"ranking-num flex_m",style:{backgroundColor:t.numColor}},[t._v("#"+t._s(t.num))])])}),[],!1,null,"1c2652f6",null);e.default=component.exports},855:function(t,e,n){"use strict";n.r(e);var o={props:{value:{type:Boolean,default:!0},btnText:{type:Array,default:function(){return["ON","OFF"]}}},methods:{change:function(t){this.$emit("input",t)}}},r=(n(4148),n(0)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"switch-seed flex"},[e("button",{staticClass:"switch-btn",class:{active:t.value},on:{click:function(e){return t.change(!0)}}},[t._v("\n    "+t._s(t.$t(t.btnText[0]))+"\n  ")]),t._v(" "),e("button",{staticClass:"switch-btn",class:{active:!t.value},on:{click:function(e){return t.change(!1)}}},[t._v("\n    "+t._s(t.$t(t.btnText[1]))+"\n  ")])])}),[],!1,null,"38c180db",null);e.default=component.exports},864:function(t,e,n){"use strict";n.r(e);n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(11),n(72),n(19),n(16),n(18),n(24),n(26),n(3282)),l=n(1);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"HyBannerCard",data:function(){return{currentObj:{},currentIndex:0,containerWidth:1634,callBackObj:{},selectModelData:{}}},components:{imgBox:r.default},props:{source:{type:String,default:""},info:{type:Object,default:function(){}},isAdditionalModel:{type:Boolean,default:!1},marginBottom:{type:Number,default:41},isModelPop:{type:Boolean,default:!1}},computed:d(d({},Object(l.c)("user",["userInfo","isLoggedIn","getEnableUsePresetConfig"])),{},{isWorkflow:function(){var t=this.currentObj,e=t.obj_type,n=t.sub_obj_type,o=["1",1,"2",2].includes(n);return 13===e&&o},isAiApp:function(){var t=this.currentObj,e=t.obj_type,n=t.sub_obj_type,o=[3,"3",4,"4"].includes(n);return 13===e&&o||14===e},cardLink:function(){var t=this.currentObj,e=t.obj_type,n=t.id,o=t.sub_channel;if(61===e)return n;var r={1:"/explore/detail/".concat(n),2:"/models/detail/".concat(n),5:"/video/".concat(n),9:"/aiChat/".concat(n),14:"/workFlowAppDetail/".concat(n),15:"/ai-video/detail/".concat(n),11:"/editBoard/detail/".concat(n),16:"/ai-audio/detail/".concat(n),60:"/ai-tools/".concat(n)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(n)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(n)):4===e&&"article"===o?this.localePath("/articleDetail/".concat(n)):4===e&&"picture"===o?this.localePath("/artWorkDetail/".concat(n)):this.localePath(r[e]||"/")},scaleRatio:function(){return this.containerWidth/1634},getResponsiveSize:function(){var t=this;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(n,e*t.scaleRatio)}},txtInfoStyle:function(){var t=this.getResponsiveSize(22),e=this.getResponsiveSize(22),n=this.getResponsiveSize(22),o=this.getResponsiveSize(40);return{padding:"".concat(t,"px ").concat(e,"px ").concat(n,"px ").concat(o,"px")}},titleStyle:function(){return{fontSize:"".concat(this.getResponsiveSize(40,24),"px"),letterSpacing:"".concat(this.getResponsiveSize(3),"px")}},descStyle:function(){return{fontSize:"".concat(this.getResponsiveSize(24,14),"px"),letterSpacing:"".concat(this.getResponsiveSize(1),"px"),marginTop:"".concat(this.getResponsiveSize(16),"px")}},actionStyle:function(){return{marginTop:"".concat(this.getResponsiveSize(20),"px")}},btnStyle:function(){return{height:"".concat(this.getResponsiveSize(48,32),"px"),fontSize:"".concat(this.getResponsiveSize(20,14),"px"),letterSpacing:"".concat(this.getResponsiveSize(1),"px"),padding:"0 ".concat(this.getResponsiveSize(45,20),"px")}},btnText:function(){var t;return(null===(t=this.currentObj)||void 0===t?void 0:t.description)||this.$t("seoEraser_btn_1")},itemCoverObj:function(){var t,e;return(null===(t=this.currentObj)||void 0===t?void 0:t.cover)||(null===(e=this.currentObj)||void 0===e?void 0:e.banner)||{}},itemName:function(){var t,e,n;return(null===(t=this.currentObj)||void 0===t?void 0:t.title)||(null===(e=this.currentObj)||void 0===e||null===(e=e.art_model)||void 0===e?void 0:e.name)||(null===(n=this.currentObj)||void 0===n?void 0:n.name)||""},itemCover:function(){var t,e,n,o,r;return(null===(t=this.currentObj)||void 0===t||null===(t=t.stream)||void 0===t?void 0:t.url3)||(null===(e=this.currentObj)||void 0===e||null===(e=e.comfy_ui)||void 0===e?void 0:e.cover)||(null===(n=this.currentObj)||void 0===n||null===(n=n.cover)||void 0===n?void 0:n.url)||(null===(o=this.currentObj)||void 0===o?void 0:o.cover)||(null===(r=this.currentObj)||void 0===r||null===(r=r.banner)||void 0===r?void 0:r.url)||""}}),created:function(){this.currentObj=this.info.elList[0]},mounted:function(){var t=this;this.updateContainerWidth(),setTimeout((function(){t.updateContainerWidth()}),100),window.addEventListener("resize",this.updateContainerWidth),this.handleChange(0)},beforeDestroy:function(){window.removeEventListener("resize",this.updateContainerWidth)},methods:{selectApp:function(){var t,e={name:this.itemName,id:null===(t=this.currentObj)||void 0===t?void 0:t.id,banner:{url:this.itemCover||""}};this.$emit("handleItemSelect",{obj:e,type:"aiApp"})},selectModel:function(){var t,e,n,o,r,l,c,h,f,m,v,_,y,w,C,x,O,k,j,I,S,P,D,L,T,$,A,R;this.callBackObj=d(d({name:this.itemName,id:null===(t=this.currentObj)||void 0===t?void 0:t.id,banner:{url:this.itemCover||"",width:(null===(e=this.itemCoverObj)||void 0===e?void 0:e.width)||0,height:(null===(n=this.itemCoverObj)||void 0===n?void 0:n.height)||0,nsfw:null===(o=this.itemCoverObj)||void 0===o?void 0:o.url,is_nsfw_plus:(null===(r=this.itemCoverObj)||void 0===r?void 0:r.nsfw_plus)||(null===(l=this.currentObj)||void 0===l?void 0:l.nsfw_plus)||!1,green:(null===(c=this.itemCoverObj)||void 0===c?void 0:c.green)||(null===(h=this.currentObj)||void 0===h?void 0:h.green)||0,has_meta:(null===(f=this.itemCoverObj)||void 0===f?void 0:f.has_meta)||0}},this.currentObj),{},{base_model:(null===(m=this.currentObj)||void 0===m?void 0:m.content_sub_type)||(null===(v=this.currentObj)||void 0===v?void 0:v.base_model),type:(null===(_=this.currentObj)||void 0===_?void 0:_.content_type)||(null===(y=this.currentObj)||void 0===y?void 0:y.type),version_name:(null===(w=this.currentObj)||void 0===w?void 0:w.version_name)||(null!==(C=this.currentObj)&&void 0!==C&&C.child&&this.currentObj.child.length>0?null===(x=this.currentObj)||void 0===x?void 0:x.child[0].title:(null===(O=this.currentObj)||void 0===O||null===(O=O.art_model)||void 0===O?void 0:O.version_name)||""),is_agency_fee:(null===(k=this.currentObj)||void 0===k?void 0:k.is_agency_fee)||!1,agency_fee:(null===(j=this.currentObj)||void 0===j?void 0:j.agency_fee)||0,payment_way:(null===(I=this.currentObj)||void 0===I?void 0:I.payment_way)||0,sample_ids:(null===(S=this.currentObj)||void 0===S?void 0:S.sample_ids)||null,model_ver_no:(null===(P=this.currentObj)||void 0===P?void 0:P.model_ver_no)||(null!==(D=this.currentObj)&&void 0!==D&&D.child&&this.currentObj.child.length>0?this.currentObj.child[0].id:(null===(L=this.currentObj)||void 0===L||null===(L=L.art_model)||void 0===L?void 0:L.ver_id)||"")}),this.selectModelData={model:this.callBackObj,model_type:(null===(T=this.currentObj)||void 0===T?void 0:T.content_type)||(null===($=this.currentObj)||void 0===$?void 0:$.type),isPreset:""};var M=1===(null===(A=this.currentObj)||void 0===A?void 0:A.is_preset)||1===(null===(R=this.currentObj)||void 0===R||null===(R=R.art_model)||void 0===R?void 0:R.is_preset)?"preset":"";this.handleConfirm(M)},handleConfirm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(console.log("确认选择!",e,this.getEnableUsePresetConfig,this.callBackObj),this.isAdditionalModel)return this.selectModelData.usePreset=!1,this.selectModelData.isPreset="",void this.sendData();if(this.selectModelData.usePreset=!0,e&&this.getEnableUsePresetConfig){var n,o,r=!0;if(this.isLoggedIn)r=null===(n=this.userInfo)||void 0===n?void 0:n.shot_task_v2_preset_meta_popup,null!==(o=this.userInfo)&&void 0!==o&&o.shot_task_v2_preset_meta_popup||localStorage.setItem("presetModelNotTips",1);else r=!localStorage.getItem("presetModelNotTips");if(r)this.$refs.commonConfirmModal.show({subTitle:"newGenerate60",fromPage:"modelPreset"}).then((function(){t.selectModelData.usePreset=!0,t.selectModelData.isPreset="preset",t.$logEvent("log_actions",{operation:"click_try_it_now",behavior_info:"on_model_config_popup"}),t.sendData()})).catch((function(){t.selectModelData.usePreset=!1,t.sendData()}));else this.selectModelData.usePreset=!0,this.selectModelData.isPreset="preset",this.sendData()}else this.selectModelData.usePreset=!1,this.sendData()},sendData:function(){var t=this;this.isAdditionalModel?this.$emit("handleItemSelect",{obj:this.callBackObj,type:"additionalModel"}):(this.$emit("handleItemSelect",{obj:this.callBackObj,type:"model"}),setTimeout((function(){t.$EventBus.$emit("selectModel",t.selectModelData),t.selectModelData=null}),10))},handleChange:function(t){this.currentIndex=t,this.currentObj=this.info.elList[t],this.$xyLogEvent({front_operation:"exposure",entity_name:"banner_card_change",entity_type:"banner_card",obj_id:this.currentObj.id,obj_desc:"轮播组件切换"})},handlePrev:function(){this.$refs.carousel.prev()},handleNext:function(){this.$refs.carousel.next()},updateContainerWidth:function(){var t=this;this.$nextTick((function(){var element=t.$refs.bannerCard||t.$el;element&&element.clientWidth>0&&(t.containerWidth=element.clientWidth)}))}}},f=h,m=(n(4267),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{ref:"bannerCard",staticClass:"HyBannerCard",style:{marginBottom:"".concat(t.marginBottom,"px"),paddingTop:"".concat(t.isModelPop?21.2:23.5,"%")},attrs:{"data-group":"bannerCard"}},[e("img",{staticClass:"bg",attrs:{src:"https://image.cdn2.seaart.me/static/upload/20250521/db755fb1-0601-4c57-b71b-456a7af0abc3.webp",alt:""}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"imgs"},[e("el-carousel",{ref:"carousel",attrs:{"indicator-position":"none",autoplay:!0,interval:8e3},on:{change:t.handleChange}},t._l(t.info.elList,(function(t,n){return e("el-carousel-item",{key:n},[e("imgBox",{attrs:{item:t}})],1)})),1)],1),t._v(" "),e("div",{staticClass:"txtInfo",style:t.txtInfoStyle},[e("div",{staticClass:"txt"},[e("div",{staticClass:"title my-text",style:t.titleStyle},[t._v(t._s(t.itemName))]),t._v(" "),e("div",{staticClass:"desc my-text",style:t.descStyle},[t._v(t._s(t.currentObj.sub_title))])]),t._v(" "),e("div",{staticClass:"action",style:t.actionStyle},[t.isModelPop&&14===t.currentObj.obj_type&&"app"===t.source?e("div",{staticClass:"btn",style:t.btnStyle,attrs:{"data-event":"bannerCard_selectApp","data-desc":"三合一弹窗ai应用选择回填","data-id":t.currentObj.id},on:{click:t.selectApp}},[t._v("\n          "+t._s(t.btnText)+"\n        ")]):!t.isModelPop||2!==t.currentObj.obj_type||"generateImage"!==t.source&&"generateVideo"!==t.source&&"loraImgModel"!==t.source?e("a",{staticClass:"btn",style:t.btnStyle,attrs:{href:t.cardLink,target:"_blank","data-event":"bannerCard_link","data-id":t.currentObj.id,"data-desc":"轮播组件外链点击跳转"}},[t._v("\n          "+t._s(t.btnText)+"\n        ")]):e("div",{staticClass:"btn",style:t.btnStyle,attrs:{"data-event":"bannerCard_selectModel","data-desc":"三合一弹窗模型选择回填","data-id":t.currentObj.id},on:{click:t.selectModel}},[t._v("\n          "+t._s(t.btnText)+"\n        ")]),t._v(" "),e("div",{staticClass:"indicator"},t._l(t.info.elList,(function(n,o){return e("div",{key:o,staticClass:"dot",class:{active:o===t.currentIndex}})})),0),t._v(" "),e("div",{staticClass:"changeImg"},[e("div",{staticClass:"prev",on:{click:t.handlePrev}},[e("i",{staticClass:"iconfont icon-fanhui"})]),t._v(" "),e("div",{staticClass:"next",on:{click:t.handleNext}},[e("i",{staticClass:"iconfont icon-fanhui"})])])])])])])}),[],!1,null,"6cc1d186",null);e.default=component.exports},865:function(t,e,n){"use strict";n.r(e);n(16),n(24),n(4),n(21);var o=n(108),r=n(251),l=n(10),c={name:"HyVidepEffectsPop",components:{HyColorfulBorder:o.default,FlagItem:r.default},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},computed:{imgUrl:function(){var t,e=this.item,n=e.nsfw,o=e.obj_type;return 1===n&&9===o?"https://image.cdn2.seaart.ai/static/upload/20231207/39b3e881-ae85-415d-b7aa-74182b3b6267.webp":(null===(t=this.item)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.url)||""},isVideo:function(){if(!this.imgUrl)return!1;var t=this.imgUrl.toLowerCase();return[".mp4",".webm",".mov",".avi",".mkv",".flv",".wmv",".m4v",".3gp"].some((function(e){return t.includes(e)}))},cardLink:function(){return this.localePath("/ai-tools/ai-video-generator?m=Effect")},borderColor:function(){var t,e=(null===(t=this.item)||void 0===t?void 0:t.cover_web_color)||{},n=e.deep_color,o=e.shallow_color;return n&&[n,o]}},methods:{imgErrfn:function(t){t.target.style.display="none",Object(l.a)(this.imgUrl),Object(l.y)().length>=10&&(Object(l.P)("imgerr",Object(l.y)()||[]),Object(l.l)())},handleVideoHover:function(t){var video=t.target;video&&video.paused&&video.play().catch((function(t){console.warn("Video autoplay failed:",t)}))},handleVideoLeave:function(t){var video=t.target;video&&!video.paused&&(video.pause(),video.currentTime=0)},handTask:function(){var t=this.item,e=(t.sub_obj_type,t.id);this.$EventBus.$emit("openGenerate",{action:1,data:{portalParams:{targetTab:"effect",id:e}},taskVersion:"v2"}),this.$emit("handleClose"),this.$xyLogEvent({front_operation:"click",entity_name:"effectsPop-click",entity_type:this.item.obj_type,obj_id:this.item.id,obj_info:{vfx_id:this.item.id},obj_index:this.index})}}},d=(n(4268),n(0)),component=Object(d.a)(c,(function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"hy-videp-effects-pop",attrs:{"data-group":"effectsPop"}},[n("a",{staticClass:"block-item banalink",attrs:{href:e.cardLink,target:"_blank"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handTask.apply(null,arguments)}}},[n("HyColorfulBorder",{attrs:{showBorder:e.item.edging,borderColor:e.borderColor}},[n("div",{staticClass:"content-box"},[n("div",{staticClass:"image-item-box"},[e.isVideo?n("div",{staticClass:"play-icon"},[n("i",{staticClass:"iconfont icon-a-Vector2900"})]):e._e(),e._v(" "),e.isVideo?n("video",{staticClass:"bg-image gl-exposure-node",attrs:{src:e.imgUrl,muted:"",loop:"",playsinline:"",preload:"metadata"},domProps:{muted:!0},on:{mouseenter:e.handleVideoHover,mouseleave:e.handleVideoLeave,error:e.imgErrfn}}):n("img",{staticClass:"bg-image gl-exposure-node",attrs:{src:e.imgUrl,alt:(null===(t=e.item)||void 0===t?void 0:t.title)||""},on:{error:e.imgErrfn}})]),e._v(" "),n("div",{staticClass:"text-info-box flex_m"},[n("div",{staticClass:"left flex_m"},[n("FlagItem",{directives:[{name:"show",rawName:"v-show",value:e.item.corner_mark,expression:"item.corner_mark"}],attrs:{type:e.item.corner_mark}}),e._v(" "),n("p",{staticClass:"text-info line-one"},[e._v(e._s(e.item.title))])],1),e._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"btn-box"},[e._v("\n              "+e._s(e.$t("Create"))+"\n            ")])])])])])],1)])}),[],!1,null,"1cf7e9d3",null);e.default=component.exports},868:function(t,e,n){"use strict";n.r(e);n(19),n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=n(3),l=(n(20),n(268));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"VideoTemplateCard",data:function(){return{templateImages:[],params:{count:5,scene:3}}},mounted:function(){this.getTemplateImages()},methods:{getTemplateImages:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.d)(d({},t.params));case 3:n=e.sent,t.templateImages=n.data.image_urls,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("获取模板图片失败:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleSelectTemplate:function(template){this.$emit("selectTemplate",template)}}},f=(n(4284),n(4285),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-template-card",attrs:{"data-group":"creation_ai_video_template"}},[e("div",{staticClass:"video-template-header"},[e("div",{staticClass:"video-template-title"},[t._v(t._s(t.$t("ExampleImages")))]),t._v(" "),e("div",{staticClass:"video-template-change-btn",on:{click:t.getTemplateImages}},[e("i",{staticClass:"el-icon-refresh"}),t._v("\n      "+t._s(t.$t("changeit"))+"\n    ")])]),t._v(" "),e("div",{staticClass:"video-template-list"},t._l(t.templateImages,(function(template,n){return e("div",{key:n,staticClass:"video-template-item",attrs:{"data-event":"creation_ai_video_template_click","data-id":"Number".concat(n+1,": ").concat(template.imgs[0]),"data-desc":"公共视频示例图片点击切换"},on:{click:function(e){return t.handleSelectTemplate(template)}}},[e("el-tooltip",{attrs:{"popper-class":"video-template-image-tooltip",effect:"dark",placement:"top"},scopedSlots:t._u([{key:"content",fn:function(){return[e("img",{staticClass:"video-template-image-tip",attrs:{src:template.imgs[0],alt:"video template"}})]},proxy:!0}],null,!0)},[e("img",{attrs:{src:template.imgs[0],alt:"video template"}})])],1)})),0)])}),[],!1,null,"cebf5590",null);e.default=component.exports},886:function(t,e,n){"use strict";n.r(e);n(448),n(47);var o=n(259),r=n.n(o),l=n(3),c=(n(20),n(24),n(26),n(266)),d={name:"GoogleLogin",data:function(){return{googleLoad:!1,loadingGoogle:null,client:null,timeCode:null}},created:function(){Object(c.c)(this.initGoogle)},beforeDestroy:function(){clearTimeout(this.timeCode)},methods:{clickGoogle:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$refs.googleButton,t.googleLoad){e.next=4;break}return t.$nextTick((function(){n.classList.add("shake-horizontal"),t.timeCode=setTimeout((function(){n.classList.remove("shake-horizontal")}),1e3)})),e.abrupt("return");case 4:t.loadingGoogle=r.a.service({fullscreen:!0});try{t.client.requestAccessToken()}catch(e){console.error("Google login error:",e),null===(o=t.loadingGoogle)||void 0===o||o.close()}case 6:case"end":return e.stop()}}),e)})))()},initGoogle:function(){var t=this;this.googleLoad=!0;var e=this,n="220335438906-n0bj5hqf2rhdkqdl67m5dtrv53b9h74g.apps.googleusercontent.com";this.client=window.google.accounts.oauth2.initTokenClient({client_id:n,scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email openid",ux_mode:"popup",callback:function(n){var o;null===(o=t.loadingGoogle)||void 0===o||o.close(),e.$emit("loginGoogle",{token:n.access_token,type:2})},error_callback:function(t){var n;console.error("Google login error:",t),null===(n=e.loadingGoogle)||void 0===n||n.close()}})},clearCookies:function(){this.$cookies.remove("google_access_token"),this.$cookies.remove("google_token_expire")}}},h=(n(4469),n(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"google-login"},[e("button",{ref:"googleButton",staticClass:"btn",on:{click:t.clickGoogle}},[e("svg-icon",{attrs:{"icon-class":"google"}}),t._v(" "),e("span",[t._v("Google")])],1)])}),[],!1,null,"2c85e77e",null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default})},887:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(448),n(47),n(259)),l=n.n(r),c=(n(26),n(266));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var h={name:"FacebookLogin",data:function(){return{facebookLoad:!1,loadingFacebook:null,fbSignInParams:{scope:"email,user_likes",return_scopes:!0},timeCode:null}},created:function(){Object(c.b)(this.initFacebook)},beforeDestroy:function(){clearTimeout(this.timeCode)},methods:{clickFB:function(){var t=this,e=this.$refs.fbButton;this.facebookLoad?this.loadingFacebook=l.a.service({fullscreen:!0}):this.$nextTick((function(){e.classList.add("shake-horizontal"),t.timeCode=setTimeout((function(){e.classList.remove("shake-horizontal")}),1e3)}))},initFacebook:function(){this.facebookLoad=!0},onFBSignInSuccess:function(t){console.log("onFBSignInSuccess response",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),t.authResponse&&t.authResponse.accessToken&&this.$emit("loginFacebook",{token:t.authResponse.accessToken,type:3}),this.loadingFacebook.close()},onFBSignInError:function(t){console.log("fb- error",t),this.loadingFacebook.close()}}},f=h,m=(n(4470),n(0)),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"facebook-login"},[e("button",{ref:"fbButton",staticClass:"btn",on:{click:t.clickFB}},[e("svg-icon",{attrs:{"icon-class":"facebook"}}),t._v(" "),e("span",[t._v("Facebook")]),t._v(" "),t.facebookLoad?e("fb-signin-button",{attrs:{params:t.fbSignInParams},on:{success:t.onFBSignInSuccess,error:t.onFBSignInError}}):t._e()],1)])}),[],!1,null,"415ad7b9",null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default})},890:function(t,e,n){"use strict";n.r(e);n(19);var o=n(3),r=(n(20),n(6),n(4),n(28),n(671),n(92),{props:{text:{type:String,default:""}},data:function(){return{}},computed:{textSegments:function(){return this.text.split(/([,.!?;，。！？；])/g).filter(Boolean)}},methods:{isPunctuation:function(text){return/^[,.!?;，。！？；]$/.test(text)},handleClick:function(text){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(text.trim());case 3:t.$emit("onCopy",text.trim()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("复制失败:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}}),l=(n(4783),n(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"word-high-box"},[t._l(t.textSegments,(function(n,o){return[t.isPunctuation(n)?e("span",{key:o+n},[t._v(t._s(n))]):e("a",{key:o,staticClass:"text-segment",attrs:{href:"".concat(t.localePath("/search"),"/").concat(n),"data-search-keyword":n,"data-event":"click_prompt_search","data-eventName":"log_action_front_search"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClick(n)}}},[t._v("\n      "+t._s(n)+"\n    ")])]}))],2)}),[],!1,null,"d68e6b0e",null);e.default=component.exports},891:function(t,e,n){"use strict";n.r(e);var o=n(64),r=n(3445),l=n(365),c=n(70),d={name:"HySelectWorkModal",components:{HyWaterfallFlowList:o.default,CustomModalDialog:l.default},props:{isMultiple:{type:Boolean,default:!1}},data:function(){return{visible:!1,model:new r.default,selectList:[]}},computed:{navConfig:function(){var t;return(null===(t=this.model)||void 0===t?void 0:t.navConfig)||[]},waterLoading:function(){var t;return(null===(t=this.model)||void 0===t?void 0:t.loading)||!1},list:function(){var t;return(null===(t=this.model)||void 0===t?void 0:t.list)||[]},currentNav:function(){var t;return(null===(t=this.model)||void 0===t?void 0:t.currentNav)||{}}},methods:{open:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;o||"function"!=typeof n||(o=n,n={}),this.selectList=[],this.model=(null===(t=n)||void 0===t?void 0:t.model)||this.model,this.callback=o;var r=n.nav,nav=void 0===r?c.c.work:r;this.visible=!0,null===(e=this.model)||void 0===e||e.setNavKey(nav).getList()},changeChoose:function(data){this.selectList=data,this.isMultiple||this.handleConfirm()},handleClose:function(){this.visible=!1,this.$emit("close")},handleConfirm:function(){var t,e,n;this.$emit("confirm",this.selectList,null===(t=this.currentNav)||void 0===t?void 0:t.key),null===(e=this.callback)||void 0===e||e.call(this,this.selectList,null===(n=this.currentNav)||void 0===n?void 0:n.key),this.handleClose()},handleNavClick:function(t){this.model.setNav(t)},getList:function(){this.model.getList()}}},h=d,f=(n(4789),n(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"select-work-modal dot-group",attrs:{visible:t.visible,width:"1106px","append-to-body":!0,"modal-append-to-body":!0,"destroy-on-close":!0},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"select-work-modal-content"},[e("div",{staticClass:"select-work-modal-content-header"},[e("div",{staticClass:"select-work-nav"},t._l(t.navConfig,(function(n){var o;return e("div",{key:n.key,staticClass:"select-work-nav-item",class:{active:(null===(o=t.currentNav)||void 0===o?void 0:o.key)===n.key},attrs:{"data-event":n.dataEvent,"data-desc":n.dataDesc},on:{click:function(e){return t.handleNavClick(n)}}},[t._v("\n          "+t._s(t.$t(n.i18nKey))+"\n        ")])})),0)]),t._v(" "),e("div",{staticClass:"select-work-modal-content-body",attrs:{id:"selectWorkBodyWraper"}},[e("div",{ref:"wraper",staticClass:"personal-works"},[e("HyWaterfallFlowList",{ref:"HyWaterfallFlowListRef",attrs:{list:t.list,containerRef:t.$refs.wraper,rollBox:"selectWorkBodyWraper",logGroupName:"waterfall-list",waterAllListFn:function(){return t.list},isSingleSelect:!t.isMultiple,isMultiSelect:t.isMultiple,isPureImg:""},on:{load:t.getList,onChangeChoose:t.changeChoose}})],1),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waterLoading,expression:"waterLoading"}],staticClass:"water-loadBox"}),t._v(" "),0!==t.list.length||t.waterLoading?t._e():e("div",{staticClass:"water-no"},[e("img",{attrs:{src:"https://image.cdn2.seaart.me/static/upload/20250613/d2399f5b-79b7-4cd5-a6f5-06f9924689b7.png",alt:"no"}}),t._v(" "),e("p",[t._v("暂无数据")])])]),t._v(" "),e("div",{staticClass:"select-work-modal-content-footer"},[e("div",{staticClass:"select-work-footer-button cancel",attrs:{"data-event":"click-select-work-modal-cancel","data-desc":"点击选择作品modal取消按钮"},on:{click:t.handleClose}},[t._v("\n        取消\n      ")]),t._v(" "),t.isMultiple?e("div",{staticClass:"select-work-footer-button confirm",attrs:{"data-event":"click-select-work-modal-confirm","data-desc":"点击选择作品modal确定按钮"},on:{click:t.handleConfirm}},[t._v("\n        确定\n      ")]):t._e()])])])}),[],!1,null,"4bdab610",null);e.default=component.exports},893:function(t,e,n){"use strict";n.r(e);n(11),n(6),n(12),n(13),n(8),n(4),n(7);var o=n(2),r=(n(16),n(21),n(26),n(10));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=["one_click_generate_video","oneClickMove","oneClickDance","oneClickKiss","oneClickHug","oneClickSqueeze","oneClickBikini","oneClickFight","oneClickSexy","oneClickFly"],h=["one_click_face_swap","one_click_cartoon_style","one_click_pixar_style"],f={name:"HyTipsButton",props:{data:{type:Object,default:function(){}}},computed:{type:function(){var t;return Object(r.v)(null===(t=this.data)||void 0===t?void 0:t.workUrl)}},data:function(){return{btnImg:n(1445),isInit:!1,typingText:"",typingIndex:0,typingTimer:null}},watch:{data:function(t){this.init()}},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.typingTimer)},methods:{init:function(){var t=this;!this.isInit&&this.data.workUrl&&(this.isInit=!0,setTimeout((function(){t.startTyping()}),3e3))},openPlay:function(){var t=this;if(this.data.workUrl){this.$EventBus.$emit("showDialog",{name:"HyAssembleModal",data:c(c({doorCode:"video"===this.type?"aiVideoApp":"aiImageApp"},this.data),{},{onAfterAction:function(){t.$EventBus.$emit("hideDialog","HyAssembleModal")}})});var path=this.$route.path,e="";path.includes("explore/detail")&&(e="on_image_detail_page"),path.includes("artWorkDetail")&&(e="on_post_detail_page"),this.$logEvent("log_actions",{operation:"click_play_around",behavior_info:e})}},startTyping:function(){var t=this,e=this.getRandomText("image"===this.type?d:h,"image"===this.type);e="".concat(this.$t(e),"~"),this.typingTimer=setInterval((function(){t.typingText+=e[t.typingIndex],t.typingIndex++,t.typingIndex>=e.length&&(t.typingIndex=0,t.typingTimer&&clearInterval(t.typingTimer),t.clearTyping())}),200)},clearTyping:function(){var t=this;setTimeout((function(){t.typingText="",t.typingIndex=0,t.typingTimer&&clearInterval(t.typingTimer)}),1e4)},getRandomText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t&&0!==t.length?1===t.length?t[0]:e?Math.random()<.2?t[0]:t[Math.floor(Math.random()*(t.length-1))+1]:t[Math.floor(Math.random()*t.length)]:""}}},m=f,v=(n(4841),n(0)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tips-button-box"},[e("div",{staticClass:"btn-img",on:{click:t.openPlay}},[e("img",{attrs:{src:t.btnImg,alt:"image"}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.typingText,expression:"typingText"}],staticClass:"tips-text"},[t._v(t._s(t.typingText))])])}),[],!1,null,"3ddb6ec6",null);e.default=component.exports}}]);